<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules\\iterall\\README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#javascript-iterators-and-asynciterators-for-all">JavaScript Iterators and AsyncIterators for all!</a>
      </div>

      <div class="heading h2">
        <a href="#why-use-iterators">Why use Iterators?</a>
      </div>

      <div class="heading h2">
        <a href="#why-use-asynciterators">Why use AsyncIterators?</a>
      </div>

      <div class="heading h2">
        <a href="#faq">FAQ</a>
      </div>

      <div class="heading h2">
        <a href="#api">API</a>
      </div>

      <div class="heading h4">
        <a href="#table-of-contents">Table of Contents</a>
      </div>

      <div class="heading h3">
        <a href="#iterable">Iterable</a>
      </div>

      <div class="heading h3">
        <a href="#iterator">Iterator</a>
      </div>

      <div class="heading h3">
        <a href="#dollardollariterator">$$iterator</a>
      </div>

      <div class="heading h3">
        <a href="#isiterable">isIterable</a>
      </div>

      <div class="heading h3">
        <a href="#isarraylike">isArrayLike</a>
      </div>

      <div class="heading h3">
        <a href="#iscollection">isCollection</a>
      </div>

      <div class="heading h3">
        <a href="#getiterator">getIterator</a>
      </div>

      <div class="heading h3">
        <a href="#getiteratormethod">getIteratorMethod</a>
      </div>

      <div class="heading h3">
        <a href="#createiterator">createIterator</a>
      </div>

      <div class="heading h3">
        <a href="#foreach">forEach</a>
      </div>

      <div class="heading h3">
        <a href="#asynciterable">AsyncIterable</a>
      </div>

      <div class="heading h3">
        <a href="#asynciterator">AsyncIterator</a>
      </div>

      <div class="heading h3">
        <a href="#dollardollarasynciterator">$$asyncIterator</a>
      </div>

      <div class="heading h3">
        <a href="#isasynciterable">isAsyncIterable</a>
      </div>

      <div class="heading h3">
        <a href="#getasynciterator">getAsyncIterator</a>
      </div>

      <div class="heading h3">
        <a href="#getasynciteratormethod">getAsyncIteratorMethod</a>
      </div>

      <div class="heading h3">
        <a href="#createasynciterator">createAsyncIterator</a>
      </div>

      <div class="heading h3">
        <a href="#forawaiteach">forAwaitEach</a>
      </div>

      <div class="heading h2">
        <a href="#contributing">Contributing</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="javascript-iterators-and-asynciterators-for-all">
  <h1>
    <a href="#javascript-iterators-and-asynciterators-for-all" name="javascript-iterators-and-asynciterators-for-all" class="pilcrow"></a>
JavaScript <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols">Iterators</a> and <a href="https://tc39.github.io/proposal-async-iteration/">AsyncIterators</a> for all!
  </h1>
</div>
<p><a href="https://travis-ci.org/leebyron/iterall"><img src="https://travis-ci.org/leebyron/iterall.svg?branch=master" alt="Build Status"></a> <a href="https://coveralls.io/github/leebyron/iterall?branch=master"><img src="https://coveralls.io/repos/github/leebyron/iterall/badge.svg?branch=master" alt="Coverage Status"></a> <img src="https://img.shields.io/badge/min%20gzip%20size-757%20B-blue.svg" alt="710 bytes minified and gzipped"></p>
<p><code>iterall</code> provides a few crucial utilities for implementing and working with
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols">Iterables</a>, <a href="https://tc39.github.io/proposal-async-iteration/">Async Iterables</a> and
<a href="http://www.2ality.com/2013/05/quirk-array-like-objects.html">Array-likes</a> in all JavaScript environments, even old versions of
Internet Explorer, in a tiny library weighing well under 1KB when minified
and gzipped.</p>
<p>This is a library for libraries. If your library takes Arrays as input, accept
Iterables instead. If your library implements a new data-structure, make
it Iterable.</p>
<p>When installed via <code>npm</code>, <code>iterall</code> comes complete with <a href="https://flowtype.org/">Flow</a> and
<a href="http://www.typescriptlang.org/">TypeScript</a> definition files. Don't want to take the dependency? Feel free to
copy code directly from this repository.</p>
<pre><code class="js"><span class="hljs-comment">// Limited to only Arrays üò•</span>
<span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(thing)) {
  thing.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item, i</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Index: '</span> + i, item)
  })
}

<span class="hljs-comment">// Accepts all Iterables and Array-likes, in any JavaScript environment! üéâ</span>
<span class="hljs-keyword">var</span> isCollection = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).isCollection
<span class="hljs-keyword">var</span> forEach = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).forEach

<span class="hljs-keyword">if</span> (isCollection(thing)) {
  forEach(thing, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item, i</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Index: '</span> + i, item)
  })
}

<span class="hljs-comment">// Accepts all AsyncIterators, in any JavaScript environment! ‚è≥</span>
<span class="hljs-keyword">var</span> forAwaitEach = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).forAwaitEach

forAwaitEach(thing, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item, i</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Index: '</span> + i, item)
}).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Done'</span>)
})
</code></pre>
<div class="pilwrap" id="why-use-iterators">
  <h2>
    <a href="#why-use-iterators" name="why-use-iterators" class="pilcrow"></a>
Why use Iterators?
  </h2>
</div>
<p>For most of JavaScript's history it has provided two collection data-structures:
the <code>Object</code> and the <code>Array</code>. These collections can conceptually describe nearly
all data and so it's no suprise that libraries expecting lists of
things standardized on expecting and checking for an Array. This pattern even
resulted in the addition of a new method in ES5: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray"><code>Array.isArray()</code></a>.</p>
<p>As JavaScript applications grew in complexity, moved to the <a href="https://nodejs.org/">server</a>
where CPU is a constrained resource, faced new problems and implemented new
algorithms, new data-structures are often required. With options from
<a href="https://en.wikipedia.org/wiki/Linked_list">linked lists</a> to <a href="https://en.wikipedia.org/wiki/Hash_array_mapped_trie">HAMTs</a> developers can use what is most
efficient and provides the right properties for their program.</p>
<p>However none of these new data-structures can be used in libraries where an
<code>Array</code> is expected, which means developers are often stuck between abandoning
their favorite libraries or limiting their data-structure choices at the cost of
efficiency or usefulness.</p>
<p>To enable many related data-structures to be used interchangably we need a
<em><a href="https://en.wikipedia.org/wiki/Protocol_(object-oriented_programming)">protocol</a></em>, and luckily for us ES2015 introduced the
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols">Iteration Protocols</a> to describe all list-like data-structures which
can be iterated. That includes not just the new-to-ES2015 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a>
collections but also existing ones like <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments">arguments</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/API/NodeList">NodeList</a> and the
various <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray">TypedArray</a>, all of which return <code>false</code> for <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray"><code>Array.isArray()</code></a>
and in ES2015 implement the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols">Iterator protocol</a>.</p>
<p>While Iterators are defined in ES2015, they <em>do not require</em> ES2015 to work
correctly. In fact, Iterators were first introduced in 2012 in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#Iterator_property_and_iterator_symbol">Firefox v17</a>. Rather than using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/iterator"><code>Symbol.iterator</code></a>, they used the property name <code>&quot;@@iterator&quot;</code> (in fact, the ECMAScript
spec still refers to well-known <code>Symbols</code> using this <code>@@</code> shorthand). By falling
back to use <code>&quot;@@iterator&quot;</code> when <code>Symbol.iterator</code> is not defined, Iterators can
be both safely defined and used by <em>any version of JavaScript</em>.</p>
<p>Not only were Iterables defined in ES2015, they were also implemented by the
built-in data-structures including <a href="(https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/@@iterator)">Array</a>. Older JavaScript
environments do not implement <code>Array.prototype[@@iterator]()</code>, however this is
only a minor problem. JavaScript has another related and much older protocol:
<a href="http://www.2ality.com/2013/05/quirk-array-like-objects.html">Array-like</a>. A value is &quot;Array-like&quot; if it has a numeric <code>length</code> property and
indexed access, but does not necessarily have methods like <code>.push()</code> or <code>.forEach()</code>.
Much like <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from"><code>Array.from</code></a>, <code>iterall</code>'s <code>forEach()</code> and
<code>createIterator()</code> methods also accept collections which are not Iterable but
are Array-like. This means that <code>iterall</code> can be used with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>,
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments">arguments</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/API/NodeList">NodeList</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray">TypedArray</a> and other Array-like collections
regardless of the JavaScript environment.</p>
<p>When libraries only accept Arrays as input, they stick developers with a tough
choice: limit which data-structures can be used or limit the ability to use that
library. Accepting Iterables removes this false dichotomy, and allows libraries
to be more generally useful. There's no need to limit to ES2015 environments and
bleeding-edge browsers to accept <code>Iterable</code>.</p>
<p>Only using Arrays can limit the efficiency and usefulness of your application
code, but custom data-structures can often feel like a fish out of water in
JavaScript programs, only working with code written specifically for it.
Protocols like <code>Iterable</code> helps these new data-structures work with more
libraries and built-in JavaScript behavior. There's no need to limit to ES2015
environments and bleeding-edge browsers to implement <code>Iterable</code>.</p>
<div class="pilwrap" id="why-use-asynciterators">
  <h2>
    <a href="#why-use-asynciterators" name="why-use-asynciterators" class="pilcrow"></a>
Why use AsyncIterators?
  </h2>
</div>
<p>In the same way that <code>Iterator</code> provides a common interface for accessing many
different kinds of data-structures, <code>AsyncIterator</code> provides a common interface
over an asynchronous sequence of values (similar to Stream or Observable).</p>
<p>Async Iterators are not yet an official part of JavaScript, however they're
a &quot;Stage 3&quot; proposal to be added, and browser vendors are
<a href="https://bugs.chromium.org/p/v8/issues/detail?id=5855">working on adding support</a>.
However, Async Iterators can be both safely defined and used today by
<em>any version of JavaScript</em>, by using the utilities in <code>iterall</code>.</p>
<div class="pilwrap" id="faq">
  <h2>
    <a href="#faq" name="faq" class="pilcrow"></a>
FAQ
  </h2>
</div>
<blockquote>
<p>Aren't Iterables slower than Arrays? I want the highest performance possible.</p>
</blockquote>
<p>Arrays <em>are</em> Iterables. Iterable is a protocol that Arrays adhere to in ES2015.
It's true that creating an Iterator and stepping through it can present some
overhead compared to a simple for-loop or <code>array.forEach</code>. However <code>iterall</code>'s
<code>forEach</code> will delegate directly to <code>array.forEach</code> and will use a for-loop for
Array-like objects, ensuring the best performance for Arrays while still
maintaining support for all Iterables.</p>
<blockquote>
<p>Should my library functions also return Iterables instead of Arrays? Won't
that be limiting?</p>
</blockquote>
<p>That could definitely be limiting if you return some generic Iterable where you
could have returned an Array, and (depending on context) I wouldn't recommend
you stop returning Arrays from functions if that's what you're doing today.
However if your functions are returning some collection data-structure that is
<em>not</em> an Array, you should certainly consider having them implement the
Iterable protocol so they can be more widely useful.</p>
<p>Here are a few examples:</p>
<p>In <a href="https://facebook.github.io/react/">React</a>, render functions are expected to return view trees, where any
node (e.g. a <code>&lt;ul&gt;</code>) can have many children (e.g. many <code>&lt;li&gt;</code>). While it could
expect those children to always be represented as an Array, that would limit
React's usefulness - other data-structures couldn't be used. Instead, React
expects those children to be represented as an <em>Iterable</em>. That allows it to
continue to accept Arrays, but also accept many other data-structures.</p>
<p><a href="http://facebook.github.io/immutable-js/">Immutable.js</a> implements many new kinds of data-structures (including <a href="https://en.wikipedia.org/wiki/Hash_array_mapped_trie">HAMT</a>)
all of which implement <em>Iterable</em>, which allows them to be used in many of
JavaScript's built-in functions, but also allows them to be used by many
libraries which accept Iterables, including React. Also, similar to
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from"><code>Array.from</code></a>, Immutable.js's constructors accept not only Arrays,
but any <em>Iterable</em>, allowing you to build any of these new data-structures from
any other data-structure.</p>
<blockquote>
<p>Where are all the other functions like <code>map</code>, <code>filter</code>, and <code>reduce</code>?</p>
</blockquote>
<p>Those &quot;higher order&quot; collection functions are awesome, but they don't belong in
this library. Instead this library should be used as a basis for building such
a library (as it should be used for many other libraries). The <code>forEach</code>
function provided by <code>iterall</code> can be used as the underpinning for these.</p>
<p>As an example:</p>
<pre><code class="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reduce</span> (<span class="hljs-params">collection, reducer, initial</span>) </span>{
  <span class="hljs-keyword">var</span> reduced = initial
  forEach(collection, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{
    reduced = reducer(reduced, item)
  })
  <span class="hljs-keyword">return</span> reduced
}
</code></pre>
<blockquote>
<p>How do I break out of a <code>forEach</code> or <code>forAwaitEach</code> loop early?</p>
</blockquote>
<p>While <code>for of</code> and <code>for await of</code> loops allow breaking out of a loop early with
a <code>break</code> statement, the <code>forEach()</code> and <code>forAwaitEach()</code> functions (much like
Array's <code>forEach</code>)  do not support early breaking.</p>
<p>Similar to the &quot;higher order&quot; functions described above, this library can be the
basis for this extended behavior. To support early break outs, you can use a
wrapping function supporting early breaking by throwing a <code>BREAK</code> sentinel value
from the callback and using a try/catch block to early break:</p>
<pre><code class="js"><span class="hljs-keyword">const</span> BREAK = {}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEachBreakable</span> (<span class="hljs-params">collection, callback</span>) </span>{
  <span class="hljs-keyword">try</span> {
    forEach(collection, callback)
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-keyword">if</span> (error !== BREAK) {
      <span class="hljs-keyword">throw</span> error
    }
  }
}

<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forAwaitEachBreakable</span> (<span class="hljs-params">collection, callback</span>) </span>{
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> forAwaitEach(collection, callback)
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-keyword">if</span> (error !== BREAK) {
      <span class="hljs-keyword">throw</span> error
    }
  }
}

<span class="hljs-comment">// Example usages:</span>
forEachBreakable(obj, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) </span>{
  <span class="hljs-keyword">if</span> (shouldBreakOn(value)) {
    <span class="hljs-keyword">throw</span> BREAK
  }
  <span class="hljs-built_in">console</span>.log(value)
})

forAwaitEachBreakable(obj, <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">await</span> shouldBreakOn(value)) {
    <span class="hljs-keyword">throw</span> BREAK
  }
  <span class="hljs-built_in">console</span>.log(value)
})
</code></pre>
<p>Note: This technique also works with the native Array <code>forEach</code> method!</p>
<!--

NOTE TO CONTRIBUTORS

The API section below is AUTOMATICALLY GENERATED via `npm run docs`. Any direct
edits to this section will cause Travis CI to report a failure. The source of
this documentation is index.js. Edit that file then run `npm run docs` to
automatically update README.md

-->
<div class="pilwrap" id="api">
  <h2>
    <a href="#api" name="api" class="pilcrow"></a>
API
  </h2>
</div>
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->
<div class="pilwrap" id="table-of-contents">
  <h4>
    <a href="#table-of-contents" name="table-of-contents" class="pilcrow"></a>
Table of Contents
  </h4>
</div>
<ul>
<li><a href="#iterable.html">Iterable</a></li>
<li><a href="#iterator.html">Iterator</a></li>
<li><a href="#iterator-1.html">$$iterator</a></li>
<li><a href="#isiterable.html">isIterable</a></li>
<li><a href="#isarraylike.html">isArrayLike</a></li>
<li><a href="#iscollection.html">isCollection</a></li>
<li><a href="#getiterator.html">getIterator</a></li>
<li><a href="#getiteratormethod.html">getIteratorMethod</a></li>
<li><a href="#createiterator.html">createIterator</a></li>
<li><a href="#foreach.html">forEach</a></li>
<li><a href="#asynciterable.html">AsyncIterable</a></li>
<li><a href="#asynciterator.html">AsyncIterator</a></li>
<li><a href="#asynciterator-1.html">$$asyncIterator</a></li>
<li><a href="#isasynciterable.html">isAsyncIterable</a></li>
<li><a href="#getasynciterator.html">getAsyncIterator</a></li>
<li><a href="#getasynciteratormethod.html">getAsyncIteratorMethod</a></li>
<li><a href="#createasynciterator.html">createAsyncIterator</a></li>
<li><a href="#forawaiteach.html">forAwaitEach</a></li>
</ul>
<div class="pilwrap" id="iterable">
  <h3>
    <a href="#iterable" name="iterable" class="pilcrow"></a>
Iterable
  </h3>
</div>
<ul>
<li><strong>See: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterable">MDN Iteration protocols</a></strong></li>
</ul>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterable">Iterable</a>
is a <em>protocol</em> which when implemented allows a JavaScript object to define
their iteration behavior, such as what values are looped over in a
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of"><code>for...of</code></a>
loop or <code>iterall</code>'s <code>forEach</code> function. Many <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#Builtin_iterables">built-in types</a>
implement the Iterable protocol, including <code>Array</code> and <code>Map</code>.</p>
<p>While described by the <a href="http://www.ecma-international.org/ecma-262/6.0/#sec-iterable-interface">ES2015 version of JavaScript</a>
it can be utilized by any version of JavaScript.</p>
<div class="pilwrap" id="iterator">
  <h3>
    <a href="#iterator" name="iterator" class="pilcrow"></a>
Iterator
  </h3>
</div>
<ul>
<li><strong>See: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterator">MDN Iteration protocols</a></strong></li>
</ul>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterator">Iterator</a>
is a <em>protocol</em> which describes a standard way to produce a sequence of
values, typically the values of the Iterable represented by this Iterator.</p>
<p>While described by the <a href="http://www.ecma-international.org/ecma-262/6.0/#sec-iterator-interface">ES2015 version of JavaScript</a>
it can be utilized by any version of JavaScript.</p>
<div class="pilwrap" id="dollardollariterator">
  <h3>
    <a href="#dollardollariterator" name="dollardollariterator" class="pilcrow"></a>
$$iterator
  </h3>
</div>
<p>A property name to be used as the name of an Iterable's method responsible
for producing an Iterator, referred to as <code>@@iterator</code>. Typically represents
the value <code>Symbol.iterator</code> but falls back to the string <code>&quot;@@iterator&quot;</code> when
<code>Symbol.iterator</code> is not defined.</p>
<p>Use <code>$$iterator</code> for defining new Iterables instead of <code>Symbol.iterator</code>,
but do not use it for accessing existing Iterables, instead use
<a href="#getiterator.html">getIterator</a> or <a href="#isiterable.html">isIterable</a>.</p>
<p><strong>Examples</strong></p>
<pre><code class="javascript"><span class="hljs-keyword">var</span> $$iterator = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).$$iterator

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Counter</span> (<span class="hljs-params">to</span>) </span>{
  <span class="hljs-keyword">this</span>.to = to
}

Counter.prototype[$$iterator] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">to</span>: <span class="hljs-keyword">this</span>.to,
    <span class="hljs-attr">num</span>: <span class="hljs-number">0</span>,
    next () {
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.num &gt;= <span class="hljs-keyword">this</span>.to) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">value</span>: <span class="hljs-literal">undefined</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> }
      }
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">value</span>: <span class="hljs-keyword">this</span>.num++, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> }
    }
  }
}

<span class="hljs-keyword">var</span> counter = <span class="hljs-keyword">new</span> Counter(<span class="hljs-number">3</span>)
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> number <span class="hljs-keyword">of</span> counter) {
  <span class="hljs-built_in">console</span>.log(number) <span class="hljs-comment">// 0 ... 1 ... 2</span>
}
</code></pre>
<div class="pilwrap" id="isiterable">
  <h3>
    <a href="#isiterable" name="isiterable" class="pilcrow"></a>
isIterable
  </h3>
</div>
<p>Returns true if the provided object implements the Iterator protocol via
either implementing a <code>Symbol.iterator</code> or <code>&quot;@@iterator&quot;</code> method.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>obj</code>  A value which might implement the Iterable protocol.</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="javascript"><span class="hljs-keyword">var</span> isIterable = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).isIterable
isIterable([ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> ]) <span class="hljs-comment">// true</span>
isIterable(<span class="hljs-string">'ABC'</span>) <span class="hljs-comment">// true</span>
isIterable({ <span class="hljs-attr">length</span>: <span class="hljs-number">1</span>, <span class="hljs-number">0</span>: <span class="hljs-string">'Alpha'</span> }) <span class="hljs-comment">// false</span>
isIterable({ <span class="hljs-attr">key</span>: <span class="hljs-string">'value'</span> }) <span class="hljs-comment">// false</span>
isIterable(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>()) <span class="hljs-comment">// true</span>
</code></pre>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></strong> true if Iterable.</p>
<div class="pilwrap" id="isarraylike">
  <h3>
    <a href="#isarraylike" name="isarraylike" class="pilcrow"></a>
isArrayLike
  </h3>
</div>
<p>Returns true if the provided object implements the Array-like protocol via
defining a positive-integer <code>length</code> property.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>obj</code>  A value which might implement the Array-like protocol.</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="javascript"><span class="hljs-keyword">var</span> isArrayLike = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).isArrayLike
isArrayLike([ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> ]) <span class="hljs-comment">// true</span>
isArrayLike(<span class="hljs-string">'ABC'</span>) <span class="hljs-comment">// true</span>
isArrayLike({ <span class="hljs-attr">length</span>: <span class="hljs-number">1</span>, <span class="hljs-number">0</span>: <span class="hljs-string">'Alpha'</span> }) <span class="hljs-comment">// true</span>
isArrayLike({ <span class="hljs-attr">key</span>: <span class="hljs-string">'value'</span> }) <span class="hljs-comment">// false</span>
isArrayLike(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>()) <span class="hljs-comment">// false</span>
</code></pre>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></strong> true if Array-like.</p>
<div class="pilwrap" id="iscollection">
  <h3>
    <a href="#iscollection" name="iscollection" class="pilcrow"></a>
isCollection
  </h3>
</div>
<p>Returns true if the provided object is an Object (i.e. not a string literal)
and is either Iterable or Array-like.</p>
<p>This may be used in place of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray">Array.isArray()</a> to determine if an
object should be iterated-over. It always excludes string literals and
includes Arrays (regardless of if it is Iterable). It also includes other
Array-like objects such as NodeList, TypedArray, and Buffer.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>obj</code>  An Object value which might implement the Iterable or Array-like protocols.</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="javascript"><span class="hljs-keyword">var</span> isCollection = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).isCollection
isCollection([ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> ]) <span class="hljs-comment">// true</span>
isCollection(<span class="hljs-string">'ABC'</span>) <span class="hljs-comment">// false</span>
isCollection({ <span class="hljs-attr">length</span>: <span class="hljs-number">1</span>, <span class="hljs-number">0</span>: <span class="hljs-string">'Alpha'</span> }) <span class="hljs-comment">// true</span>
isCollection({ <span class="hljs-attr">key</span>: <span class="hljs-string">'value'</span> }) <span class="hljs-comment">// false</span>
isCollection(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>()) <span class="hljs-comment">// true</span>
</code></pre>
<pre><code class="javascript"><span class="hljs-keyword">var</span> forEach = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).forEach
<span class="hljs-keyword">if</span> (isCollection(obj)) {
  forEach(obj, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) </span>{
    <span class="hljs-built_in">console</span>.log(value)
  })
}
</code></pre>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></strong> true if Iterable or Array-like Object.</p>
<div class="pilwrap" id="getiterator">
  <h3>
    <a href="#getiterator" name="getiterator" class="pilcrow"></a>
getIterator
  </h3>
</div>
<p>If the provided object implements the Iterator protocol, its Iterator object
is returned. Otherwise returns undefined.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>iterable</code> <strong><a href="#iterable.html">Iterable</a>&lt;T&gt;</strong> An Iterable object which is the source of an Iterator.</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="javascript"><span class="hljs-keyword">var</span> getIterator = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).getIterator
<span class="hljs-keyword">var</span> iterator = getIterator([ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> ])
iterator.next() <span class="hljs-comment">// { value: 1, done: false }</span>
iterator.next() <span class="hljs-comment">// { value: 2, done: false }</span>
iterator.next() <span class="hljs-comment">// { value: 3, done: false }</span>
iterator.next() <span class="hljs-comment">// { value: undefined, done: true }</span>
</code></pre>
<p>Returns <strong><a href="#iterator.html">Iterator</a>&lt;T&gt;</strong> new Iterator instance.</p>
<div class="pilwrap" id="getiteratormethod">
  <h3>
    <a href="#getiteratormethod" name="getiteratormethod" class="pilcrow"></a>
getIteratorMethod
  </h3>
</div>
<p>If the provided object implements the Iterator protocol, the method
responsible for producing its Iterator object is returned.</p>
<p>This is used in rare cases for performance tuning. This method must be called
with obj as the contextual this-argument.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>iterable</code> <strong><a href="#iterable.html">Iterable</a>&lt;T&gt;</strong> An Iterable object which defines an <code>@@iterator</code> method.</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="javascript"><span class="hljs-keyword">var</span> getIteratorMethod = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).getIteratorMethod
<span class="hljs-keyword">var</span> myArray = [ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> ]
<span class="hljs-keyword">var</span> method = getIteratorMethod(myArray)
<span class="hljs-keyword">if</span> (method) {
  <span class="hljs-keyword">var</span> iterator = method.call(myArray)
}
</code></pre>
<p>Returns <strong>function (): <a href="#iterator.html">Iterator</a>&lt;T&gt;</strong> <code>@@iterator</code> method.</p>
<div class="pilwrap" id="createiterator">
  <h3>
    <a href="#createiterator" name="createiterator" class="pilcrow"></a>
createIterator
  </h3>
</div>
<p>Similar to <a href="#getiterator.html">getIterator</a>, this method returns a new Iterator given an
Iterable. However it will also create an Iterator for a non-Iterable
Array-like collection, such as Array in a non-ES2015 environment.</p>
<p><code>createIterator</code> is complimentary to <code>forEach</code>, but allows a &quot;pull&quot;-based
iteration as opposed to <code>forEach</code>'s &quot;push&quot;-based iteration.</p>
<p><code>createIterator</code> produces an Iterator for Array-likes with the same behavior
as ArrayIteratorPrototype described in the ECMAScript specification, and
does <em>not</em> skip over &quot;holes&quot;.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>collection</code> <strong>(<a href="#iterable.html">Iterable</a>&lt;T&gt; | {length: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>})</strong> An Iterable or Array-like object to produce an Iterator.</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="javascript"><span class="hljs-keyword">var</span> createIterator = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).createIterator

<span class="hljs-keyword">var</span> myArraylike = { <span class="hljs-attr">length</span>: <span class="hljs-number">3</span>, <span class="hljs-number">0</span>: <span class="hljs-string">'Alpha'</span>, <span class="hljs-number">1</span>: <span class="hljs-string">'Bravo'</span>, <span class="hljs-number">2</span>: <span class="hljs-string">'Charlie'</span> }
<span class="hljs-keyword">var</span> iterator = createIterator(myArraylike)
iterator.next() <span class="hljs-comment">// { value: 'Alpha', done: false }</span>
iterator.next() <span class="hljs-comment">// { value: 'Bravo', done: false }</span>
iterator.next() <span class="hljs-comment">// { value: 'Charlie', done: false }</span>
iterator.next() <span class="hljs-comment">// { value: undefined, done: true }</span>
</code></pre>
<p>Returns <strong><a href="#iterator.html">Iterator</a>&lt;T&gt;</strong> new Iterator instance.</p>
<div class="pilwrap" id="foreach">
  <h3>
    <a href="#foreach" name="foreach" class="pilcrow"></a>
forEach
  </h3>
</div>
<p>Given an object which either implements the Iterable protocol or is
Array-like, iterate over it, calling the <code>callback</code> at each iteration.</p>
<p>Use <code>forEach</code> where you would expect to use a <code>for ... of</code> loop in ES6.
However <code>forEach</code> adheres to the behavior of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach">Array#forEach</a> described in
the ECMAScript specification, skipping over &quot;holes&quot; in Array-likes. It will
also delegate to a <code>forEach</code> method on <code>collection</code> if one is defined,
ensuring native performance for <code>Arrays</code>.</p>
<p>Similar to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach">Array#forEach</a>, the <code>callback</code> function accepts three
arguments, and is provided with <code>thisArg</code> as the calling context.</p>
<p>Note: providing an infinite Iterator to forEach will produce an error.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>collection</code> <strong>(<a href="#iterable.html">Iterable</a>&lt;T&gt; | {length: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>})</strong> The Iterable or array to iterate over.</li>
<li><code>callback</code> <strong>function (T, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</strong> Function to execute for each iteration, taking up to three arguments</li>
<li><code>thisArg</code>  Optional. Value to use as <code>this</code> when executing <code>callback</code>.</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="javascript"><span class="hljs-keyword">var</span> forEach = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).forEach

forEach(myIterable, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value, index, iterable</span>) </span>{
  <span class="hljs-built_in">console</span>.log(value, index, iterable === myIterable)
})
</code></pre>
<pre><code class="javascript"><span class="hljs-comment">// ES6:</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> value <span class="hljs-keyword">of</span> myIterable) {
  <span class="hljs-built_in">console</span>.log(value)
}

<span class="hljs-comment">// Any JavaScript environment:</span>
forEach(myIterable, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) </span>{
  <span class="hljs-built_in">console</span>.log(value)
})
</code></pre>
<div class="pilwrap" id="asynciterable">
  <h3>
    <a href="#asynciterable" name="asynciterable" class="pilcrow"></a>
AsyncIterable
  </h3>
</div>
<ul>
<li><strong>See: <a href="https://tc39.github.io/proposal-async-iteration/#sec-asynciterable-interface">Async Iteration Proposal</a></strong></li>
</ul>
<p><a href="https://tc39.github.io/proposal-async-iteration/#sec-asynciterable-interface">AsyncIterable</a>
is a <em>protocol</em> which when implemented allows a JavaScript object to define
an asynchronous iteration behavior, such as what values are looped over in
a <a href="https://tc39.github.io/proposal-async-iteration/#sec-for-in-and-for-of-statements"><code>for-await-of</code></a>
loop or <code>iterall</code>'s <a href="#forawaiteach.html">forAwaitEach</a> function.</p>
<p>While described as a proposed addition to the <a href="https://tc39.github.io/proposal-async-iteration/">ES2017 version of JavaScript</a>
it can be utilized by any version of JavaScript.</p>
<div class="pilwrap" id="asynciterator">
  <h3>
    <a href="#asynciterator" name="asynciterator" class="pilcrow"></a>
AsyncIterator
  </h3>
</div>
<ul>
<li><strong>See: <a href="https://tc39.github.io/proposal-async-iteration/#sec-asynciterator-interface">Async Iteration Proposal</a></strong></li>
</ul>
<p><a href="https://tc39.github.io/proposal-async-iteration/#sec-asynciterator-interface">AsyncIterator</a>
is a <em>protocol</em> which describes a standard way to produce and consume an
asynchronous sequence of values, typically the values of the
<a href="#asynciterable.html">AsyncIterable</a> represented by this <a href="#asynciterator.html">AsyncIterator</a>.</p>
<p>AsyncIterator is similar to Observable or Stream. Like an <a href="#iterator.html">Iterator</a> it
also as a <code>next()</code> method, however instead of an IteratorResult,
calling this method returns a <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a> for a IteratorResult.</p>
<p>While described as a proposed addition to the <a href="https://tc39.github.io/proposal-async-iteration/">ES2017 version of JavaScript</a>
it can be utilized by any version of JavaScript.</p>
<div class="pilwrap" id="dollardollarasynciterator">
  <h3>
    <a href="#dollardollarasynciterator" name="dollardollarasynciterator" class="pilcrow"></a>
$$asyncIterator
  </h3>
</div>
<p>A property name to be used as the name of an AsyncIterable's method
responsible for producing an Iterator, referred to as <code>@@asyncIterator</code>.
Typically represents the value <code>Symbol.asyncIterator</code> but falls back to the
string <code>&quot;@@asyncIterator&quot;</code> when <code>Symbol.asyncIterator</code> is not defined.</p>
<p>Use <code>$$asyncIterator</code> for defining new AsyncIterables instead of
<code>Symbol.asyncIterator</code>, but do not use it for accessing existing Iterables,
instead use <a href="#getasynciterator.html">getAsyncIterator</a> or <a href="#isasynciterable.html">isAsyncIterable</a>.</p>
<p><strong>Examples</strong></p>
<pre><code class="javascript"><span class="hljs-keyword">var</span> $$asyncIterator = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).$$asyncIterator

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Chirper</span> (<span class="hljs-params">to</span>) </span>{
  <span class="hljs-keyword">this</span>.to = to
}

Chirper.prototype[$$asyncIterator] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">to</span>: <span class="hljs-keyword">this</span>.to,
    <span class="hljs-attr">num</span>: <span class="hljs-number">0</span>,
    next () {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.num &gt;= <span class="hljs-keyword">this</span>.to) {
          resolve({ <span class="hljs-attr">value</span>: <span class="hljs-literal">undefined</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> })
        } <span class="hljs-keyword">else</span> {
          setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
            resolve({ <span class="hljs-attr">value</span>: <span class="hljs-keyword">this</span>.num++, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> })
          }, <span class="hljs-number">1000</span>)
        }
      })
    }
  }
}

<span class="hljs-keyword">var</span> chirper = <span class="hljs-keyword">new</span> Chirper(<span class="hljs-number">3</span>)
<span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">var</span> number <span class="hljs-keyword">of</span> chirper) {
  <span class="hljs-built_in">console</span>.log(number) <span class="hljs-comment">// 0 ...wait... 1 ...wait... 2</span>
}
</code></pre>
<div class="pilwrap" id="isasynciterable">
  <h3>
    <a href="#isasynciterable" name="isasynciterable" class="pilcrow"></a>
isAsyncIterable
  </h3>
</div>
<p>Returns true if the provided object implements the AsyncIterator protocol via
either implementing a <code>Symbol.asyncIterator</code> or <code>&quot;@@asyncIterator&quot;</code> method.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>obj</code>  A value which might implement the AsyncIterable protocol.</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="javascript"><span class="hljs-keyword">var</span> isAsyncIterable = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).isAsyncIterable
isAsyncIterable(myStream) <span class="hljs-comment">// true</span>
isAsyncIterable(<span class="hljs-string">'ABC'</span>) <span class="hljs-comment">// false</span>
</code></pre>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></strong> true if AsyncIterable.</p>
<div class="pilwrap" id="getasynciterator">
  <h3>
    <a href="#getasynciterator" name="getasynciterator" class="pilcrow"></a>
getAsyncIterator
  </h3>
</div>
<p>If the provided object implements the AsyncIterator protocol, its
AsyncIterator object is returned. Otherwise returns undefined.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>asyncIterable</code> <strong><a href="#asynciterable.html">AsyncIterable</a>&lt;T&gt;</strong> An AsyncIterable object which is the source of an AsyncIterator.</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="javascript"><span class="hljs-keyword">var</span> getAsyncIterator = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).getAsyncIterator
<span class="hljs-keyword">var</span> asyncIterator = getAsyncIterator(myStream)
asyncIterator.next().then(<span class="hljs-built_in">console</span>.log) <span class="hljs-comment">// { value: 1, done: false }</span>
asyncIterator.next().then(<span class="hljs-built_in">console</span>.log) <span class="hljs-comment">// { value: 2, done: false }</span>
asyncIterator.next().then(<span class="hljs-built_in">console</span>.log) <span class="hljs-comment">// { value: 3, done: false }</span>
asyncIterator.next().then(<span class="hljs-built_in">console</span>.log) <span class="hljs-comment">// { value: undefined, done: true }</span>
</code></pre>
<p>Returns <strong><a href="#asynciterator.html">AsyncIterator</a>&lt;T&gt;</strong> new AsyncIterator instance.</p>
<div class="pilwrap" id="getasynciteratormethod">
  <h3>
    <a href="#getasynciteratormethod" name="getasynciteratormethod" class="pilcrow"></a>
getAsyncIteratorMethod
  </h3>
</div>
<p>If the provided object implements the AsyncIterator protocol, the method
responsible for producing its AsyncIterator object is returned.</p>
<p>This is used in rare cases for performance tuning. This method must be called
with obj as the contextual this-argument.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>asyncIterable</code> <strong><a href="#asynciterable.html">AsyncIterable</a>&lt;T&gt;</strong> An AsyncIterable object which defines an <code>@@asyncIterator</code> method.</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="javascript"><span class="hljs-keyword">var</span> getAsyncIteratorMethod = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).getAsyncIteratorMethod
<span class="hljs-keyword">var</span> method = getAsyncIteratorMethod(myStream)
<span class="hljs-keyword">if</span> (method) {
  <span class="hljs-keyword">var</span> asyncIterator = method.call(myStream)
}
</code></pre>
<p>Returns <strong>function (): <a href="#asynciterator.html">AsyncIterator</a>&lt;T&gt;</strong> <code>@@asyncIterator</code> method.</p>
<div class="pilwrap" id="createasynciterator">
  <h3>
    <a href="#createasynciterator" name="createasynciterator" class="pilcrow"></a>
createAsyncIterator
  </h3>
</div>
<p>Similar to <a href="#getasynciterator.html">getAsyncIterator</a>, this method returns a new AsyncIterator
given an AsyncIterable. However it will also create an AsyncIterator for a
non-async Iterable as well as non-Iterable Array-like collection, such as
Array in a pre-ES2015 environment.</p>
<p><code>createAsyncIterator</code> is complimentary to <code>forAwaitEach</code>, but allows a
buffering &quot;pull&quot;-based iteration as opposed to <code>forAwaitEach</code>'s
&quot;push&quot;-based iteration.</p>
<p><code>createAsyncIterator</code> produces an AsyncIterator for non-async Iterables as
described in the ECMAScript proposal <a href="https://tc39.github.io/proposal-async-iteration/#sec-async-from-sync-iterator-objects">Async-from-Sync Iterator Objects</a>.</p>
<blockquote>
<p>Note: Creating <code>AsyncIterator</code>s requires the existence of <code>Promise</code>.
While <code>Promise</code> has been available in modern browsers for a number of
years, legacy browsers (like IE 11) may require a polyfill.</p>
</blockquote>
<p><strong>Parameters</strong></p>
<ul>
<li><code>source</code> <strong>(<a href="#asynciterable.html">AsyncIterable</a>&lt;T&gt; | <a href="#iterable.html">Iterable</a>&lt;T&gt; | {length: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>})</strong> An AsyncIterable, Iterable, or Array-like object to produce an Iterator.</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="javascript"><span class="hljs-keyword">var</span> createAsyncIterator = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).createAsyncIterator

<span class="hljs-keyword">var</span> myArraylike = { <span class="hljs-attr">length</span>: <span class="hljs-number">3</span>, <span class="hljs-number">0</span>: <span class="hljs-string">'Alpha'</span>, <span class="hljs-number">1</span>: <span class="hljs-string">'Bravo'</span>, <span class="hljs-number">2</span>: <span class="hljs-string">'Charlie'</span> }
<span class="hljs-keyword">var</span> iterator = createAsyncIterator(myArraylike)
iterator.next().then(<span class="hljs-built_in">console</span>.log) <span class="hljs-comment">// { value: 'Alpha', done: false }</span>
iterator.next().then(<span class="hljs-built_in">console</span>.log) <span class="hljs-comment">// { value: 'Bravo', done: false }</span>
iterator.next().then(<span class="hljs-built_in">console</span>.log) <span class="hljs-comment">// { value: 'Charlie', done: false }</span>
iterator.next().then(<span class="hljs-built_in">console</span>.log) <span class="hljs-comment">// { value: undefined, done: true }</span>
</code></pre>
<p>Returns <strong><a href="#asynciterator.html">AsyncIterator</a>&lt;T&gt;</strong> new AsyncIterator instance.</p>
<div class="pilwrap" id="forawaiteach">
  <h3>
    <a href="#forawaiteach" name="forawaiteach" class="pilcrow"></a>
forAwaitEach
  </h3>
</div>
<p>Given an object which either implements the AsyncIterable protocol or is
Array-like, iterate over it, calling the <code>callback</code> at each iteration.</p>
<p>Use <code>forAwaitEach</code> where you would expect to use a <a href="https://tc39.github.io/proposal-async-iteration/#sec-for-in-and-for-of-statements">for-await-of</a> loop.</p>
<p>Similar to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach">Array#forEach</a>, the <code>callback</code> function accepts three
arguments, and is provided with <code>thisArg</code> as the calling context.</p>
<blockquote>
<p>Note: Using <code>forAwaitEach</code> requires the existence of <code>Promise</code>.
While <code>Promise</code> has been available in modern browsers for a number of
years, legacy browsers (like IE 11) may require a polyfill.</p>
</blockquote>
<p><strong>Parameters</strong></p>
<ul>
<li><code>source</code> <strong>(<a href="#asynciterable.html">AsyncIterable</a>&lt;T&gt; | <a href="#iterable.html">Iterable</a>&lt;(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;T&gt; | T)&gt; | {length: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>})</strong> The AsyncIterable or array to iterate over.</li>
<li><code>callback</code> <strong>function (T, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</strong> Function to execute for each iteration, taking up to three arguments</li>
<li><code>thisArg</code>  Optional. Value to use as <code>this</code> when executing <code>callback</code>.</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="javascript"><span class="hljs-keyword">var</span> forAwaitEach = <span class="hljs-built_in">require</span>(<span class="hljs-string">'iterall'</span>).forAwaitEach

forAwaitEach(myIterable, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value, index, iterable</span>) </span>{
  <span class="hljs-built_in">console</span>.log(value, index, iterable === myIterable)
})
</code></pre>
<pre><code class="javascript"><span class="hljs-comment">// ES2017:</span>
<span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">let</span> value <span class="hljs-keyword">of</span> myAsyncIterable) {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">await</span> doSomethingAsync(value))
}
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'done'</span>)

<span class="hljs-comment">// Any JavaScript environment:</span>
forAwaitEach(myAsyncIterable, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) </span>{
  <span class="hljs-keyword">return</span> doSomethingAsync(value).then(<span class="hljs-built_in">console</span>.log)
}).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'done'</span>)
})
</code></pre>
<div class="pilwrap" id="contributing">
  <h2>
    <a href="#contributing" name="contributing" class="pilcrow"></a>
Contributing
  </h2>
</div>
<p>Contributions are welcome and encouraged!</p>
<p>Remember that this library is designed to be small, straight-forward, and
well-tested. The value of new additional features will be weighed against their
size. This library also seeks to leverage and mirror the
<a href="http://www.ecma-international.org/ecma-262/6.0/">ECMAScript specification</a> in its behavior as much as possible and reasonable.</p>
<p>This repository has far more documentation and explanation than code, and it is
expected that the majority of contributions will come in the form of improving
these.</p>
<!-- Appendix -->
</div>
  </div>
</body>
</html>
