<!DOCTYPE html>
<html>
<head>
  <title>test.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules\\object-path\\test.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>test.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-meta">'use strict'</span>;
<span class="hljs-keyword">var</span> expect = <span class="hljs-built_in">require</span>(<span class="hljs-string">'chai'</span>).expect,
  objectPath = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./index.js'</span>);


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTestObj</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">a</span>: <span class="hljs-string">'b'</span>,
    <span class="hljs-attr">b</span>: {
      <span class="hljs-attr">c</span>: [],
      <span class="hljs-attr">d</span>: [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>],
      <span class="hljs-attr">e</span>: [{},{<span class="hljs-attr">f</span>: <span class="hljs-string">'g'</span>}],
      <span class="hljs-attr">f</span>: <span class="hljs-string">'i'</span>
    }
  };
}

describe(<span class="hljs-string">'get'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  it(<span class="hljs-string">'should return the value using unicode key'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = {
      <span class="hljs-string">'15\u00f8C'</span>: {
        <span class="hljs-string">'3\u0111'</span>: <span class="hljs-number">1</span>
      }
    };
    expect(objectPath.get(obj, <span class="hljs-string">'15\u00f8C.3\u0111'</span>)).to.be.equal(<span class="hljs-number">1</span>);
    expect(objectPath.get(obj, [<span class="hljs-string">'15\u00f8C'</span>,<span class="hljs-string">'3\u0111'</span>])).to.be.equal(<span class="hljs-number">1</span>);
  });

  it(<span class="hljs-string">'should return the value using dot in key'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = {
      <span class="hljs-string">'a.b'</span>: {
        <span class="hljs-string">'looks.like'</span>: <span class="hljs-number">1</span>
      }
    };
    expect(objectPath.get(obj, <span class="hljs-string">'a.b.looks.like'</span>)).to.be.equal(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>);
    expect(objectPath.get(obj, [<span class="hljs-string">'a.b'</span>,<span class="hljs-string">'looks.like'</span>])).to.be.equal(<span class="hljs-number">1</span>);
  });

  it(<span class="hljs-string">'should return the value under shallow object'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    expect(objectPath.get(obj, <span class="hljs-string">'a'</span>)).to.be.equal(<span class="hljs-string">'b'</span>);
    expect(objectPath.get(obj, [<span class="hljs-string">'a'</span>])).to.be.equal(<span class="hljs-string">'b'</span>);
  });

  it(<span class="hljs-string">'should work with number path'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    expect(objectPath.get(obj.b.d, <span class="hljs-number">0</span>)).to.be.equal(<span class="hljs-string">'a'</span>);
    expect(objectPath.get(obj.b, <span class="hljs-number">0</span>)).to.be.equal(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>);
  });

  it(<span class="hljs-string">'should return the value under deep object'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    expect(objectPath.get(obj, <span class="hljs-string">'b.f'</span>)).to.be.equal(<span class="hljs-string">'i'</span>);
    expect(objectPath.get(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'f'</span>])).to.be.equal(<span class="hljs-string">'i'</span>);
  });

  it(<span class="hljs-string">'should return the value under array'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    expect(objectPath.get(obj, <span class="hljs-string">'b.d.0'</span>)).to.be.equal(<span class="hljs-string">'a'</span>);
    expect(objectPath.get(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'d'</span>,<span class="hljs-number">0</span>])).to.be.equal(<span class="hljs-string">'a'</span>);
  });

  it(<span class="hljs-string">'should return the value under array deep'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    expect(objectPath.get(obj, <span class="hljs-string">'b.e.1.f'</span>)).to.be.equal(<span class="hljs-string">'g'</span>);
    expect(objectPath.get(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'e'</span>,<span class="hljs-number">1</span>,<span class="hljs-string">'f'</span>])).to.be.equal(<span class="hljs-string">'g'</span>);
  });

  it(<span class="hljs-string">'should return undefined for missing values under object'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    expect(objectPath.get(obj, <span class="hljs-string">'a.b'</span>)).to.not.exist;
    expect(objectPath.get(obj, [<span class="hljs-string">'a'</span>,<span class="hljs-string">'b'</span>])).to.not.exist;
  });

  it(<span class="hljs-string">'should return undefined for missing values under array'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    expect(objectPath.get(obj, <span class="hljs-string">'b.d.5'</span>)).to.not.exist;
    expect(objectPath.get(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'d'</span>,<span class="hljs-string">'5'</span>])).to.not.exist;
  });

  it(<span class="hljs-string">'should return the value under integer-like key'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = { <span class="hljs-string">'1a'</span>: <span class="hljs-string">'foo'</span> };
    expect(objectPath.get(obj, <span class="hljs-string">'1a'</span>)).to.be.equal(<span class="hljs-string">'foo'</span>);
    expect(objectPath.get(obj, [<span class="hljs-string">'1a'</span>])).to.be.equal(<span class="hljs-string">'foo'</span>);
  });

  it(<span class="hljs-string">'should return the default value when the key doesnt exist'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = { <span class="hljs-string">'1a'</span>: <span class="hljs-string">'foo'</span> };
    expect(objectPath.get(obj, <span class="hljs-string">'1b'</span>, <span class="hljs-literal">null</span>)).to.be.equal(<span class="hljs-literal">null</span>);
    expect(objectPath.get(obj, [<span class="hljs-string">'1b'</span>], <span class="hljs-literal">null</span>)).to.be.equal(<span class="hljs-literal">null</span>);
  });

  it(<span class="hljs-string">'should return the default value when path is empty'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = { <span class="hljs-string">'1a'</span>: <span class="hljs-string">'foo'</span> };
    expect(objectPath.get(obj, <span class="hljs-string">''</span>, <span class="hljs-literal">null</span>)).to.be.deep.equal({ <span class="hljs-string">'1a'</span>: <span class="hljs-string">'foo'</span> });
    expect(objectPath.get(obj, [])).to.be.deep.equal({ <span class="hljs-string">'1a'</span>: <span class="hljs-string">'foo'</span> });
    expect(objectPath.get({  }, [<span class="hljs-string">'1'</span>])).to.be.equal(<span class="hljs-literal">undefined</span>);
  });

  it(<span class="hljs-string">'should return the default value when object is null or undefined'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    expect(objectPath.get(<span class="hljs-literal">null</span>, <span class="hljs-string">'test'</span>, <span class="hljs-string">'a'</span>)).to.be.deep.equal(<span class="hljs-string">'a'</span>);
    expect(objectPath.get(<span class="hljs-literal">undefined</span>, <span class="hljs-string">'test'</span>, <span class="hljs-string">'a'</span>)).to.be.deep.equal(<span class="hljs-string">'a'</span>);
  });

  it(
    <span class="hljs-string">'should not fail on an object with a null prototype'</span>,
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">assertSuccessForObjWithNullProto</span>(<span class="hljs-params"></span>)</span>{
      <span class="hljs-keyword">var</span> foo = <span class="hljs-string">'FOO'</span>;
      <span class="hljs-keyword">var</span> objWithNullProto = <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>);
      objWithNullProto.foo = foo;
      expect(objectPath.get(objWithNullProto, <span class="hljs-string">'foo'</span>)).to.equal(foo);
    }
  );

  it(<span class="hljs-string">'should skip non own properties'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> Base = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">enabled</span>)</span>{ };
    Base.prototype = {
      <span class="hljs-attr">one</span>: {
        <span class="hljs-attr">two</span>: <span class="hljs-literal">true</span>
      }
    };
    <span class="hljs-keyword">var</span> Extended = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
      Base.call(<span class="hljs-keyword">this</span>,  <span class="hljs-literal">true</span>);
    };
    Extended.prototype = <span class="hljs-built_in">Object</span>.create(Base.prototype);

    <span class="hljs-keyword">var</span> extended = <span class="hljs-keyword">new</span> Extended();

    expect(objectPath.get(extended, [<span class="hljs-string">'one'</span>,<span class="hljs-string">'two'</span>])).to.be.equal(<span class="hljs-literal">undefined</span>);
    extended.enabled = <span class="hljs-literal">true</span>;

    expect(objectPath.get(extended, <span class="hljs-string">'enabled'</span>)).to.be.equal(<span class="hljs-literal">true</span>);
    expect(objectPath.get(extended, <span class="hljs-string">'one'</span>)).to.be.equal(<span class="hljs-literal">undefined</span>);
  });
});


describe(<span class="hljs-string">'set'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  it(<span class="hljs-string">'should set the value using unicode key'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = {
      <span class="hljs-string">'15\u00f8C'</span>: {
        <span class="hljs-string">'3\u0111'</span>: <span class="hljs-number">1</span>
      }
    };
    objectPath.set(obj, <span class="hljs-string">'15\u00f8C.3\u0111'</span>, <span class="hljs-number">2</span>);
    expect(objectPath.get(obj, <span class="hljs-string">'15\u00f8C.3\u0111'</span>)).to.be.equal(<span class="hljs-number">2</span>);
    objectPath.set(obj, <span class="hljs-string">'15\u00f8C.3\u0111'</span>, <span class="hljs-number">3</span>);
    expect(objectPath.get(obj, [<span class="hljs-string">'15\u00f8C'</span>,<span class="hljs-string">'3\u0111'</span>])).to.be.equal(<span class="hljs-number">3</span>);
  });

  it(<span class="hljs-string">'should set the value using dot in key'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = {
      <span class="hljs-string">'a.b'</span>: {
        <span class="hljs-string">'looks.like'</span>: <span class="hljs-number">1</span>
      }
    };
    objectPath.set(obj, [<span class="hljs-string">'a.b'</span>,<span class="hljs-string">'looks.like'</span>], <span class="hljs-number">2</span>);
    expect(objectPath.get(obj, [<span class="hljs-string">'a.b'</span>,<span class="hljs-string">'looks.like'</span>])).to.be.equal(<span class="hljs-number">2</span>);
  });

  it(<span class="hljs-string">'should set value under shallow object'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    objectPath.set(obj, <span class="hljs-string">'c'</span>, {<span class="hljs-attr">m</span>: <span class="hljs-string">'o'</span>});
    expect(obj).to.have.deep.property(<span class="hljs-string">'c.m'</span>, <span class="hljs-string">'o'</span>);
    obj = getTestObj();
    objectPath.set(obj, [<span class="hljs-string">'c'</span>], {<span class="hljs-attr">m</span>: <span class="hljs-string">'o'</span>});
    expect(obj).to.have.deep.property(<span class="hljs-string">'c.m'</span>, <span class="hljs-string">'o'</span>);
  });

  it(<span class="hljs-string">'should set value using number path'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    objectPath.set(obj.b.d, <span class="hljs-number">0</span>, <span class="hljs-string">'o'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.d.0'</span>, <span class="hljs-string">'o'</span>);
  });

  it(<span class="hljs-string">'should set value under deep object'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    objectPath.set(obj, <span class="hljs-string">'b.c'</span>, <span class="hljs-string">'o'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.c'</span>, <span class="hljs-string">'o'</span>);
    obj = getTestObj();
    objectPath.set(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'c'</span>], <span class="hljs-string">'o'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.c'</span>, <span class="hljs-string">'o'</span>);
  });

  it(<span class="hljs-string">'should set value under array'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    objectPath.set(obj, <span class="hljs-string">'b.e.1.g'</span>, <span class="hljs-string">'f'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.e.1.g'</span>, <span class="hljs-string">'f'</span>);
    obj = getTestObj();
    objectPath.set(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'e'</span>,<span class="hljs-number">1</span>,<span class="hljs-string">'g'</span>], <span class="hljs-string">'f'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.e.1.g'</span>, <span class="hljs-string">'f'</span>);

    obj = {}
    objectPath.set(obj, <span class="hljs-string">'b.0'</span>, <span class="hljs-string">'a'</span>);
    objectPath.set(obj, <span class="hljs-string">'b.1'</span>, <span class="hljs-string">'b'</span>);
    expect(obj.b).to.be.deep.equal([<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>]);
  });

  it(<span class="hljs-string">'should create intermediate objects'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    objectPath.set(obj, <span class="hljs-string">'c.d.e.f'</span>, <span class="hljs-string">'l'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'c.d.e.f'</span>, <span class="hljs-string">'l'</span>);
    obj = getTestObj();
    objectPath.set(obj, [<span class="hljs-string">'c'</span>,<span class="hljs-string">'d'</span>,<span class="hljs-string">'e'</span>,<span class="hljs-string">'f'</span>], <span class="hljs-string">'l'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'c.d.e.f'</span>, <span class="hljs-string">'l'</span>);
  });

  it(<span class="hljs-string">'should create intermediate arrays'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    objectPath.set(obj, <span class="hljs-string">'c.0.1.m'</span>, <span class="hljs-string">'l'</span>);
    expect(obj.c).to.be.an(<span class="hljs-string">'array'</span>);
    expect(obj.c[<span class="hljs-number">0</span>]).to.be.an(<span class="hljs-string">'array'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'c.0.1.m'</span>, <span class="hljs-string">'l'</span>);
    obj = getTestObj();
    objectPath.set(obj, [<span class="hljs-string">'c'</span>,<span class="hljs-string">'0'</span>, <span class="hljs-number">1</span>,<span class="hljs-string">'m'</span>], <span class="hljs-string">'l'</span>);
    expect(obj.c).to.be.an(<span class="hljs-string">'object'</span>);
    expect(obj.c[<span class="hljs-number">0</span>]).to.be.an(<span class="hljs-string">'array'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'c.0.1.m'</span>, <span class="hljs-string">'l'</span>);
  });

  it(<span class="hljs-string">'should set value under integer-like key'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    objectPath.set(obj, <span class="hljs-string">'1a'</span>, <span class="hljs-string">'foo'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'1a'</span>, <span class="hljs-string">'foo'</span>);
    obj = getTestObj();
    objectPath.set(obj, [<span class="hljs-string">'1a'</span>], <span class="hljs-string">'foo'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'1a'</span>, <span class="hljs-string">'foo'</span>);
  });

  it(<span class="hljs-string">'should set value under empty array'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = [];
    objectPath.set(obj, [<span class="hljs-number">0</span>], <span class="hljs-string">'foo'</span>);
    expect(obj[<span class="hljs-number">0</span>]).to.be.equal(<span class="hljs-string">'foo'</span>);
    obj = [];
    objectPath.set(obj, <span class="hljs-string">'0'</span>, <span class="hljs-string">'foo'</span>);
    expect(obj[<span class="hljs-number">0</span>]).to.be.equal(<span class="hljs-string">'foo'</span>);
  });
});


describe(<span class="hljs-string">'push'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  it(<span class="hljs-string">'should push value to existing array using unicode key'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    objectPath.push(obj, <span class="hljs-string">'b.\u1290c'</span>, <span class="hljs-string">'l'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.\u1290c.0'</span>, <span class="hljs-string">'l'</span>);
    objectPath.push(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'\u1290c'</span>], <span class="hljs-string">'l'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.\u1290c.1'</span>, <span class="hljs-string">'l'</span>);
  });

  it(<span class="hljs-string">'should push value to existing array using dot key'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    objectPath.push(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'z.d'</span>], <span class="hljs-string">'l'</span>);
    expect(objectPath.get(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'z.d'</span>, <span class="hljs-number">0</span>])).to.be.equal(<span class="hljs-string">'l'</span>);
  });

  it(<span class="hljs-string">'should push value to existing array'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    objectPath.push(obj, <span class="hljs-string">'b.c'</span>, <span class="hljs-string">'l'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.c.0'</span>, <span class="hljs-string">'l'</span>);
    obj = getTestObj();
    objectPath.push(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'c'</span>], <span class="hljs-string">'l'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.c.0'</span>, <span class="hljs-string">'l'</span>);
  });

  it(<span class="hljs-string">'should push value to new array'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    objectPath.push(obj, <span class="hljs-string">'b.h'</span>, <span class="hljs-string">'l'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.h.0'</span>, <span class="hljs-string">'l'</span>);
    obj = getTestObj();
    objectPath.push(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'h'</span>], <span class="hljs-string">'l'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.h.0'</span>, <span class="hljs-string">'l'</span>);
  });

  it(<span class="hljs-string">'should push value to existing array using number path'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    objectPath.push(obj.b.e, <span class="hljs-number">0</span>, <span class="hljs-string">'l'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.e.0.0'</span>, <span class="hljs-string">'l'</span>);
  });

});


describe(<span class="hljs-string">'ensureExists'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  it(<span class="hljs-string">'should create the path if it does not exists'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    <span class="hljs-keyword">var</span> oldVal = objectPath.ensureExists(obj, <span class="hljs-string">'b.g.1.l'</span>, <span class="hljs-string">'test'</span>);
    expect(oldVal).to.not.exist;
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.g.1.l'</span>, <span class="hljs-string">'test'</span>);
    oldVal = objectPath.ensureExists(obj, <span class="hljs-string">'b.g.1.l'</span>, <span class="hljs-string">'test1'</span>);
    expect(oldVal).to.be.equal(<span class="hljs-string">'test'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.g.1.l'</span>, <span class="hljs-string">'test'</span>);
    oldVal = objectPath.ensureExists(obj, <span class="hljs-string">'b.\u8210'</span>, <span class="hljs-string">'ok'</span>);
    expect(oldVal).to.not.exist;
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.\u8210'</span>, <span class="hljs-string">'ok'</span>);
    oldVal = objectPath.ensureExists(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'dot.dot'</span>], <span class="hljs-string">'ok'</span>);
    expect(oldVal).to.not.exist;
    expect(objectPath.get(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'dot.dot'</span>])).to.be.equal(<span class="hljs-string">'ok'</span>);
  });


  it(<span class="hljs-string">'should return the object if path is empty'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    expect(objectPath.ensureExists(obj, [], <span class="hljs-string">'test'</span>)).to.have.property(<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>);
  });

  it(<span class="hljs-string">'Issue #26'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> any = {};
    objectPath.ensureExists(any, [<span class="hljs-string">'1'</span>,<span class="hljs-string">'1'</span>], {});
    expect(any).to.be.an(<span class="hljs-string">'object'</span>);
    expect(any[<span class="hljs-number">1</span>]).to.be.an(<span class="hljs-string">'object'</span>);
    expect(any[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]).to.be.an(<span class="hljs-string">'object'</span>);
  });
});

describe(<span class="hljs-string">'coalesce'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  it(<span class="hljs-string">'should return the first non-undefined value'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> obj = {
      <span class="hljs-attr">should</span>: {<span class="hljs-attr">have</span>: <span class="hljs-string">'prop'</span>}
    };

    expect(objectPath.coalesce(obj, [
      <span class="hljs-string">'doesnt.exist'</span>,
      [<span class="hljs-string">'might'</span>,<span class="hljs-string">'not'</span>,<span class="hljs-string">'exist'</span>],
      <span class="hljs-string">'should.have'</span>
    ])).to.equal(<span class="hljs-string">'prop'</span>);
  });

  it(<span class="hljs-string">'should work with falsy values (null, 0, \'\', false)'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> obj = {
      <span class="hljs-attr">is</span>: {
        <span class="hljs-attr">false</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">null</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-attr">empty</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">zero</span>: <span class="hljs-number">0</span>
      }
    };

    expect(objectPath.coalesce(obj, [
      <span class="hljs-string">'doesnt.exist'</span>,
      <span class="hljs-string">'is.zero'</span>
    ])).to.equal(<span class="hljs-number">0</span>);

    expect(objectPath.coalesce(obj, [
      <span class="hljs-string">'doesnt.exist'</span>,
      <span class="hljs-string">'is.false'</span>
    ])).to.equal(<span class="hljs-literal">false</span>);

    expect(objectPath.coalesce(obj, [
      <span class="hljs-string">'doesnt.exist'</span>,
      <span class="hljs-string">'is.null'</span>
    ])).to.equal(<span class="hljs-literal">null</span>);

    expect(objectPath.coalesce(obj, [
      <span class="hljs-string">'doesnt.exist'</span>,
      <span class="hljs-string">'is.empty'</span>
    ])).to.equal(<span class="hljs-string">''</span>);
  });

  it(<span class="hljs-string">'returns defaultValue if no paths found'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> obj = {
      <span class="hljs-attr">doesnt</span>: <span class="hljs-string">'matter'</span>
    };

    expect(objectPath.coalesce(obj, [<span class="hljs-string">'some.inexistant'</span>,<span class="hljs-string">'path'</span>,[<span class="hljs-string">'on'</span>,<span class="hljs-string">'object'</span>]], <span class="hljs-string">'false'</span>)).to.equal(<span class="hljs-string">'false'</span>);
  });

  it(<span class="hljs-string">'works with unicode and dot keys'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> obj = {
      <span class="hljs-string">'\u7591'</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-string">'dot.dot'</span>: <span class="hljs-literal">false</span>
    };

    expect(objectPath.coalesce(obj, [<span class="hljs-string">'1'</span>, <span class="hljs-string">'\u7591'</span>, <span class="hljs-string">'a.b'</span>])).to.equal(<span class="hljs-literal">true</span>);
    expect(objectPath.coalesce(obj, [<span class="hljs-string">'1'</span>, [<span class="hljs-string">'dot.dot'</span>], <span class="hljs-string">'\u7591'</span>])).to.equal(<span class="hljs-literal">false</span>);
  });
});

describe(<span class="hljs-string">'empty'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  it(<span class="hljs-string">'should ignore invalid arguments safely'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> obj = {};
    expect(objectPath.empty()).to.equal(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>);
    expect(objectPath.empty(obj, <span class="hljs-string">'path'</span>)).to.equal(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>);
    expect(objectPath.empty(obj, <span class="hljs-string">''</span>)).to.equal(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>);

    obj.path = <span class="hljs-literal">true</span>;

    expect(objectPath.empty(obj, <span class="hljs-string">'inexistant'</span>)).to.equal(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>);

    expect(objectPath.empty(<span class="hljs-literal">null</span>, <span class="hljs-string">'path'</span>)).to.equal(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>);
    expect(objectPath.empty(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>, <span class="hljs-string">'path'</span>)).to.equal(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>);
  });

  it(<span class="hljs-string">'should empty each path according to their types'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Instance</span>(<span class="hljs-params"></span>)</span>{
      <span class="hljs-keyword">this</span>.notOwn = <span class="hljs-literal">true</span>;
    }

    <span class="hljs-comment">/*istanbul ignore next: not part of code */</span>
    Instance.prototype.test = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{};
    <span class="hljs-comment">/*istanbul ignore next: not part of code */</span>
    Instance.prototype.arr = [];

    <span class="hljs-keyword">var</span>
      obj = {
        <span class="hljs-attr">string</span>: <span class="hljs-string">'some string'</span>,
        <span class="hljs-attr">array</span>: [<span class="hljs-string">'some'</span>,<span class="hljs-string">'array'</span>,[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]],
        <span class="hljs-attr">number</span>: <span class="hljs-number">21</span>,
        <span class="hljs-attr">boolean</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">object</span>: {
          <span class="hljs-attr">some</span>:<span class="hljs-string">'property'</span>,
          <span class="hljs-attr">sub</span>: {
            <span class="hljs-string">'property'</span>: <span class="hljs-literal">true</span>
          },
          <span class="hljs-attr">nullProp</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-attr">undefinedProp</span>: <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
        },
        <span class="hljs-attr">instance</span>: <span class="hljs-keyword">new</span> Instance()
      };

    <span class="hljs-comment">/*istanbul ignore next: not part of code */</span>
    obj[<span class="hljs-string">'function'</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{};

    objectPath.empty(obj, [<span class="hljs-string">'array'</span>,<span class="hljs-string">'2'</span>]);
    expect(obj.array[<span class="hljs-number">2</span>]).to.deep.equal([]);

    objectPath.empty(obj, <span class="hljs-string">'object.sub'</span>);
    expect(obj.object.sub).to.deep.equal({});

    objectPath.empty(obj, <span class="hljs-string">'object.nullProp'</span>);
    expect(obj.object.nullProp).to.equal(<span class="hljs-literal">null</span>);

    objectPath.empty(obj, <span class="hljs-string">'object.undefinedProp'</span>);
    expect(obj.object.undefinedProp).to.equal(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>);
    expect(obj.object).to.have.property(<span class="hljs-string">'undefinedProp'</span>);

    objectPath.empty(obj, <span class="hljs-string">'object.notAProp'</span>);
    expect(obj.object.notAProp).to.equal(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>);
    expect(obj.object).to.not.have.property(<span class="hljs-string">'notAProp'</span>);

    objectPath.empty(obj, <span class="hljs-string">'instance.test'</span>);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>instance.test is not own property, so it shouldn't be emptied</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    expect(obj.instance.test).to.be.a(<span class="hljs-string">'function'</span>);
    expect(Instance.prototype.test).to.be.a(<span class="hljs-string">'function'</span>);

    objectPath.empty(obj, <span class="hljs-string">'string'</span>);
    objectPath.empty(obj, <span class="hljs-string">'number'</span>);
    objectPath.empty(obj, <span class="hljs-string">'boolean'</span>);
    objectPath.empty(obj, <span class="hljs-string">'function'</span>);
    objectPath.empty(obj, <span class="hljs-string">'array'</span>);
    objectPath.empty(obj, <span class="hljs-string">'object'</span>);
    objectPath.empty(obj, <span class="hljs-string">'instance'</span>);

    expect(obj.string).to.equal(<span class="hljs-string">''</span>);
    expect(obj.array).to.deep.equal([]);
    expect(obj.number).to.equal(<span class="hljs-number">0</span>);
    expect(obj.boolean).to.equal(<span class="hljs-literal">false</span>);
    expect(obj.object).to.deep.equal({});
    expect(obj.instance.notOwn).to.be.an(<span class="hljs-string">'undefined'</span>);
    expect(obj.instance.arr).to.be.an(<span class="hljs-string">'array'</span>);
    expect(obj[<span class="hljs-string">'function'</span>]).to.equal(<span class="hljs-literal">null</span>);
  });
});

describe(<span class="hljs-string">'del'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  it(<span class="hljs-string">'should work with number path'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    objectPath.del(obj.b.d, <span class="hljs-number">1</span>);
    expect(obj.b.d).to.deep.equal([<span class="hljs-string">'a'</span>]);
  });

  it(<span class="hljs-string">'should remove null and undefined props (but not explode on nested)'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> obj = { <span class="hljs-attr">nullProp</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">undefinedProp</span>: <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> };
    expect(obj).to.have.property(<span class="hljs-string">'nullProp'</span>);
    expect(obj).to.have.property(<span class="hljs-string">'undefinedProp'</span>);

    objectPath.del(obj, <span class="hljs-string">'nullProp.foo'</span>);
    objectPath.del(obj, <span class="hljs-string">'undefinedProp.bar'</span>);
    expect(obj).to.have.property(<span class="hljs-string">'nullProp'</span>);
    expect(obj).to.have.property(<span class="hljs-string">'undefinedProp'</span>);
    expect(obj).to.deep.equal({ <span class="hljs-attr">nullProp</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">undefinedProp</span>: <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> });

    objectPath.del(obj, <span class="hljs-string">'nullProp'</span>);
    objectPath.del(obj, <span class="hljs-string">'undefinedProp'</span>);
    expect(obj).to.not.have.property(<span class="hljs-string">'nullProp'</span>);
    expect(obj).to.not.have.property(<span class="hljs-string">'undefinedProp'</span>);
    expect(obj).to.deep.equal({});
  });

  it(<span class="hljs-string">'should delete deep paths'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();

    expect(objectPath.del(obj)).to.be.equal(obj);

    objectPath.set(obj, <span class="hljs-string">'b.g.1.0'</span>, <span class="hljs-string">'test'</span>);
    objectPath.set(obj, <span class="hljs-string">'b.g.1.1'</span>, <span class="hljs-string">'test'</span>);
    objectPath.set(obj, <span class="hljs-string">'b.h.az'</span>, <span class="hljs-string">'test'</span>);
    objectPath.set(obj, <span class="hljs-string">'b.\ubeef'</span>, <span class="hljs-string">'test'</span>);
    objectPath.set(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'dot.dot'</span>], <span class="hljs-string">'test'</span>);

    expect(obj).to.have.deep.property(<span class="hljs-string">'b.g.1.0'</span>,<span class="hljs-string">'test'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.g.1.1'</span>,<span class="hljs-string">'test'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.h.az'</span>,<span class="hljs-string">'test'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.\ubeef'</span>,<span class="hljs-string">'test'</span>);

    objectPath.del(obj, <span class="hljs-string">'b.h.az'</span>);
    expect(obj).to.not.have.deep.property(<span class="hljs-string">'b.h.az'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.h'</span>);

    objectPath.del(obj, <span class="hljs-string">'b.g.1.1'</span>);
    expect(obj).to.not.have.deep.property(<span class="hljs-string">'b.g.1.1'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.g.1.0'</span>,<span class="hljs-string">'test'</span>);

    objectPath.del(obj, <span class="hljs-string">'b.\ubeef'</span>);
    expect(obj).to.not.have.deep.property(<span class="hljs-string">'b.\ubeef'</span>);

    objectPath.del(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'dot.dot'</span>]);
    expect(objectPath.get(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'dot.dot'</span>])).to.be.equal(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>);

    objectPath.del(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'g'</span>,<span class="hljs-string">'1'</span>,<span class="hljs-string">'0'</span>]);
    expect(obj).to.not.have.deep.property(<span class="hljs-string">'b.g.1.0'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.g.1'</span>);

    expect(objectPath.del(obj, [<span class="hljs-string">'b'</span>])).to.not.have.deep.property(<span class="hljs-string">'b.g'</span>);
    expect(obj).to.be.deep.equal({<span class="hljs-string">'a'</span>:<span class="hljs-string">'b'</span>});
  });

  it(<span class="hljs-string">'should remove items from existing array'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();

    objectPath.del(obj, <span class="hljs-string">'b.d.0'</span>);
    expect(obj.b.d).to.have.length(<span class="hljs-number">1</span>);
    expect(obj.b.d).to.be.deep.equal([<span class="hljs-string">'b'</span>]);

    objectPath.del(obj, <span class="hljs-string">'b.d.0'</span>);
    expect(obj.b.d).to.have.length(<span class="hljs-number">0</span>);
    expect(obj.b.d).to.be.deep.equal([]);
  });
});

describe(<span class="hljs-string">'insert'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  it(<span class="hljs-string">'should insert value into existing array'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();

    objectPath.insert(obj, <span class="hljs-string">'b.c'</span>, <span class="hljs-string">'asdf'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.c.0'</span>, <span class="hljs-string">'asdf'</span>);
    expect(obj).to.not.have.deep.property(<span class="hljs-string">'b.c.1'</span>);
  });

  it(<span class="hljs-string">'should create intermediary array'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();

    objectPath.insert(obj, <span class="hljs-string">'b.c.0'</span>, <span class="hljs-string">'asdf'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.c.0.0'</span>, <span class="hljs-string">'asdf'</span>);
  });

  it(<span class="hljs-string">'should insert in another index'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();

    objectPath.insert(obj, <span class="hljs-string">'b.d'</span>, <span class="hljs-string">'asdf'</span>, <span class="hljs-number">1</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.d.1'</span>, <span class="hljs-string">'asdf'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.d.0'</span>, <span class="hljs-string">'a'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.d.2'</span>, <span class="hljs-string">'b'</span>);
  });

  it(<span class="hljs-string">'should handle sparse array'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    obj.b.d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">4</span>);
    obj.b.d[<span class="hljs-number">0</span>] = <span class="hljs-string">'a'</span>;
    obj.b.d[<span class="hljs-number">1</span>] = <span class="hljs-string">'b'</span>;

    objectPath.insert(obj, <span class="hljs-string">'b.d'</span>, <span class="hljs-string">'asdf'</span>, <span class="hljs-number">3</span>);
    expect(obj.b.d).to.have.members([
      <span class="hljs-string">'a'</span>,
      <span class="hljs-string">'b'</span>,
      ,
      ,
      <span class="hljs-string">'asdf'</span>
    ]);
  });
});

describe(<span class="hljs-string">'has'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  it(<span class="hljs-string">'should return false for empty object'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    expect(objectPath.has({}, <span class="hljs-string">'a'</span>)).to.be.equal(<span class="hljs-literal">false</span>);
  });

  it(<span class="hljs-string">'should handle empty paths properly'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    expect(objectPath.has(obj, <span class="hljs-string">''</span>)).to.be.equal(<span class="hljs-literal">false</span>);
    expect(objectPath.has(obj, [<span class="hljs-string">''</span>])).to.be.equal(<span class="hljs-literal">false</span>);
    obj[<span class="hljs-string">''</span>] = <span class="hljs-number">1</span>
    expect(objectPath.has(obj, <span class="hljs-string">''</span>)).to.be.equal(<span class="hljs-literal">true</span>);
    expect(objectPath.has(obj, [<span class="hljs-string">''</span>])).to.be.equal(<span class="hljs-literal">true</span>);

    expect(objectPath.has(obj, [])).to.be.equal(<span class="hljs-literal">true</span>);
    expect(objectPath.has(<span class="hljs-literal">null</span>, [])).to.be.equal(<span class="hljs-literal">false</span>);
  });

  it(<span class="hljs-string">'should test under shallow object'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    expect(objectPath.has(obj, <span class="hljs-string">'a'</span>)).to.be.equal(<span class="hljs-literal">true</span>);
    expect(objectPath.has(obj, [<span class="hljs-string">'a'</span>])).to.be.equal(<span class="hljs-literal">true</span>);
    expect(objectPath.has(obj, <span class="hljs-string">'z'</span>)).to.be.equal(<span class="hljs-literal">false</span>);
    expect(objectPath.has(obj, [<span class="hljs-string">'z'</span>])).to.be.equal(<span class="hljs-literal">false</span>);
  });

  it(<span class="hljs-string">'should work with number path'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    expect(objectPath.has(obj.b.d, <span class="hljs-number">0</span>)).to.be.equal(<span class="hljs-literal">true</span>);
    expect(objectPath.has(obj.b, <span class="hljs-number">0</span>)).to.be.equal(<span class="hljs-literal">false</span>);
    expect(objectPath.has(obj.b.d, <span class="hljs-number">10</span>)).to.be.equal(<span class="hljs-literal">false</span>);
    expect(objectPath.has(obj.b, <span class="hljs-number">10</span>)).to.be.equal(<span class="hljs-literal">false</span>);
  });

  it(<span class="hljs-string">'should test under deep object'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    expect(objectPath.has(obj, <span class="hljs-string">'b.f'</span>)).to.be.equal(<span class="hljs-literal">true</span>);
    expect(objectPath.has(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'f'</span>])).to.be.equal(<span class="hljs-literal">true</span>);
    expect(objectPath.has(obj, <span class="hljs-string">'b.g'</span>)).to.be.equal(<span class="hljs-literal">false</span>);
    expect(objectPath.has(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'g'</span>])).to.be.equal(<span class="hljs-literal">false</span>);
  });

  it(<span class="hljs-string">'should test value under array'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = {
      <span class="hljs-attr">b</span>: [<span class="hljs-string">'a'</span>]
    };
    obj.b[<span class="hljs-number">3</span>] = {<span class="hljs-attr">o</span>: <span class="hljs-string">'a'</span>}
    expect(objectPath.has(obj, <span class="hljs-string">'b.0'</span>)).to.be.equal(<span class="hljs-literal">true</span>);
    expect(objectPath.has(obj, <span class="hljs-string">'b.1'</span>)).to.be.equal(<span class="hljs-literal">true</span>);
    expect(objectPath.has(obj, <span class="hljs-string">'b.3.o'</span>)).to.be.equal(<span class="hljs-literal">true</span>);
    expect(objectPath.has(obj, <span class="hljs-string">'b.3.qwe'</span>)).to.be.equal(<span class="hljs-literal">false</span>);
    expect(objectPath.has(obj, <span class="hljs-string">'b.4'</span>)).to.be.equal(<span class="hljs-literal">false</span>);
  });

  it(<span class="hljs-string">'should test the value under array deep'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    expect(objectPath.has(obj, <span class="hljs-string">'b.e.1.f'</span>)).to.be.equal(<span class="hljs-literal">true</span>);
    expect(objectPath.has(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'e'</span>,<span class="hljs-number">1</span>,<span class="hljs-string">'f'</span>])).to.be.equal(<span class="hljs-literal">true</span>);
    expect(objectPath.has(obj, <span class="hljs-string">'b.e.1.f.g.h.i'</span>)).to.be.equal(<span class="hljs-literal">false</span>);
    expect(objectPath.has(obj, [<span class="hljs-string">'b'</span>,<span class="hljs-string">'e'</span>,<span class="hljs-number">1</span>,<span class="hljs-string">'f'</span>,<span class="hljs-string">'g'</span>,<span class="hljs-string">'h'</span>,<span class="hljs-string">'i'</span>])).to.be.equal(<span class="hljs-literal">false</span>);
  });

  it(<span class="hljs-string">'should test the value under integer-like key'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = { <span class="hljs-string">'1a'</span>: <span class="hljs-string">'foo'</span> };
    expect(objectPath.has(obj, <span class="hljs-string">'1a'</span>)).to.be.equal(<span class="hljs-literal">true</span>);
    expect(objectPath.has(obj, [<span class="hljs-string">'1a'</span>])).to.be.equal(<span class="hljs-literal">true</span>);
  });

  it(<span class="hljs-string">'should distinct nonexistent key and key = undefined'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = {};
    expect(objectPath.has(obj, <span class="hljs-string">'key'</span>)).to.be.equal(<span class="hljs-literal">false</span>);

    obj.key = <span class="hljs-literal">undefined</span>;
    expect(objectPath.has(obj, <span class="hljs-string">'key'</span>)).to.be.equal(<span class="hljs-literal">true</span>);
  });

  it(<span class="hljs-string">'should work with deep undefined/null values'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = {};
    expect(objectPath.has(obj, <span class="hljs-string">'missing.test'</span>)).to.be.equal(<span class="hljs-literal">false</span>);

    obj.missing = <span class="hljs-literal">null</span>;
    expect(objectPath.has(obj, <span class="hljs-string">'missing.test'</span>)).to.be.equal(<span class="hljs-literal">false</span>);

    obj.sparseArray = [<span class="hljs-number">1</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-number">3</span>]
    expect(objectPath.has(obj, <span class="hljs-string">'sparseArray.1.test'</span>)).to.be.equal(<span class="hljs-literal">false</span>);
  });
});



describe(<span class="hljs-string">'bind object'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>just get one scenario from each feature, so whole functionality is proxied well</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  it(<span class="hljs-string">'should return the value under shallow object'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    <span class="hljs-keyword">var</span> model = objectPath(obj);
    expect(model.get(<span class="hljs-string">'a'</span>)).to.be.equal(<span class="hljs-string">'b'</span>);
    expect(model.get([<span class="hljs-string">'a'</span>])).to.be.equal(<span class="hljs-string">'b'</span>);
  });

  it(<span class="hljs-string">'should set value under shallow object'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    <span class="hljs-keyword">var</span> model = objectPath(obj);
    model.set(<span class="hljs-string">'c'</span>, {<span class="hljs-attr">m</span>: <span class="hljs-string">'o'</span>});
    expect(obj).to.have.deep.property(<span class="hljs-string">'c.m'</span>, <span class="hljs-string">'o'</span>);
    obj = getTestObj();
    model = objectPath(obj);
    model.set([<span class="hljs-string">'c'</span>], {<span class="hljs-attr">m</span>: <span class="hljs-string">'o'</span>});
    expect(obj).to.have.deep.property(<span class="hljs-string">'c.m'</span>, <span class="hljs-string">'o'</span>);
  });

  it(<span class="hljs-string">'should push value to existing array'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    <span class="hljs-keyword">var</span> model = objectPath(obj);
    model.push(<span class="hljs-string">'b.c'</span>, <span class="hljs-string">'l'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.c.0'</span>, <span class="hljs-string">'l'</span>);
    obj = getTestObj();
    model = objectPath(obj);
    model.push([<span class="hljs-string">'b'</span>,<span class="hljs-string">'c'</span>], <span class="hljs-string">'l'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.c.0'</span>, <span class="hljs-string">'l'</span>);
  });

  it(<span class="hljs-string">'should create the path if it does not exists'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    <span class="hljs-keyword">var</span> model = objectPath(obj);
    <span class="hljs-keyword">var</span> oldVal = model.ensureExists(<span class="hljs-string">'b.g.1.l'</span>, <span class="hljs-string">'test'</span>);
    expect(oldVal).to.not.exist;
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.g.1.l'</span>, <span class="hljs-string">'test'</span>);
    oldVal = model.ensureExists(<span class="hljs-string">'b.g.1.l'</span>, <span class="hljs-string">'test1'</span>);
    expect(oldVal).to.be.equal(<span class="hljs-string">'test'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.g.1.l'</span>, <span class="hljs-string">'test'</span>);
  });

  it(<span class="hljs-string">'should return the first non-undefined value'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> obj = {
      <span class="hljs-attr">should</span>: {<span class="hljs-attr">have</span>: <span class="hljs-string">'prop'</span>}
    };
    <span class="hljs-keyword">var</span> model = objectPath(obj);

    expect(model.coalesce([
      <span class="hljs-string">'doesnt.exist'</span>,
      [<span class="hljs-string">'might'</span>,<span class="hljs-string">'not'</span>,<span class="hljs-string">'exist'</span>],
      <span class="hljs-string">'should.have'</span>
    ])).to.equal(<span class="hljs-string">'prop'</span>);
  });

  it(<span class="hljs-string">'should empty each path according to their types'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Instance</span>(<span class="hljs-params"></span>)</span>{
      <span class="hljs-keyword">this</span>.notOwn = <span class="hljs-literal">true</span>;
    }

    <span class="hljs-comment">/*istanbul ignore next: not part of code */</span>
    Instance.prototype.test = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{};
    <span class="hljs-comment">/*istanbul ignore next: not part of code */</span>
    Instance.prototype.arr = [];

    <span class="hljs-keyword">var</span>
      obj = {
        <span class="hljs-attr">string</span>: <span class="hljs-string">'some string'</span>,
        <span class="hljs-attr">array</span>: [<span class="hljs-string">'some'</span>,<span class="hljs-string">'array'</span>,[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]],
        <span class="hljs-attr">number</span>: <span class="hljs-number">21</span>,
        <span class="hljs-attr">boolean</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">object</span>: {
          <span class="hljs-attr">some</span>:<span class="hljs-string">'property'</span>,
          <span class="hljs-attr">sub</span>: {
            <span class="hljs-string">'property'</span>: <span class="hljs-literal">true</span>
          }
        },
        <span class="hljs-attr">instance</span>: <span class="hljs-keyword">new</span> Instance()
      };

    <span class="hljs-comment">/*istanbul ignore next: not part of code */</span>
    obj[<span class="hljs-string">'function'</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{};

    <span class="hljs-keyword">var</span> model = objectPath(obj);

    model.empty([<span class="hljs-string">'array'</span>,<span class="hljs-string">'2'</span>]);
    expect(obj.array[<span class="hljs-number">2</span>]).to.deep.equal([]);

    model.empty(<span class="hljs-string">'object.sub'</span>);
    expect(obj.object.sub).to.deep.equal({});

    model.empty(<span class="hljs-string">'instance.test'</span>);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>instance.test is not own property so it shouldn't be emptied</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    expect(obj.instance.test).to.be.a(<span class="hljs-string">'function'</span>);
    expect(Instance.prototype.test).to.be.a(<span class="hljs-string">'function'</span>);

    model.empty(<span class="hljs-string">'string'</span>);
    model.empty(<span class="hljs-string">'number'</span>);
    model.empty(<span class="hljs-string">'boolean'</span>);
    model.empty(<span class="hljs-string">'function'</span>);
    model.empty(<span class="hljs-string">'array'</span>);
    model.empty(<span class="hljs-string">'object'</span>);
    model.empty(<span class="hljs-string">'instance'</span>);

    expect(obj.string).to.equal(<span class="hljs-string">''</span>);
    expect(obj.array).to.deep.equal([]);
    expect(obj.number).to.equal(<span class="hljs-number">0</span>);
    expect(obj.boolean).to.equal(<span class="hljs-literal">false</span>);
    expect(obj.object).to.deep.equal({});
    expect(obj.instance.notOwn).to.be.an(<span class="hljs-string">'undefined'</span>);
    expect(obj.instance.arr).to.be.an(<span class="hljs-string">'array'</span>);
    expect(obj[<span class="hljs-string">'function'</span>]).to.equal(<span class="hljs-literal">null</span>);
  });

  it(<span class="hljs-string">'should delete deep paths'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    <span class="hljs-keyword">var</span> model = objectPath(obj);

    expect(model.del()).to.be.equal(obj);

    model.set(<span class="hljs-string">'b.g.1.0'</span>, <span class="hljs-string">'test'</span>);
    model.set(<span class="hljs-string">'b.g.1.1'</span>, <span class="hljs-string">'test'</span>);
    model.set(<span class="hljs-string">'b.h.az'</span>, <span class="hljs-string">'test'</span>);

    expect(obj).to.have.deep.property(<span class="hljs-string">'b.g.1.0'</span>,<span class="hljs-string">'test'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.g.1.1'</span>,<span class="hljs-string">'test'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.h.az'</span>,<span class="hljs-string">'test'</span>);

    model.del(<span class="hljs-string">'b.h.az'</span>);
    expect(obj).to.not.have.deep.property(<span class="hljs-string">'b.h.az'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.h'</span>);

    model.del(<span class="hljs-string">'b.g.1.1'</span>);
    expect(obj).to.not.have.deep.property(<span class="hljs-string">'b.g.1.1'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.g.1.0'</span>,<span class="hljs-string">'test'</span>);

    model.del([<span class="hljs-string">'b'</span>,<span class="hljs-string">'g'</span>,<span class="hljs-string">'1'</span>,<span class="hljs-string">'0'</span>]);
    expect(obj).to.not.have.deep.property(<span class="hljs-string">'b.g.1.0'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.g.1'</span>);

    expect(model.del([<span class="hljs-string">'b'</span>])).to.not.have.deep.property(<span class="hljs-string">'b.g'</span>);
    expect(obj).to.be.deep.equal({<span class="hljs-string">'a'</span>:<span class="hljs-string">'b'</span>});
  });

  it(<span class="hljs-string">'should insert value into existing array'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    <span class="hljs-keyword">var</span> model = objectPath(obj);

    model.insert(<span class="hljs-string">'b.c'</span>, <span class="hljs-string">'asdf'</span>);
    expect(obj).to.have.deep.property(<span class="hljs-string">'b.c.0'</span>, <span class="hljs-string">'asdf'</span>);
    expect(obj).to.not.have.deep.property(<span class="hljs-string">'b.c.1'</span>);
  });

  it(<span class="hljs-string">'should test under shallow object'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getTestObj();
    <span class="hljs-keyword">var</span> model = objectPath(obj);

    expect(model.has(<span class="hljs-string">'a'</span>)).to.be.equal(<span class="hljs-literal">true</span>);
    expect(model.has([<span class="hljs-string">'a'</span>])).to.be.equal(<span class="hljs-literal">true</span>);
    expect(model.has(<span class="hljs-string">'z'</span>)).to.be.equal(<span class="hljs-literal">false</span>);
    expect(model.has([<span class="hljs-string">'z'</span>])).to.be.equal(<span class="hljs-literal">false</span>);
  });
});

describe(<span class="hljs-string">'Don\'t access not own properties [default]'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  it(<span class="hljs-string">'should not get a not own property'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> Obj = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{};
    Obj.prototype.notOwn = {<span class="hljs-attr">a</span>: <span class="hljs-string">'a'</span>};
    <span class="hljs-keyword">var</span> obj = <span class="hljs-keyword">new</span> Obj();

    expect(objectPath.get(obj, <span class="hljs-string">'notOwn'</span>)).to.be.undefined
  });

  it(<span class="hljs-string">'should set a not own property on the instance (not the prototype)'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> proto = {
      <span class="hljs-attr">notOwn</span>: {}
    }
    <span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">Object</span>.create(proto)

    objectPath.set(obj, <span class="hljs-string">'notOwn.test'</span>, <span class="hljs-string">'a'</span>);
    expect(obj.notOwn.test).to.be.equal(<span class="hljs-string">'a'</span>);
    expect(proto.notOwn).to.be.deep.equal({});
  });

  it(<span class="hljs-string">'has should return false on a not own property'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> proto = {
      <span class="hljs-attr">notOwn</span>: {<span class="hljs-attr">a</span>: <span class="hljs-string">'a'</span>}
    }
    <span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">Object</span>.create(proto)


    expect(objectPath.has(obj, <span class="hljs-string">'notOwn'</span>)).to.be.false;
    expect(objectPath.has(obj, <span class="hljs-string">'notOwn.a'</span>)).to.be.false;
  });

  it(<span class="hljs-string">'empty should not empty on a not own property'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> proto = {
      <span class="hljs-attr">notOwn</span>: {<span class="hljs-attr">a</span>: <span class="hljs-string">'a'</span>}
    }
    <span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">Object</span>.create(proto);

    objectPath.empty(obj, <span class="hljs-string">'notOwn'</span>);
    expect(proto.notOwn).to.be.deep.equal({<span class="hljs-attr">a</span>: <span class="hljs-string">'a'</span>});
    expect(obj.notOwn).to.be.deep.equal({<span class="hljs-attr">a</span>: <span class="hljs-string">'a'</span>});
  });

  it(<span class="hljs-string">'del should not delete not own property'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> proto = {
      <span class="hljs-attr">notOwn</span>: {<span class="hljs-attr">a</span>: <span class="hljs-string">'a'</span>}
    }
    <span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">Object</span>.create(proto);

    objectPath.del(obj, <span class="hljs-string">'notOwn.a'</span>);
    expect(proto.notOwn).to.be.deep.equal({<span class="hljs-attr">a</span>: <span class="hljs-string">'a'</span>});
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>expect(obj.notOwn).to.be.deep.equal({a: 'a'});
objectPath.del(obj, 'notOwn');
expect(proto).to.be.deep.equal({notOwn: {a: 'a'}});
expect(obj).to.be.deep.equal({notOwn: {a: 'a'}});</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  });
});

describe(<span class="hljs-string">'Access own properties [optional]'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  it(<span class="hljs-string">'should get a not own property'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> Obj = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{};
    Obj.prototype.notOwn = {<span class="hljs-attr">a</span>: <span class="hljs-string">'a'</span>};
    <span class="hljs-keyword">var</span> obj = <span class="hljs-keyword">new</span> Obj();

    expect(objectPath.withInheritedProps.get(obj, <span class="hljs-string">'notOwn.a'</span>)).to.be.equal(<span class="hljs-string">'a'</span>)
  });

  it(<span class="hljs-string">'should set a deep not own property on the prototype (if exists)'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> proto = {
      <span class="hljs-attr">notOwn</span>: {}
    }
    <span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">Object</span>.create(proto)

    objectPath.withInheritedProps.set(obj, <span class="hljs-string">'notOwn.test'</span>, <span class="hljs-string">'a'</span>);
    expect(obj.notOwn.test).to.be.equal(<span class="hljs-string">'a'</span>);
    expect(proto.notOwn).to.be.deep.equal({<span class="hljs-attr">test</span>: <span class="hljs-string">'a'</span>});
  });


  it(<span class="hljs-string">'has should return true on a not own property'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> proto = {
      <span class="hljs-attr">notOwn</span>: {<span class="hljs-attr">a</span>: <span class="hljs-string">'a'</span>}
    }
    <span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">Object</span>.create(proto)

    expect(objectPath.withInheritedProps.has(obj, <span class="hljs-string">'notOwn'</span>)).to.be.true;
    expect(objectPath.withInheritedProps.has(obj, <span class="hljs-string">'notOwn.a'</span>)).to.be.true;
  });

  it(<span class="hljs-string">'empty should empty a not own property'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> proto = {
      <span class="hljs-attr">notOwn</span>: {<span class="hljs-attr">a</span>: <span class="hljs-string">'a'</span>}
    }
    <span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">Object</span>.create(proto);

    objectPath.withInheritedProps.empty(obj, <span class="hljs-string">'notOwn'</span>);
    expect(proto.notOwn).to.be.deep.equal({});
    expect(obj.notOwn).to.be.deep.equal({});
  });

  it(<span class="hljs-string">'del should delete a not own property'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> proto = {
      <span class="hljs-attr">notOwn</span>: {<span class="hljs-attr">a</span>: <span class="hljs-string">'a'</span>}
    }
    <span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">Object</span>.create(proto);

    objectPath.withInheritedProps.del(obj, <span class="hljs-string">'notOwn.a'</span>);
    expect(proto.notOwn).to.be.deep.equal({});
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>expect(obj.notOwn).to.be.deep.equal({});</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    objectPath.withInheritedProps.del(obj, <span class="hljs-string">'notOwn'</span>);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>expect(proto).to.be.deep.equal({notOwn: {}});
expect(obj).to.be.deep.equal({notOwn: {}});</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  });
});

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
