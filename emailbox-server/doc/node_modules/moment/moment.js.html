<!DOCTYPE html>
<html>
<head>
  <title>moment.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules\\moment\\moment.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>moment.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>
<p>! moment.js</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
;(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">global, factory</span>) </span>{
    <span class="hljs-keyword">typeof</span> exports === <span class="hljs-string">'object'</span> &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span> !== <span class="hljs-string">'undefined'</span> ? <span class="hljs-built_in">module</span>.exports = factory() :
    <span class="hljs-keyword">typeof</span> define === <span class="hljs-string">'function'</span> &amp;&amp; define.amd ? define(factory) :
    global.moment = factory()
}(<span class="hljs-keyword">this</span>, (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-string">'use strict'</span>;

    <span class="hljs-keyword">var</span> hookCallback;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hooks</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> hookCallback.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>This is done to register the method called with moment()
without creating circular dependencies.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setHookCallback</span> (<span class="hljs-params">callback</span>) </span>{
        hookCallback = callback;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isArray</span>(<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> input <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span> || <span class="hljs-built_in">Object</span>.prototype.toString.call(input) === <span class="hljs-string">'[object Array]'</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isObject</span>(<span class="hljs-params">input</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>IE8 will treat undefined and null as object if it wasn't for
input != null</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">return</span> input != <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-built_in">Object</span>.prototype.toString.call(input) === <span class="hljs-string">'[object Object]'</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isObjectEmpty</span>(<span class="hljs-params">obj</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.getOwnPropertyNames) {
            <span class="hljs-keyword">return</span> (<span class="hljs-built_in">Object</span>.getOwnPropertyNames(obj).length === <span class="hljs-number">0</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> k;
            <span class="hljs-keyword">for</span> (k <span class="hljs-keyword">in</span> obj) {
                <span class="hljs-keyword">if</span> (obj.hasOwnProperty(k)) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isUndefined</span>(<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> input === <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isNumber</span>(<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> input === <span class="hljs-string">'number'</span> || <span class="hljs-built_in">Object</span>.prototype.toString.call(input) === <span class="hljs-string">'[object Number]'</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDate</span>(<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> input <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Date</span> || <span class="hljs-built_in">Object</span>.prototype.toString.call(input) === <span class="hljs-string">'[object Date]'</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">map</span>(<span class="hljs-params">arr, fn</span>) </span>{
        <span class="hljs-keyword">var</span> res = [], i;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; arr.length; ++i) {
            res.push(fn(arr[i], i));
        }
        <span class="hljs-keyword">return</span> res;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasOwnProp</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(a, b);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">extend</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> b) {
            <span class="hljs-keyword">if</span> (hasOwnProp(b, i)) {
                a[i] = b[i];
            }
        }

        <span class="hljs-keyword">if</span> (hasOwnProp(b, <span class="hljs-string">'toString'</span>)) {
            a.toString = b.toString;
        }

        <span class="hljs-keyword">if</span> (hasOwnProp(b, <span class="hljs-string">'valueOf'</span>)) {
            a.valueOf = b.valueOf;
        }

        <span class="hljs-keyword">return</span> a;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createUTC</span> (<span class="hljs-params">input, format, locale, strict</span>) </span>{
        <span class="hljs-keyword">return</span> createLocalOrUTC(input, format, locale, strict, <span class="hljs-literal">true</span>).utc();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">defaultParsingFlags</span>(<span class="hljs-params"></span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>We need to deep clone this object.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">empty</span>           : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">unusedTokens</span>    : [],
            <span class="hljs-attr">unusedInput</span>     : [],
            <span class="hljs-attr">overflow</span>        : <span class="hljs-number">-2</span>,
            <span class="hljs-attr">charsLeftOver</span>   : <span class="hljs-number">0</span>,
            <span class="hljs-attr">nullInput</span>       : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">invalidMonth</span>    : <span class="hljs-literal">null</span>,
            <span class="hljs-attr">invalidFormat</span>   : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">userInvalidated</span> : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">iso</span>             : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">parsedDateParts</span> : [],
            <span class="hljs-attr">meridiem</span>        : <span class="hljs-literal">null</span>,
            <span class="hljs-attr">rfc2822</span>         : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">weekdayMismatch</span> : <span class="hljs-literal">false</span>
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getParsingFlags</span>(<span class="hljs-params">m</span>) </span>{
        <span class="hljs-keyword">if</span> (m._pf == <span class="hljs-literal">null</span>) {
            m._pf = defaultParsingFlags();
        }
        <span class="hljs-keyword">return</span> m._pf;
    }

    <span class="hljs-keyword">var</span> some;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.prototype.some) {
        some = <span class="hljs-built_in">Array</span>.prototype.some;
    } <span class="hljs-keyword">else</span> {
        some = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">fun</span>) </span>{
            <span class="hljs-keyword">var</span> t = <span class="hljs-built_in">Object</span>(<span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">var</span> len = t.length &gt;&gt;&gt; <span class="hljs-number">0</span>;

            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) {
                <span class="hljs-keyword">if</span> (i <span class="hljs-keyword">in</span> t &amp;&amp; fun.call(<span class="hljs-keyword">this</span>, t[i], i, t)) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                }
            }

            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isValid</span>(<span class="hljs-params">m</span>) </span>{
        <span class="hljs-keyword">if</span> (m._isValid == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">var</span> flags = getParsingFlags(m);
            <span class="hljs-keyword">var</span> parsedParts = some.call(flags.parsedDateParts, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">i</span>) </span>{
                <span class="hljs-keyword">return</span> i != <span class="hljs-literal">null</span>;
            });
            <span class="hljs-keyword">var</span> isNowValid = !<span class="hljs-built_in">isNaN</span>(m._d.getTime()) &amp;&amp;
                flags.overflow &lt; <span class="hljs-number">0</span> &amp;&amp;
                !flags.empty &amp;&amp;
                !flags.invalidMonth &amp;&amp;
                !flags.invalidWeekday &amp;&amp;
                !flags.weekdayMismatch &amp;&amp;
                !flags.nullInput &amp;&amp;
                !flags.invalidFormat &amp;&amp;
                !flags.userInvalidated &amp;&amp;
                (!flags.meridiem || (flags.meridiem &amp;&amp; parsedParts));

            <span class="hljs-keyword">if</span> (m._strict) {
                isNowValid = isNowValid &amp;&amp;
                    flags.charsLeftOver === <span class="hljs-number">0</span> &amp;&amp;
                    flags.unusedTokens.length === <span class="hljs-number">0</span> &amp;&amp;
                    flags.bigHour === <span class="hljs-literal">undefined</span>;
            }

            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isFrozen == <span class="hljs-literal">null</span> || !<span class="hljs-built_in">Object</span>.isFrozen(m)) {
                m._isValid = isNowValid;
            }
            <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> isNowValid;
            }
        }
        <span class="hljs-keyword">return</span> m._isValid;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createInvalid</span> (<span class="hljs-params">flags</span>) </span>{
        <span class="hljs-keyword">var</span> m = createUTC(<span class="hljs-literal">NaN</span>);
        <span class="hljs-keyword">if</span> (flags != <span class="hljs-literal">null</span>) {
            extend(getParsingFlags(m), flags);
        }
        <span class="hljs-keyword">else</span> {
            getParsingFlags(m).userInvalidated = <span class="hljs-literal">true</span>;
        }

        <span class="hljs-keyword">return</span> m;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>Plugins that add properties should also add the key here (null value),
so we can properly clone ourselves.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> momentProperties = hooks.momentProperties = [];

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">copyConfig</span>(<span class="hljs-params">to, from</span>) </span>{
        <span class="hljs-keyword">var</span> i, prop, val;

        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._isAMomentObject)) {
            to._isAMomentObject = <span class="hljs-keyword">from</span>._isAMomentObject;
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._i)) {
            to._i = <span class="hljs-keyword">from</span>._i;
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._f)) {
            to._f = <span class="hljs-keyword">from</span>._f;
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._l)) {
            to._l = <span class="hljs-keyword">from</span>._l;
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._strict)) {
            to._strict = <span class="hljs-keyword">from</span>._strict;
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._tzm)) {
            to._tzm = <span class="hljs-keyword">from</span>._tzm;
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._isUTC)) {
            to._isUTC = <span class="hljs-keyword">from</span>._isUTC;
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._offset)) {
            to._offset = <span class="hljs-keyword">from</span>._offset;
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._pf)) {
            to._pf = getParsingFlags(<span class="hljs-keyword">from</span>);
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._locale)) {
            to._locale = <span class="hljs-keyword">from</span>._locale;
        }

        <span class="hljs-keyword">if</span> (momentProperties.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; momentProperties.length; i++) {
                prop = momentProperties[i];
                val = <span class="hljs-keyword">from</span>[prop];
                <span class="hljs-keyword">if</span> (!isUndefined(val)) {
                    to[prop] = val;
                }
            }
        }

        <span class="hljs-keyword">return</span> to;
    }

    <span class="hljs-keyword">var</span> updateInProgress = <span class="hljs-literal">false</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>Moment prototype object</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Moment</span>(<span class="hljs-params">config</span>) </span>{
        copyConfig(<span class="hljs-keyword">this</span>, config);
        <span class="hljs-keyword">this</span>._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(config._d != <span class="hljs-literal">null</span> ? config._d.getTime() : <span class="hljs-literal">NaN</span>);
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">this</span>._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-literal">NaN</span>);
        }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>Prevent infinite loop in case updateOffset creates new moment
objects.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (updateInProgress === <span class="hljs-literal">false</span>) {
            updateInProgress = <span class="hljs-literal">true</span>;
            hooks.updateOffset(<span class="hljs-keyword">this</span>);
            updateInProgress = <span class="hljs-literal">false</span>;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isMoment</span> (<span class="hljs-params">obj</span>) </span>{
        <span class="hljs-keyword">return</span> obj <span class="hljs-keyword">instanceof</span> Moment || (obj != <span class="hljs-literal">null</span> &amp;&amp; obj._isAMomentObject != <span class="hljs-literal">null</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">absFloor</span> (<span class="hljs-params">number</span>) </span>{
        <span class="hljs-keyword">if</span> (number &lt; <span class="hljs-number">0</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>-0 -&gt; 0</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.ceil(number) || <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.floor(number);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toInt</span>(<span class="hljs-params">argumentForCoercion</span>) </span>{
        <span class="hljs-keyword">var</span> coercedNumber = +argumentForCoercion,
            value = <span class="hljs-number">0</span>;

        <span class="hljs-keyword">if</span> (coercedNumber !== <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-built_in">isFinite</span>(coercedNumber)) {
            value = absFloor(coercedNumber);
        }

        <span class="hljs-keyword">return</span> value;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>compare two arrays, return the number of differences</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compareArrays</span>(<span class="hljs-params">array1, array2, dontConvert</span>) </span>{
        <span class="hljs-keyword">var</span> len = <span class="hljs-built_in">Math</span>.min(array1.length, array2.length),
            lengthDiff = <span class="hljs-built_in">Math</span>.abs(array1.length - array2.length),
            diffs = <span class="hljs-number">0</span>,
            i;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; len; i++) {
            <span class="hljs-keyword">if</span> ((dontConvert &amp;&amp; array1[i] !== array2[i]) ||
                (!dontConvert &amp;&amp; toInt(array1[i]) !== toInt(array2[i]))) {
                diffs++;
            }
        }
        <span class="hljs-keyword">return</span> diffs + lengthDiff;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">warn</span>(<span class="hljs-params">msg</span>) </span>{
        <span class="hljs-keyword">if</span> (hooks.suppressDeprecationWarnings === <span class="hljs-literal">false</span> &amp;&amp;
                (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">console</span> !==  <span class="hljs-string">'undefined'</span>) &amp;&amp; <span class="hljs-built_in">console</span>.warn) {
            <span class="hljs-built_in">console</span>.warn(<span class="hljs-string">'Deprecation warning: '</span> + msg);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deprecate</span>(<span class="hljs-params">msg, fn</span>) </span>{
        <span class="hljs-keyword">var</span> firstTime = <span class="hljs-literal">true</span>;

        <span class="hljs-keyword">return</span> extend(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (hooks.deprecationHandler != <span class="hljs-literal">null</span>) {
                hooks.deprecationHandler(<span class="hljs-literal">null</span>, msg);
            }
            <span class="hljs-keyword">if</span> (firstTime) {
                <span class="hljs-keyword">var</span> args = [];
                <span class="hljs-keyword">var</span> arg;
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">arguments</span>.length; i++) {
                    arg = <span class="hljs-string">''</span>;
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">arguments</span>[i] === <span class="hljs-string">'object'</span>) {
                        arg += <span class="hljs-string">'\n['</span> + i + <span class="hljs-string">'] '</span>;
                        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>]) {
                            arg += key + <span class="hljs-string">': '</span> + <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>][key] + <span class="hljs-string">', '</span>;
                        }
                        arg = arg.slice(<span class="hljs-number">0</span>, <span class="hljs-number">-2</span>); <span class="hljs-comment">// Remove trailing comma and space</span>
                    } <span class="hljs-keyword">else</span> {
                        arg = <span class="hljs-built_in">arguments</span>[i];
                    }
                    args.push(arg);
                }
                warn(msg + <span class="hljs-string">'\nArguments: '</span> + <span class="hljs-built_in">Array</span>.prototype.slice.call(args).join(<span class="hljs-string">''</span>) + <span class="hljs-string">'\n'</span> + (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>()).stack);
                firstTime = <span class="hljs-literal">false</span>;
            }
            <span class="hljs-keyword">return</span> fn.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
        }, fn);
    }

    <span class="hljs-keyword">var</span> deprecations = {};

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deprecateSimple</span>(<span class="hljs-params">name, msg</span>) </span>{
        <span class="hljs-keyword">if</span> (hooks.deprecationHandler != <span class="hljs-literal">null</span>) {
            hooks.deprecationHandler(name, msg);
        }
        <span class="hljs-keyword">if</span> (!deprecations[name]) {
            warn(msg);
            deprecations[name] = <span class="hljs-literal">true</span>;
        }
    }

    hooks.suppressDeprecationWarnings = <span class="hljs-literal">false</span>;
    hooks.deprecationHandler = <span class="hljs-literal">null</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isFunction</span>(<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> input <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Function</span> || <span class="hljs-built_in">Object</span>.prototype.toString.call(input) === <span class="hljs-string">'[object Function]'</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set</span> (<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> prop, i;
        <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> config) {
            prop = config[i];
            <span class="hljs-keyword">if</span> (isFunction(prop)) {
                <span class="hljs-keyword">this</span>[i] = prop;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>[<span class="hljs-string">'_'</span> + i] = prop;
            }
        }
        <span class="hljs-keyword">this</span>._config = config;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>Lenient ordinal parsing accepts just a number in addition to
number + (possibly) stuff coming from _dayOfMonthOrdinalParse.
TODO: Remove &quot;ordinalParse&quot; fallback in next major release.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">this</span>._dayOfMonthOrdinalParseLenient = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(
            (<span class="hljs-keyword">this</span>._dayOfMonthOrdinalParse.source || <span class="hljs-keyword">this</span>._ordinalParse.source) +
                <span class="hljs-string">'|'</span> + (<span class="hljs-regexp">/\d{1,2}/</span>).source);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mergeConfigs</span>(<span class="hljs-params">parentConfig, childConfig</span>) </span>{
        <span class="hljs-keyword">var</span> res = extend({}, parentConfig), prop;
        <span class="hljs-keyword">for</span> (prop <span class="hljs-keyword">in</span> childConfig) {
            <span class="hljs-keyword">if</span> (hasOwnProp(childConfig, prop)) {
                <span class="hljs-keyword">if</span> (isObject(parentConfig[prop]) &amp;&amp; isObject(childConfig[prop])) {
                    res[prop] = {};
                    extend(res[prop], parentConfig[prop]);
                    extend(res[prop], childConfig[prop]);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (childConfig[prop] != <span class="hljs-literal">null</span>) {
                    res[prop] = childConfig[prop];
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">delete</span> res[prop];
                }
            }
        }
        <span class="hljs-keyword">for</span> (prop <span class="hljs-keyword">in</span> parentConfig) {
            <span class="hljs-keyword">if</span> (hasOwnProp(parentConfig, prop) &amp;&amp;
                    !hasOwnProp(childConfig, prop) &amp;&amp;
                    isObject(parentConfig[prop])) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<p>make sure changes to properties don't modify parent config</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                res[prop] = extend({}, res[prop]);
            }
        }
        <span class="hljs-keyword">return</span> res;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Locale</span>(<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">if</span> (config != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">this</span>.set(config);
        }
    }

    <span class="hljs-keyword">var</span> keys;

    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.keys) {
        keys = <span class="hljs-built_in">Object</span>.keys;
    } <span class="hljs-keyword">else</span> {
        keys = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) </span>{
            <span class="hljs-keyword">var</span> i, res = [];
            <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> obj) {
                <span class="hljs-keyword">if</span> (hasOwnProp(obj, i)) {
                    res.push(i);
                }
            }
            <span class="hljs-keyword">return</span> res;
        };
    }

    <span class="hljs-keyword">var</span> defaultCalendar = {
        <span class="hljs-attr">sameDay</span> : <span class="hljs-string">'[Today at] LT'</span>,
        <span class="hljs-attr">nextDay</span> : <span class="hljs-string">'[Tomorrow at] LT'</span>,
        <span class="hljs-attr">nextWeek</span> : <span class="hljs-string">'dddd [at] LT'</span>,
        <span class="hljs-attr">lastDay</span> : <span class="hljs-string">'[Yesterday at] LT'</span>,
        <span class="hljs-attr">lastWeek</span> : <span class="hljs-string">'[Last] dddd [at] LT'</span>,
        <span class="hljs-attr">sameElse</span> : <span class="hljs-string">'L'</span>
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">calendar</span> (<span class="hljs-params">key, mom, now</span>) </span>{
        <span class="hljs-keyword">var</span> output = <span class="hljs-keyword">this</span>._calendar[key] || <span class="hljs-keyword">this</span>._calendar[<span class="hljs-string">'sameElse'</span>];
        <span class="hljs-keyword">return</span> isFunction(output) ? output.call(mom, now) : output;
    }

    <span class="hljs-keyword">var</span> defaultLongDateFormat = {
        <span class="hljs-attr">LTS</span>  : <span class="hljs-string">'h:mm:ss A'</span>,
        <span class="hljs-attr">LT</span>   : <span class="hljs-string">'h:mm A'</span>,
        <span class="hljs-attr">L</span>    : <span class="hljs-string">'MM/DD/YYYY'</span>,
        <span class="hljs-attr">LL</span>   : <span class="hljs-string">'MMMM D, YYYY'</span>,
        <span class="hljs-attr">LLL</span>  : <span class="hljs-string">'MMMM D, YYYY h:mm A'</span>,
        <span class="hljs-attr">LLLL</span> : <span class="hljs-string">'dddd, MMMM D, YYYY h:mm A'</span>
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">longDateFormat</span> (<span class="hljs-params">key</span>) </span>{
        <span class="hljs-keyword">var</span> format = <span class="hljs-keyword">this</span>._longDateFormat[key],
            formatUpper = <span class="hljs-keyword">this</span>._longDateFormat[key.toUpperCase()];

        <span class="hljs-keyword">if</span> (format || !formatUpper) {
            <span class="hljs-keyword">return</span> format;
        }

        <span class="hljs-keyword">this</span>._longDateFormat[key] = formatUpper.replace(<span class="hljs-regexp">/MMMM|MM|DD|dddd/g</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">val</span>) </span>{
            <span class="hljs-keyword">return</span> val.slice(<span class="hljs-number">1</span>);
        });

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._longDateFormat[key];
    }

    <span class="hljs-keyword">var</span> defaultInvalidDate = <span class="hljs-string">'Invalid date'</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">invalidDate</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._invalidDate;
    }

    <span class="hljs-keyword">var</span> defaultOrdinal = <span class="hljs-string">'%d'</span>;
    <span class="hljs-keyword">var</span> defaultDayOfMonthOrdinalParse = <span class="hljs-regexp">/\d{1,2}/</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ordinal</span> (<span class="hljs-params">number</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._ordinal.replace(<span class="hljs-string">'%d'</span>, number);
    }

    <span class="hljs-keyword">var</span> defaultRelativeTime = {
        <span class="hljs-attr">future</span> : <span class="hljs-string">'in %s'</span>,
        <span class="hljs-attr">past</span>   : <span class="hljs-string">'%s ago'</span>,
        <span class="hljs-attr">s</span>  : <span class="hljs-string">'a few seconds'</span>,
        <span class="hljs-attr">ss</span> : <span class="hljs-string">'%d seconds'</span>,
        <span class="hljs-attr">m</span>  : <span class="hljs-string">'a minute'</span>,
        <span class="hljs-attr">mm</span> : <span class="hljs-string">'%d minutes'</span>,
        <span class="hljs-attr">h</span>  : <span class="hljs-string">'an hour'</span>,
        <span class="hljs-attr">hh</span> : <span class="hljs-string">'%d hours'</span>,
        <span class="hljs-attr">d</span>  : <span class="hljs-string">'a day'</span>,
        <span class="hljs-attr">dd</span> : <span class="hljs-string">'%d days'</span>,
        <span class="hljs-attr">M</span>  : <span class="hljs-string">'a month'</span>,
        <span class="hljs-attr">MM</span> : <span class="hljs-string">'%d months'</span>,
        <span class="hljs-attr">y</span>  : <span class="hljs-string">'a year'</span>,
        <span class="hljs-attr">yy</span> : <span class="hljs-string">'%d years'</span>
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">relativeTime</span> (<span class="hljs-params">number, withoutSuffix, string, isFuture</span>) </span>{
        <span class="hljs-keyword">var</span> output = <span class="hljs-keyword">this</span>._relativeTime[string];
        <span class="hljs-keyword">return</span> (isFunction(output)) ?
            output(number, withoutSuffix, string, isFuture) :
            output.replace(<span class="hljs-regexp">/%d/i</span>, number);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pastFuture</span> (<span class="hljs-params">diff, output</span>) </span>{
        <span class="hljs-keyword">var</span> format = <span class="hljs-keyword">this</span>._relativeTime[diff &gt; <span class="hljs-number">0</span> ? <span class="hljs-string">'future'</span> : <span class="hljs-string">'past'</span>];
        <span class="hljs-keyword">return</span> isFunction(format) ? format(output) : format.replace(<span class="hljs-regexp">/%s/i</span>, output);
    }

    <span class="hljs-keyword">var</span> aliases = {};

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addUnitAlias</span> (<span class="hljs-params">unit, shorthand</span>) </span>{
        <span class="hljs-keyword">var</span> lowerCase = unit.toLowerCase();
        aliases[lowerCase] = aliases[lowerCase + <span class="hljs-string">'s'</span>] = aliases[shorthand] = unit;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">normalizeUnits</span>(<span class="hljs-params">units</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> units === <span class="hljs-string">'string'</span> ? aliases[units] || aliases[units.toLowerCase()] : <span class="hljs-literal">undefined</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">normalizeObjectUnits</span>(<span class="hljs-params">inputObject</span>) </span>{
        <span class="hljs-keyword">var</span> normalizedInput = {},
            normalizedProp,
            prop;

        <span class="hljs-keyword">for</span> (prop <span class="hljs-keyword">in</span> inputObject) {
            <span class="hljs-keyword">if</span> (hasOwnProp(inputObject, prop)) {
                normalizedProp = normalizeUnits(prop);
                <span class="hljs-keyword">if</span> (normalizedProp) {
                    normalizedInput[normalizedProp] = inputObject[prop];
                }
            }
        }

        <span class="hljs-keyword">return</span> normalizedInput;
    }

    <span class="hljs-keyword">var</span> priorities = {};

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addUnitPriority</span>(<span class="hljs-params">unit, priority</span>) </span>{
        priorities[unit] = priority;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPrioritizedUnits</span>(<span class="hljs-params">unitsObj</span>) </span>{
        <span class="hljs-keyword">var</span> units = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> u <span class="hljs-keyword">in</span> unitsObj) {
            units.push({<span class="hljs-attr">unit</span>: u, <span class="hljs-attr">priority</span>: priorities[u]});
        }
        units.sort(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> a.priority - b.priority;
        });
        <span class="hljs-keyword">return</span> units;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">zeroFill</span>(<span class="hljs-params">number, targetLength, forceSign</span>) </span>{
        <span class="hljs-keyword">var</span> absNumber = <span class="hljs-string">''</span> + <span class="hljs-built_in">Math</span>.abs(number),
            zerosToFill = targetLength - absNumber.length,
            sign = number &gt;= <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> (sign ? (forceSign ? <span class="hljs-string">'+'</span> : <span class="hljs-string">''</span>) : <span class="hljs-string">'-'</span>) +
            <span class="hljs-built_in">Math</span>.pow(<span class="hljs-number">10</span>, <span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>, zerosToFill)).toString().substr(<span class="hljs-number">1</span>) + absNumber;
    }

    <span class="hljs-keyword">var</span> formattingTokens = <span class="hljs-regexp">/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g</span>;

    <span class="hljs-keyword">var</span> localFormattingTokens = <span class="hljs-regexp">/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g</span>;

    <span class="hljs-keyword">var</span> formatFunctions = {};

    <span class="hljs-keyword">var</span> formatTokenFunctions = {};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>token:    'M'
padded:   ['MM', 2]
ordinal:  'Mo'
callback: function () { this.month() + 1 }</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addFormatToken</span> (<span class="hljs-params">token, padded, ordinal, callback</span>) </span>{
        <span class="hljs-keyword">var</span> func = callback;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callback === <span class="hljs-string">'string'</span>) {
            func = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>[callback]();
            };
        }
        <span class="hljs-keyword">if</span> (token) {
            formatTokenFunctions[token] = func;
        }
        <span class="hljs-keyword">if</span> (padded) {
            formatTokenFunctions[padded[<span class="hljs-number">0</span>]] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> zeroFill(func.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>), padded[<span class="hljs-number">1</span>], padded[<span class="hljs-number">2</span>]);
            };
        }
        <span class="hljs-keyword">if</span> (ordinal) {
            formatTokenFunctions[ordinal] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().ordinal(func.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>), token);
            };
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeFormattingTokens</span>(<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">if</span> (input.match(<span class="hljs-regexp">/\[[\s\S]/</span>)) {
            <span class="hljs-keyword">return</span> input.replace(<span class="hljs-regexp">/^\[|\]$/g</span>, <span class="hljs-string">''</span>);
        }
        <span class="hljs-keyword">return</span> input.replace(<span class="hljs-regexp">/\\/g</span>, <span class="hljs-string">''</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeFormatFunction</span>(<span class="hljs-params">format</span>) </span>{
        <span class="hljs-keyword">var</span> array = format.match(formattingTokens), i, length;

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, length = array.length; i &lt; length; i++) {
            <span class="hljs-keyword">if</span> (formatTokenFunctions[array[i]]) {
                array[i] = formatTokenFunctions[array[i]];
            } <span class="hljs-keyword">else</span> {
                array[i] = removeFormattingTokens(array[i]);
            }
        }

        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">mom</span>) </span>{
            <span class="hljs-keyword">var</span> output = <span class="hljs-string">''</span>, i;
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; length; i++) {
                output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];
            }
            <span class="hljs-keyword">return</span> output;
        };
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<p>format date using native date object</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formatMoment</span>(<span class="hljs-params">m, format</span>) </span>{
        <span class="hljs-keyword">if</span> (!m.isValid()) {
            <span class="hljs-keyword">return</span> m.localeData().invalidDate();
        }

        format = expandFormat(format, m.localeData());
        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);

        <span class="hljs-keyword">return</span> formatFunctions[format](m);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">expandFormat</span>(<span class="hljs-params">format, locale</span>) </span>{
        <span class="hljs-keyword">var</span> i = <span class="hljs-number">5</span>;

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">replaceLongDateFormatTokens</span>(<span class="hljs-params">input</span>) </span>{
            <span class="hljs-keyword">return</span> locale.longDateFormat(input) || input;
        }

        localFormattingTokens.lastIndex = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (i &gt;= <span class="hljs-number">0</span> &amp;&amp; localFormattingTokens.test(format)) {
            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
            localFormattingTokens.lastIndex = <span class="hljs-number">0</span>;
            i -= <span class="hljs-number">1</span>;
        }

        <span class="hljs-keyword">return</span> format;
    }

    <span class="hljs-keyword">var</span> match1         = <span class="hljs-regexp">/\d/</span>;            <span class="hljs-comment">//       0 - 9</span>
    <span class="hljs-keyword">var</span> match2         = <span class="hljs-regexp">/\d\d/</span>;          <span class="hljs-comment">//      00 - 99</span>
    <span class="hljs-keyword">var</span> match3         = <span class="hljs-regexp">/\d{3}/</span>;         <span class="hljs-comment">//     000 - 999</span>
    <span class="hljs-keyword">var</span> match4         = <span class="hljs-regexp">/\d{4}/</span>;         <span class="hljs-comment">//    0000 - 9999</span>
    <span class="hljs-keyword">var</span> match6         = <span class="hljs-regexp">/[+-]?\d{6}/</span>;    <span class="hljs-comment">// -999999 - 999999</span>
    <span class="hljs-keyword">var</span> match1to2      = <span class="hljs-regexp">/\d\d?/</span>;         <span class="hljs-comment">//       0 - 99</span>
    <span class="hljs-keyword">var</span> match3to4      = <span class="hljs-regexp">/\d\d\d\d?/</span>;     <span class="hljs-comment">//     999 - 9999</span>
    <span class="hljs-keyword">var</span> match5to6      = <span class="hljs-regexp">/\d\d\d\d\d\d?/</span>; <span class="hljs-comment">//   99999 - 999999</span>
    <span class="hljs-keyword">var</span> match1to3      = <span class="hljs-regexp">/\d{1,3}/</span>;       <span class="hljs-comment">//       0 - 999</span>
    <span class="hljs-keyword">var</span> match1to4      = <span class="hljs-regexp">/\d{1,4}/</span>;       <span class="hljs-comment">//       0 - 9999</span>
    <span class="hljs-keyword">var</span> match1to6      = <span class="hljs-regexp">/[+-]?\d{1,6}/</span>;  <span class="hljs-comment">// -999999 - 999999</span>

    <span class="hljs-keyword">var</span> matchUnsigned  = <span class="hljs-regexp">/\d+/</span>;           <span class="hljs-comment">//       0 - inf</span>
    <span class="hljs-keyword">var</span> matchSigned    = <span class="hljs-regexp">/[+-]?\d+/</span>;      <span class="hljs-comment">//    -inf - inf</span>

    <span class="hljs-keyword">var</span> matchOffset    = <span class="hljs-regexp">/Z|[+-]\d\d:?\d\d/gi</span>; <span class="hljs-comment">// +00:00 -00:00 +0000 -0000 or Z</span>
    <span class="hljs-keyword">var</span> matchShortOffset = <span class="hljs-regexp">/Z|[+-]\d\d(?::?\d\d)?/gi</span>; <span class="hljs-comment">// +00 -00 +00:00 -00:00 +0000 -0000 or Z</span>

    <span class="hljs-keyword">var</span> matchTimestamp = <span class="hljs-regexp">/[+-]?\d+(\.\d{1,3})?/</span>; <span class="hljs-comment">// 123456789 123456789.123</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<p>any word (or two) characters or numbers including two/three word month in arabic.
includes scottish gaelic two word and hyphenated months</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> matchWord = <span class="hljs-regexp">/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i</span>;

    <span class="hljs-keyword">var</span> regexes = {};

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addRegexToken</span> (<span class="hljs-params">token, regex, strictRegex</span>) </span>{
        regexes[token] = isFunction(regex) ? regex : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">isStrict, localeData</span>) </span>{
            <span class="hljs-keyword">return</span> (isStrict &amp;&amp; strictRegex) ? strictRegex : regex;
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getParseRegexForToken</span> (<span class="hljs-params">token, config</span>) </span>{
        <span class="hljs-keyword">if</span> (!hasOwnProp(regexes, token)) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(unescapeFormat(token));
        }

        <span class="hljs-keyword">return</span> regexes[token](config._strict, config._locale);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<p>Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unescapeFormat</span>(<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">return</span> regexEscape(s.replace(<span class="hljs-string">'\\'</span>, <span class="hljs-string">''</span>).replace(<span class="hljs-regexp">/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">matched, p1, p2, p3, p4</span>) </span>{
            <span class="hljs-keyword">return</span> p1 || p2 || p3 || p4;
        }));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">regexEscape</span>(<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">return</span> s.replace(<span class="hljs-regexp">/[-\/\\^$*+?.()|[\]{}]/g</span>, <span class="hljs-string">'\\$&amp;'</span>);
    }

    <span class="hljs-keyword">var</span> tokens = {};

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addParseToken</span> (<span class="hljs-params">token, callback</span>) </span>{
        <span class="hljs-keyword">var</span> i, func = callback;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> token === <span class="hljs-string">'string'</span>) {
            token = [token];
        }
        <span class="hljs-keyword">if</span> (isNumber(callback)) {
            func = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array</span>) </span>{
                array[callback] = toInt(input);
            };
        }
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; token.length; i++) {
            tokens[token[i]] = func;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addWeekParseToken</span> (<span class="hljs-params">token, callback</span>) </span>{
        addParseToken(token, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config, token</span>) </span>{
            config._w = config._w || {};
            callback(input, config._w, config, token);
        });
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addTimeToArrayFromToken</span>(<span class="hljs-params">token, input, config</span>) </span>{
        <span class="hljs-keyword">if</span> (input != <span class="hljs-literal">null</span> &amp;&amp; hasOwnProp(tokens, token)) {
            tokens[token](input, config._a, config, token);
        }
    }

    <span class="hljs-keyword">var</span> YEAR = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> MONTH = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> DATE = <span class="hljs-number">2</span>;
    <span class="hljs-keyword">var</span> HOUR = <span class="hljs-number">3</span>;
    <span class="hljs-keyword">var</span> MINUTE = <span class="hljs-number">4</span>;
    <span class="hljs-keyword">var</span> SECOND = <span class="hljs-number">5</span>;
    <span class="hljs-keyword">var</span> MILLISECOND = <span class="hljs-number">6</span>;
    <span class="hljs-keyword">var</span> WEEK = <span class="hljs-number">7</span>;
    <span class="hljs-keyword">var</span> WEEKDAY = <span class="hljs-number">8</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<p>FORMATTING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addFormatToken(<span class="hljs-string">'Y'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> y = <span class="hljs-keyword">this</span>.year();
        <span class="hljs-keyword">return</span> y &lt;= <span class="hljs-number">9999</span> ? <span class="hljs-string">''</span> + y : <span class="hljs-string">'+'</span> + y;
    });

    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'YY'</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.year() % <span class="hljs-number">100</span>;
    });

    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'YYYY'</span>,   <span class="hljs-number">4</span>],       <span class="hljs-number">0</span>, <span class="hljs-string">'year'</span>);
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'YYYYY'</span>,  <span class="hljs-number">5</span>],       <span class="hljs-number">0</span>, <span class="hljs-string">'year'</span>);
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'YYYYYY'</span>, <span class="hljs-number">6</span>, <span class="hljs-literal">true</span>], <span class="hljs-number">0</span>, <span class="hljs-string">'year'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>ALIASES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitAlias(<span class="hljs-string">'year'</span>, <span class="hljs-string">'y'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<p>PRIORITIES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitPriority(<span class="hljs-string">'year'</span>, <span class="hljs-number">1</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<p>PARSING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addRegexToken(<span class="hljs-string">'Y'</span>,      matchSigned);
    addRegexToken(<span class="hljs-string">'YY'</span>,     match1to2, match2);
    addRegexToken(<span class="hljs-string">'YYYY'</span>,   match1to4, match4);
    addRegexToken(<span class="hljs-string">'YYYYY'</span>,  match1to6, match6);
    addRegexToken(<span class="hljs-string">'YYYYYY'</span>, match1to6, match6);

    addParseToken([<span class="hljs-string">'YYYYY'</span>, <span class="hljs-string">'YYYYYY'</span>], YEAR);
    addParseToken(<span class="hljs-string">'YYYY'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array</span>) </span>{
        array[YEAR] = input.length === <span class="hljs-number">2</span> ? hooks.parseTwoDigitYear(input) : toInt(input);
    });
    addParseToken(<span class="hljs-string">'YY'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array</span>) </span>{
        array[YEAR] = hooks.parseTwoDigitYear(input);
    });
    addParseToken(<span class="hljs-string">'Y'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array</span>) </span>{
        array[YEAR] = <span class="hljs-built_in">parseInt</span>(input, <span class="hljs-number">10</span>);
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<p>HELPERS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">daysInYear</span>(<span class="hljs-params">year</span>) </span>{
        <span class="hljs-keyword">return</span> isLeapYear(year) ? <span class="hljs-number">366</span> : <span class="hljs-number">365</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isLeapYear</span>(<span class="hljs-params">year</span>) </span>{
        <span class="hljs-keyword">return</span> (year % <span class="hljs-number">4</span> === <span class="hljs-number">0</span> &amp;&amp; year % <span class="hljs-number">100</span> !== <span class="hljs-number">0</span>) || year % <span class="hljs-number">400</span> === <span class="hljs-number">0</span>;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<p>HOOKS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    hooks.parseTwoDigitYear = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> toInt(input) + (toInt(input) &gt; <span class="hljs-number">68</span> ? <span class="hljs-number">1900</span> : <span class="hljs-number">2000</span>);
    };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22"></a>
</div>
<p>MOMENTS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-keyword">var</span> getSetYear = makeGetSet(<span class="hljs-string">'FullYear'</span>, <span class="hljs-literal">true</span>);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getIsLeapYear</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> isLeapYear(<span class="hljs-keyword">this</span>.year());
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeGetSet</span> (<span class="hljs-params">unit, keepTime</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) </span>{
            <span class="hljs-keyword">if</span> (value != <span class="hljs-literal">null</span>) {
                set$<span class="hljs-number">1</span>(<span class="hljs-keyword">this</span>, unit, value);
                hooks.updateOffset(<span class="hljs-keyword">this</span>, keepTime);
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> get(<span class="hljs-keyword">this</span>, unit);
            }
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span> (<span class="hljs-params">mom, unit</span>) </span>{
        <span class="hljs-keyword">return</span> mom.isValid() ?
            mom._d[<span class="hljs-string">'get'</span> + (mom._isUTC ? <span class="hljs-string">'UTC'</span> : <span class="hljs-string">''</span>) + unit]() : <span class="hljs-literal">NaN</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set$1</span> (<span class="hljs-params">mom, unit, value</span>) </span>{
        <span class="hljs-keyword">if</span> (mom.isValid() &amp;&amp; !<span class="hljs-built_in">isNaN</span>(value)) {
            <span class="hljs-keyword">if</span> (unit === <span class="hljs-string">'FullYear'</span> &amp;&amp; isLeapYear(mom.year()) &amp;&amp; mom.month() === <span class="hljs-number">1</span> &amp;&amp; mom.date() === <span class="hljs-number">29</span>) {
                mom._d[<span class="hljs-string">'set'</span> + (mom._isUTC ? <span class="hljs-string">'UTC'</span> : <span class="hljs-string">''</span>) + unit](value, mom.month(), daysInMonth(value, mom.month()));
            }
            <span class="hljs-keyword">else</span> {
                mom._d[<span class="hljs-string">'set'</span> + (mom._isUTC ? <span class="hljs-string">'UTC'</span> : <span class="hljs-string">''</span>) + unit](value);
            }
        }
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23"></a>
</div>
<p>MOMENTS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stringGet</span> (<span class="hljs-params">units</span>) </span>{
        units = normalizeUnits(units);
        <span class="hljs-keyword">if</span> (isFunction(<span class="hljs-keyword">this</span>[units])) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>[units]();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }


    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stringSet</span> (<span class="hljs-params">units, value</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> units === <span class="hljs-string">'object'</span>) {
            units = normalizeObjectUnits(units);
            <span class="hljs-keyword">var</span> prioritized = getPrioritizedUnits(units);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; prioritized.length; i++) {
                <span class="hljs-keyword">this</span>[prioritized[i].unit](units[prioritized[i].unit]);
            }
        } <span class="hljs-keyword">else</span> {
            units = normalizeUnits(units);
            <span class="hljs-keyword">if</span> (isFunction(<span class="hljs-keyword">this</span>[units])) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>[units](value);
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mod</span>(<span class="hljs-params">n, x</span>) </span>{
        <span class="hljs-keyword">return</span> ((n % x) + x) % x;
    }

    <span class="hljs-keyword">var</span> indexOf;

    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.prototype.indexOf) {
        indexOf = <span class="hljs-built_in">Array</span>.prototype.indexOf;
    } <span class="hljs-keyword">else</span> {
        indexOf = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">o</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24"></a>
</div>
<p>I know</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">var</span> i;
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.length; ++i) {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>[i] === o) {
                    <span class="hljs-keyword">return</span> i;
                }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">daysInMonth</span>(<span class="hljs-params">year, month</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isNaN</span>(year) || <span class="hljs-built_in">isNaN</span>(month)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">NaN</span>;
        }
        <span class="hljs-keyword">var</span> modMonth = mod(month, <span class="hljs-number">12</span>);
        year += (month - modMonth) / <span class="hljs-number">12</span>;
        <span class="hljs-keyword">return</span> modMonth === <span class="hljs-number">1</span> ? (isLeapYear(year) ? <span class="hljs-number">29</span> : <span class="hljs-number">28</span>) : (<span class="hljs-number">31</span> - modMonth % <span class="hljs-number">7</span> % <span class="hljs-number">2</span>);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25"></a>
</div>
<p>FORMATTING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addFormatToken(<span class="hljs-string">'M'</span>, [<span class="hljs-string">'MM'</span>, <span class="hljs-number">2</span>], <span class="hljs-string">'Mo'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.month() + <span class="hljs-number">1</span>;
    });

    addFormatToken(<span class="hljs-string">'MMM'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">format</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().monthsShort(<span class="hljs-keyword">this</span>, format);
    });

    addFormatToken(<span class="hljs-string">'MMMM'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">format</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().months(<span class="hljs-keyword">this</span>, format);
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26"></a>
</div>
<p>ALIASES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitAlias(<span class="hljs-string">'month'</span>, <span class="hljs-string">'M'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27"></a>
</div>
<p>PRIORITY</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitPriority(<span class="hljs-string">'month'</span>, <span class="hljs-number">8</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28"></a>
</div>
<p>PARSING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addRegexToken(<span class="hljs-string">'M'</span>,    match1to2);
    addRegexToken(<span class="hljs-string">'MM'</span>,   match1to2, match2);
    addRegexToken(<span class="hljs-string">'MMM'</span>,  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">isStrict, locale</span>) </span>{
        <span class="hljs-keyword">return</span> locale.monthsShortRegex(isStrict);
    });
    addRegexToken(<span class="hljs-string">'MMMM'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">isStrict, locale</span>) </span>{
        <span class="hljs-keyword">return</span> locale.monthsRegex(isStrict);
    });

    addParseToken([<span class="hljs-string">'M'</span>, <span class="hljs-string">'MM'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array</span>) </span>{
        array[MONTH] = toInt(input) - <span class="hljs-number">1</span>;
    });

    addParseToken([<span class="hljs-string">'MMM'</span>, <span class="hljs-string">'MMMM'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config, token</span>) </span>{
        <span class="hljs-keyword">var</span> month = config._locale.monthsParse(input, token, config._strict);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29"></a>
</div>
<p>if we didn't find a month name, mark the date as invalid.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (month != <span class="hljs-literal">null</span>) {
            array[MONTH] = month;
        } <span class="hljs-keyword">else</span> {
            getParsingFlags(config).invalidMonth = input;
        }
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30"></a>
</div>
<p>LOCALES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-keyword">var</span> MONTHS_IN_FORMAT = <span class="hljs-regexp">/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/</span>;
    <span class="hljs-keyword">var</span> defaultLocaleMonths = <span class="hljs-string">'January_February_March_April_May_June_July_August_September_October_November_December'</span>.split(<span class="hljs-string">'_'</span>);
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeMonths</span> (<span class="hljs-params">m, format</span>) </span>{
        <span class="hljs-keyword">if</span> (!m) {
            <span class="hljs-keyword">return</span> isArray(<span class="hljs-keyword">this</span>._months) ? <span class="hljs-keyword">this</span>._months :
                <span class="hljs-keyword">this</span>._months[<span class="hljs-string">'standalone'</span>];
        }
        <span class="hljs-keyword">return</span> isArray(<span class="hljs-keyword">this</span>._months) ? <span class="hljs-keyword">this</span>._months[m.month()] :
            <span class="hljs-keyword">this</span>._months[(<span class="hljs-keyword">this</span>._months.isFormat || MONTHS_IN_FORMAT).test(format) ? <span class="hljs-string">'format'</span> : <span class="hljs-string">'standalone'</span>][m.month()];
    }

    <span class="hljs-keyword">var</span> defaultLocaleMonthsShort = <span class="hljs-string">'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'</span>.split(<span class="hljs-string">'_'</span>);
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeMonthsShort</span> (<span class="hljs-params">m, format</span>) </span>{
        <span class="hljs-keyword">if</span> (!m) {
            <span class="hljs-keyword">return</span> isArray(<span class="hljs-keyword">this</span>._monthsShort) ? <span class="hljs-keyword">this</span>._monthsShort :
                <span class="hljs-keyword">this</span>._monthsShort[<span class="hljs-string">'standalone'</span>];
        }
        <span class="hljs-keyword">return</span> isArray(<span class="hljs-keyword">this</span>._monthsShort) ? <span class="hljs-keyword">this</span>._monthsShort[m.month()] :
            <span class="hljs-keyword">this</span>._monthsShort[MONTHS_IN_FORMAT.test(format) ? <span class="hljs-string">'format'</span> : <span class="hljs-string">'standalone'</span>][m.month()];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleStrictParse</span>(<span class="hljs-params">monthName, format, strict</span>) </span>{
        <span class="hljs-keyword">var</span> i, ii, mom, llc = monthName.toLocaleLowerCase();
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._monthsParse) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31"></a>
</div>
<p>this is not used</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">this</span>._monthsParse = [];
            <span class="hljs-keyword">this</span>._longMonthsParse = [];
            <span class="hljs-keyword">this</span>._shortMonthsParse = [];
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">12</span>; ++i) {
                mom = createUTC([<span class="hljs-number">2000</span>, i]);
                <span class="hljs-keyword">this</span>._shortMonthsParse[i] = <span class="hljs-keyword">this</span>.monthsShort(mom, <span class="hljs-string">''</span>).toLocaleLowerCase();
                <span class="hljs-keyword">this</span>._longMonthsParse[i] = <span class="hljs-keyword">this</span>.months(mom, <span class="hljs-string">''</span>).toLocaleLowerCase();
            }
        }

        <span class="hljs-keyword">if</span> (strict) {
            <span class="hljs-keyword">if</span> (format === <span class="hljs-string">'MMM'</span>) {
                ii = indexOf.call(<span class="hljs-keyword">this</span>._shortMonthsParse, llc);
                <span class="hljs-keyword">return</span> ii !== <span class="hljs-number">-1</span> ? ii : <span class="hljs-literal">null</span>;
            } <span class="hljs-keyword">else</span> {
                ii = indexOf.call(<span class="hljs-keyword">this</span>._longMonthsParse, llc);
                <span class="hljs-keyword">return</span> ii !== <span class="hljs-number">-1</span> ? ii : <span class="hljs-literal">null</span>;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (format === <span class="hljs-string">'MMM'</span>) {
                ii = indexOf.call(<span class="hljs-keyword">this</span>._shortMonthsParse, llc);
                <span class="hljs-keyword">if</span> (ii !== <span class="hljs-number">-1</span>) {
                    <span class="hljs-keyword">return</span> ii;
                }
                ii = indexOf.call(<span class="hljs-keyword">this</span>._longMonthsParse, llc);
                <span class="hljs-keyword">return</span> ii !== <span class="hljs-number">-1</span> ? ii : <span class="hljs-literal">null</span>;
            } <span class="hljs-keyword">else</span> {
                ii = indexOf.call(<span class="hljs-keyword">this</span>._longMonthsParse, llc);
                <span class="hljs-keyword">if</span> (ii !== <span class="hljs-number">-1</span>) {
                    <span class="hljs-keyword">return</span> ii;
                }
                ii = indexOf.call(<span class="hljs-keyword">this</span>._shortMonthsParse, llc);
                <span class="hljs-keyword">return</span> ii !== <span class="hljs-number">-1</span> ? ii : <span class="hljs-literal">null</span>;
            }
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeMonthsParse</span> (<span class="hljs-params">monthName, format, strict</span>) </span>{
        <span class="hljs-keyword">var</span> i, mom, regex;

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._monthsParseExact) {
            <span class="hljs-keyword">return</span> handleStrictParse.call(<span class="hljs-keyword">this</span>, monthName, format, strict);
        }

        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._monthsParse) {
            <span class="hljs-keyword">this</span>._monthsParse = [];
            <span class="hljs-keyword">this</span>._longMonthsParse = [];
            <span class="hljs-keyword">this</span>._shortMonthsParse = [];
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32"></a>
</div>
<p>TODO: add sorting
Sorting makes sure if one month (or abbr) is a prefix of another
see sorting in computeMonthsParse</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">12</span>; i++) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33"></a>
</div>
<p>make the regex if we don't have it already</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            mom = createUTC([<span class="hljs-number">2000</span>, i]);
            <span class="hljs-keyword">if</span> (strict &amp;&amp; !<span class="hljs-keyword">this</span>._longMonthsParse[i]) {
                <span class="hljs-keyword">this</span>._longMonthsParse[i] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^'</span> + <span class="hljs-keyword">this</span>.months(mom, <span class="hljs-string">''</span>).replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">''</span>) + <span class="hljs-string">'$'</span>, <span class="hljs-string">'i'</span>);
                <span class="hljs-keyword">this</span>._shortMonthsParse[i] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^'</span> + <span class="hljs-keyword">this</span>.monthsShort(mom, <span class="hljs-string">''</span>).replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">''</span>) + <span class="hljs-string">'$'</span>, <span class="hljs-string">'i'</span>);
            }
            <span class="hljs-keyword">if</span> (!strict &amp;&amp; !<span class="hljs-keyword">this</span>._monthsParse[i]) {
                regex = <span class="hljs-string">'^'</span> + <span class="hljs-keyword">this</span>.months(mom, <span class="hljs-string">''</span>) + <span class="hljs-string">'|^'</span> + <span class="hljs-keyword">this</span>.monthsShort(mom, <span class="hljs-string">''</span>);
                <span class="hljs-keyword">this</span>._monthsParse[i] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(regex.replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">''</span>), <span class="hljs-string">'i'</span>);
            }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34"></a>
</div>
<p>test the regex</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (strict &amp;&amp; format === <span class="hljs-string">'MMMM'</span> &amp;&amp; <span class="hljs-keyword">this</span>._longMonthsParse[i].test(monthName)) {
                <span class="hljs-keyword">return</span> i;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (strict &amp;&amp; format === <span class="hljs-string">'MMM'</span> &amp;&amp; <span class="hljs-keyword">this</span>._shortMonthsParse[i].test(monthName)) {
                <span class="hljs-keyword">return</span> i;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!strict &amp;&amp; <span class="hljs-keyword">this</span>._monthsParse[i].test(monthName)) {
                <span class="hljs-keyword">return</span> i;
            }
        }
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35"></a>
</div>
<p>MOMENTS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setMonth</span> (<span class="hljs-params">mom, value</span>) </span>{
        <span class="hljs-keyword">var</span> dayOfMonth;

        <span class="hljs-keyword">if</span> (!mom.isValid()) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36"></a>
</div>
<p>No op</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">return</span> mom;
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">'string'</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^\d+$/</span>.test(value)) {
                value = toInt(value);
            } <span class="hljs-keyword">else</span> {
                value = mom.localeData().monthsParse(value);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-37" id="section-37"></a>
</div>
<p>TODO: Another silent failure?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                <span class="hljs-keyword">if</span> (!isNumber(value)) {
                    <span class="hljs-keyword">return</span> mom;
                }
            }
        }

        dayOfMonth = <span class="hljs-built_in">Math</span>.min(mom.date(), daysInMonth(mom.year(), value));
        mom._d[<span class="hljs-string">'set'</span> + (mom._isUTC ? <span class="hljs-string">'UTC'</span> : <span class="hljs-string">''</span>) + <span class="hljs-string">'Month'</span>](value, dayOfMonth);
        <span class="hljs-keyword">return</span> mom;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetMonth</span> (<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">if</span> (value != <span class="hljs-literal">null</span>) {
            setMonth(<span class="hljs-keyword">this</span>, value);
            hooks.updateOffset(<span class="hljs-keyword">this</span>, <span class="hljs-literal">true</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> get(<span class="hljs-keyword">this</span>, <span class="hljs-string">'Month'</span>);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDaysInMonth</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> daysInMonth(<span class="hljs-keyword">this</span>.year(), <span class="hljs-keyword">this</span>.month());
    }

    <span class="hljs-keyword">var</span> defaultMonthsShortRegex = matchWord;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">monthsShortRegex</span> (<span class="hljs-params">isStrict</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._monthsParseExact) {
            <span class="hljs-keyword">if</span> (!hasOwnProp(<span class="hljs-keyword">this</span>, <span class="hljs-string">'_monthsRegex'</span>)) {
                computeMonthsParse.call(<span class="hljs-keyword">this</span>);
            }
            <span class="hljs-keyword">if</span> (isStrict) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._monthsShortStrictRegex;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._monthsShortRegex;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (!hasOwnProp(<span class="hljs-keyword">this</span>, <span class="hljs-string">'_monthsShortRegex'</span>)) {
                <span class="hljs-keyword">this</span>._monthsShortRegex = defaultMonthsShortRegex;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._monthsShortStrictRegex &amp;&amp; isStrict ?
                <span class="hljs-keyword">this</span>._monthsShortStrictRegex : <span class="hljs-keyword">this</span>._monthsShortRegex;
        }
    }

    <span class="hljs-keyword">var</span> defaultMonthsRegex = matchWord;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">monthsRegex</span> (<span class="hljs-params">isStrict</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._monthsParseExact) {
            <span class="hljs-keyword">if</span> (!hasOwnProp(<span class="hljs-keyword">this</span>, <span class="hljs-string">'_monthsRegex'</span>)) {
                computeMonthsParse.call(<span class="hljs-keyword">this</span>);
            }
            <span class="hljs-keyword">if</span> (isStrict) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._monthsStrictRegex;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._monthsRegex;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (!hasOwnProp(<span class="hljs-keyword">this</span>, <span class="hljs-string">'_monthsRegex'</span>)) {
                <span class="hljs-keyword">this</span>._monthsRegex = defaultMonthsRegex;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._monthsStrictRegex &amp;&amp; isStrict ?
                <span class="hljs-keyword">this</span>._monthsStrictRegex : <span class="hljs-keyword">this</span>._monthsRegex;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">computeMonthsParse</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cmpLenRev</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> b.length - a.length;
        }

        <span class="hljs-keyword">var</span> shortPieces = [], longPieces = [], mixedPieces = [],
            i, mom;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">12</span>; i++) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-38" id="section-38"></a>
</div>
<p>make the regex if we don't have it already</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            mom = createUTC([<span class="hljs-number">2000</span>, i]);
            shortPieces.push(<span class="hljs-keyword">this</span>.monthsShort(mom, <span class="hljs-string">''</span>));
            longPieces.push(<span class="hljs-keyword">this</span>.months(mom, <span class="hljs-string">''</span>));
            mixedPieces.push(<span class="hljs-keyword">this</span>.months(mom, <span class="hljs-string">''</span>));
            mixedPieces.push(<span class="hljs-keyword">this</span>.monthsShort(mom, <span class="hljs-string">''</span>));
        }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-39" id="section-39"></a>
</div>
<p>Sorting makes sure if one month (or abbr) is a prefix of another it
will match the longer piece.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">12</span>; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
        }
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">24</span>; i++) {
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }

        <span class="hljs-keyword">this</span>._monthsRegex = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^('</span> + mixedPieces.join(<span class="hljs-string">'|'</span>) + <span class="hljs-string">')'</span>, <span class="hljs-string">'i'</span>);
        <span class="hljs-keyword">this</span>._monthsShortRegex = <span class="hljs-keyword">this</span>._monthsRegex;
        <span class="hljs-keyword">this</span>._monthsStrictRegex = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^('</span> + longPieces.join(<span class="hljs-string">'|'</span>) + <span class="hljs-string">')'</span>, <span class="hljs-string">'i'</span>);
        <span class="hljs-keyword">this</span>._monthsShortStrictRegex = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^('</span> + shortPieces.join(<span class="hljs-string">'|'</span>) + <span class="hljs-string">')'</span>, <span class="hljs-string">'i'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createDate</span> (<span class="hljs-params">y, m, d, h, M, s, ms</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-40" id="section-40"></a>
</div>
<p>can't just apply() to create a date:
https://stackoverflow.com/q/181348</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">var</span> date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(y, m, d, h, M, s, ms);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-41" id="section-41"></a>
</div>
<p>the date constructor remaps years 0-99 to 1900-1999</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (y &lt; <span class="hljs-number">100</span> &amp;&amp; y &gt;= <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-built_in">isFinite</span>(date.getFullYear())) {
            date.setFullYear(y);
        }
        <span class="hljs-keyword">return</span> date;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createUTCDate</span> (<span class="hljs-params">y</span>) </span>{
        <span class="hljs-keyword">var</span> date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-built_in">Date</span>.UTC.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>));

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-42" id="section-42"></a>
</div>
<p>the Date.UTC function remaps years 0-99 to 1900-1999</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (y &lt; <span class="hljs-number">100</span> &amp;&amp; y &gt;= <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-built_in">isFinite</span>(date.getUTCFullYear())) {
            date.setUTCFullYear(y);
        }
        <span class="hljs-keyword">return</span> date;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-43" id="section-43"></a>
</div>
<p>start-of-first-week - start-of-year</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">firstWeekOffset</span>(<span class="hljs-params">year, dow, doy</span>) </span>{
        <span class="hljs-keyword">var</span> <span class="hljs-comment">// first-week day -- which january is always in the first week (4 for iso, 1 for other)</span>
            fwd = <span class="hljs-number">7</span> + dow - doy,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-44" id="section-44"></a>
</div>
<p>first-week day local weekday -- which local weekday is fwd</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            fwdlw = (<span class="hljs-number">7</span> + createUTCDate(year, <span class="hljs-number">0</span>, fwd).getUTCDay() - dow) % <span class="hljs-number">7</span>;

        <span class="hljs-keyword">return</span> -fwdlw + fwd - <span class="hljs-number">1</span>;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-45" id="section-45"></a>
</div>
<p>https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dayOfYearFromWeeks</span>(<span class="hljs-params">year, week, weekday, dow, doy</span>) </span>{
        <span class="hljs-keyword">var</span> localWeekday = (<span class="hljs-number">7</span> + weekday - dow) % <span class="hljs-number">7</span>,
            weekOffset = firstWeekOffset(year, dow, doy),
            dayOfYear = <span class="hljs-number">1</span> + <span class="hljs-number">7</span> * (week - <span class="hljs-number">1</span>) + localWeekday + weekOffset,
            resYear, resDayOfYear;

        <span class="hljs-keyword">if</span> (dayOfYear &lt;= <span class="hljs-number">0</span>) {
            resYear = year - <span class="hljs-number">1</span>;
            resDayOfYear = daysInYear(resYear) + dayOfYear;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dayOfYear &gt; daysInYear(year)) {
            resYear = year + <span class="hljs-number">1</span>;
            resDayOfYear = dayOfYear - daysInYear(year);
        } <span class="hljs-keyword">else</span> {
            resYear = year;
            resDayOfYear = dayOfYear;
        }

        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">year</span>: resYear,
            <span class="hljs-attr">dayOfYear</span>: resDayOfYear
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">weekOfYear</span>(<span class="hljs-params">mom, dow, doy</span>) </span>{
        <span class="hljs-keyword">var</span> weekOffset = firstWeekOffset(mom.year(), dow, doy),
            week = <span class="hljs-built_in">Math</span>.floor((mom.dayOfYear() - weekOffset - <span class="hljs-number">1</span>) / <span class="hljs-number">7</span>) + <span class="hljs-number">1</span>,
            resWeek, resYear;

        <span class="hljs-keyword">if</span> (week &lt; <span class="hljs-number">1</span>) {
            resYear = mom.year() - <span class="hljs-number">1</span>;
            resWeek = week + weeksInYear(resYear, dow, doy);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (week &gt; weeksInYear(mom.year(), dow, doy)) {
            resWeek = week - weeksInYear(mom.year(), dow, doy);
            resYear = mom.year() + <span class="hljs-number">1</span>;
        } <span class="hljs-keyword">else</span> {
            resYear = mom.year();
            resWeek = week;
        }

        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">week</span>: resWeek,
            <span class="hljs-attr">year</span>: resYear
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">weeksInYear</span>(<span class="hljs-params">year, dow, doy</span>) </span>{
        <span class="hljs-keyword">var</span> weekOffset = firstWeekOffset(year, dow, doy),
            weekOffsetNext = firstWeekOffset(year + <span class="hljs-number">1</span>, dow, doy);
        <span class="hljs-keyword">return</span> (daysInYear(year) - weekOffset + weekOffsetNext) / <span class="hljs-number">7</span>;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-46" id="section-46"></a>
</div>
<p>FORMATTING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addFormatToken(<span class="hljs-string">'w'</span>, [<span class="hljs-string">'ww'</span>, <span class="hljs-number">2</span>], <span class="hljs-string">'wo'</span>, <span class="hljs-string">'week'</span>);
    addFormatToken(<span class="hljs-string">'W'</span>, [<span class="hljs-string">'WW'</span>, <span class="hljs-number">2</span>], <span class="hljs-string">'Wo'</span>, <span class="hljs-string">'isoWeek'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-47" id="section-47"></a>
</div>
<p>ALIASES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitAlias(<span class="hljs-string">'week'</span>, <span class="hljs-string">'w'</span>);
    addUnitAlias(<span class="hljs-string">'isoWeek'</span>, <span class="hljs-string">'W'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-48" id="section-48"></a>
</div>
<p>PRIORITIES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitPriority(<span class="hljs-string">'week'</span>, <span class="hljs-number">5</span>);
    addUnitPriority(<span class="hljs-string">'isoWeek'</span>, <span class="hljs-number">5</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-49" id="section-49"></a>
</div>
<p>PARSING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addRegexToken(<span class="hljs-string">'w'</span>,  match1to2);
    addRegexToken(<span class="hljs-string">'ww'</span>, match1to2, match2);
    addRegexToken(<span class="hljs-string">'W'</span>,  match1to2);
    addRegexToken(<span class="hljs-string">'WW'</span>, match1to2, match2);

    addWeekParseToken([<span class="hljs-string">'w'</span>, <span class="hljs-string">'ww'</span>, <span class="hljs-string">'W'</span>, <span class="hljs-string">'WW'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, week, config, token</span>) </span>{
        week[token.substr(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)] = toInt(input);
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-50" id="section-50"></a>
</div>
<p>HELPERS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-51" id="section-51"></a>
</div>
<p>LOCALES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeWeek</span> (<span class="hljs-params">mom</span>) </span>{
        <span class="hljs-keyword">return</span> weekOfYear(mom, <span class="hljs-keyword">this</span>._week.dow, <span class="hljs-keyword">this</span>._week.doy).week;
    }

    <span class="hljs-keyword">var</span> defaultLocaleWeek = {
        <span class="hljs-attr">dow</span> : <span class="hljs-number">0</span>, <span class="hljs-comment">// Sunday is the first day of the week.</span>
        doy : <span class="hljs-number">6</span>  <span class="hljs-comment">// The week that contains Jan 1st is the first week of the year.</span>
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeFirstDayOfWeek</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._week.dow;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeFirstDayOfYear</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._week.doy;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-52" id="section-52"></a>
</div>
<p>MOMENTS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetWeek</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">var</span> week = <span class="hljs-keyword">this</span>.localeData().week(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">return</span> input == <span class="hljs-literal">null</span> ? week : <span class="hljs-keyword">this</span>.add((input - week) * <span class="hljs-number">7</span>, <span class="hljs-string">'d'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetISOWeek</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">var</span> week = weekOfYear(<span class="hljs-keyword">this</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>).week;
        <span class="hljs-keyword">return</span> input == <span class="hljs-literal">null</span> ? week : <span class="hljs-keyword">this</span>.add((input - week) * <span class="hljs-number">7</span>, <span class="hljs-string">'d'</span>);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-53" id="section-53"></a>
</div>
<p>FORMATTING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addFormatToken(<span class="hljs-string">'d'</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'do'</span>, <span class="hljs-string">'day'</span>);

    addFormatToken(<span class="hljs-string">'dd'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">format</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().weekdaysMin(<span class="hljs-keyword">this</span>, format);
    });

    addFormatToken(<span class="hljs-string">'ddd'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">format</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().weekdaysShort(<span class="hljs-keyword">this</span>, format);
    });

    addFormatToken(<span class="hljs-string">'dddd'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">format</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().weekdays(<span class="hljs-keyword">this</span>, format);
    });

    addFormatToken(<span class="hljs-string">'e'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'weekday'</span>);
    addFormatToken(<span class="hljs-string">'E'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'isoWeekday'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-54" id="section-54"></a>
</div>
<p>ALIASES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitAlias(<span class="hljs-string">'day'</span>, <span class="hljs-string">'d'</span>);
    addUnitAlias(<span class="hljs-string">'weekday'</span>, <span class="hljs-string">'e'</span>);
    addUnitAlias(<span class="hljs-string">'isoWeekday'</span>, <span class="hljs-string">'E'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-55" id="section-55"></a>
</div>
<p>PRIORITY</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    addUnitPriority(<span class="hljs-string">'day'</span>, <span class="hljs-number">11</span>);
    addUnitPriority(<span class="hljs-string">'weekday'</span>, <span class="hljs-number">11</span>);
    addUnitPriority(<span class="hljs-string">'isoWeekday'</span>, <span class="hljs-number">11</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-56" id="section-56"></a>
</div>
<p>PARSING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addRegexToken(<span class="hljs-string">'d'</span>,    match1to2);
    addRegexToken(<span class="hljs-string">'e'</span>,    match1to2);
    addRegexToken(<span class="hljs-string">'E'</span>,    match1to2);
    addRegexToken(<span class="hljs-string">'dd'</span>,   <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">isStrict, locale</span>) </span>{
        <span class="hljs-keyword">return</span> locale.weekdaysMinRegex(isStrict);
    });
    addRegexToken(<span class="hljs-string">'ddd'</span>,   <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">isStrict, locale</span>) </span>{
        <span class="hljs-keyword">return</span> locale.weekdaysShortRegex(isStrict);
    });
    addRegexToken(<span class="hljs-string">'dddd'</span>,   <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">isStrict, locale</span>) </span>{
        <span class="hljs-keyword">return</span> locale.weekdaysRegex(isStrict);
    });

    addWeekParseToken([<span class="hljs-string">'dd'</span>, <span class="hljs-string">'ddd'</span>, <span class="hljs-string">'dddd'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, week, config, token</span>) </span>{
        <span class="hljs-keyword">var</span> weekday = config._locale.weekdaysParse(input, token, config._strict);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-57" id="section-57"></a>
</div>
<p>if we didn't get a weekday name, mark the date as invalid</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (weekday != <span class="hljs-literal">null</span>) {
            week.d = weekday;
        } <span class="hljs-keyword">else</span> {
            getParsingFlags(config).invalidWeekday = input;
        }
    });

    addWeekParseToken([<span class="hljs-string">'d'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'E'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, week, config, token</span>) </span>{
        week[token] = toInt(input);
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-58" id="section-58"></a>
</div>
<p>HELPERS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseWeekday</span>(<span class="hljs-params">input, locale</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input !== <span class="hljs-string">'string'</span>) {
            <span class="hljs-keyword">return</span> input;
        }

        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">isNaN</span>(input)) {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>(input, <span class="hljs-number">10</span>);
        }

        input = locale.weekdaysParse(input);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">'number'</span>) {
            <span class="hljs-keyword">return</span> input;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseIsoWeekday</span>(<span class="hljs-params">input, locale</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">'string'</span>) {
            <span class="hljs-keyword">return</span> locale.weekdaysParse(input) % <span class="hljs-number">7</span> || <span class="hljs-number">7</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">isNaN</span>(input) ? <span class="hljs-literal">null</span> : input;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-59" id="section-59"></a>
</div>
<p>LOCALES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-keyword">var</span> defaultLocaleWeekdays = <span class="hljs-string">'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'</span>.split(<span class="hljs-string">'_'</span>);
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeWeekdays</span> (<span class="hljs-params">m, format</span>) </span>{
        <span class="hljs-keyword">if</span> (!m) {
            <span class="hljs-keyword">return</span> isArray(<span class="hljs-keyword">this</span>._weekdays) ? <span class="hljs-keyword">this</span>._weekdays :
                <span class="hljs-keyword">this</span>._weekdays[<span class="hljs-string">'standalone'</span>];
        }
        <span class="hljs-keyword">return</span> isArray(<span class="hljs-keyword">this</span>._weekdays) ? <span class="hljs-keyword">this</span>._weekdays[m.day()] :
            <span class="hljs-keyword">this</span>._weekdays[<span class="hljs-keyword">this</span>._weekdays.isFormat.test(format) ? <span class="hljs-string">'format'</span> : <span class="hljs-string">'standalone'</span>][m.day()];
    }

    <span class="hljs-keyword">var</span> defaultLocaleWeekdaysShort = <span class="hljs-string">'Sun_Mon_Tue_Wed_Thu_Fri_Sat'</span>.split(<span class="hljs-string">'_'</span>);
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeWeekdaysShort</span> (<span class="hljs-params">m</span>) </span>{
        <span class="hljs-keyword">return</span> (m) ? <span class="hljs-keyword">this</span>._weekdaysShort[m.day()] : <span class="hljs-keyword">this</span>._weekdaysShort;
    }

    <span class="hljs-keyword">var</span> defaultLocaleWeekdaysMin = <span class="hljs-string">'Su_Mo_Tu_We_Th_Fr_Sa'</span>.split(<span class="hljs-string">'_'</span>);
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeWeekdaysMin</span> (<span class="hljs-params">m</span>) </span>{
        <span class="hljs-keyword">return</span> (m) ? <span class="hljs-keyword">this</span>._weekdaysMin[m.day()] : <span class="hljs-keyword">this</span>._weekdaysMin;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleStrictParse$1</span>(<span class="hljs-params">weekdayName, format, strict</span>) </span>{
        <span class="hljs-keyword">var</span> i, ii, mom, llc = weekdayName.toLocaleLowerCase();
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._weekdaysParse) {
            <span class="hljs-keyword">this</span>._weekdaysParse = [];
            <span class="hljs-keyword">this</span>._shortWeekdaysParse = [];
            <span class="hljs-keyword">this</span>._minWeekdaysParse = [];

            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">7</span>; ++i) {
                mom = createUTC([<span class="hljs-number">2000</span>, <span class="hljs-number">1</span>]).day(i);
                <span class="hljs-keyword">this</span>._minWeekdaysParse[i] = <span class="hljs-keyword">this</span>.weekdaysMin(mom, <span class="hljs-string">''</span>).toLocaleLowerCase();
                <span class="hljs-keyword">this</span>._shortWeekdaysParse[i] = <span class="hljs-keyword">this</span>.weekdaysShort(mom, <span class="hljs-string">''</span>).toLocaleLowerCase();
                <span class="hljs-keyword">this</span>._weekdaysParse[i] = <span class="hljs-keyword">this</span>.weekdays(mom, <span class="hljs-string">''</span>).toLocaleLowerCase();
            }
        }

        <span class="hljs-keyword">if</span> (strict) {
            <span class="hljs-keyword">if</span> (format === <span class="hljs-string">'dddd'</span>) {
                ii = indexOf.call(<span class="hljs-keyword">this</span>._weekdaysParse, llc);
                <span class="hljs-keyword">return</span> ii !== <span class="hljs-number">-1</span> ? ii : <span class="hljs-literal">null</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (format === <span class="hljs-string">'ddd'</span>) {
                ii = indexOf.call(<span class="hljs-keyword">this</span>._shortWeekdaysParse, llc);
                <span class="hljs-keyword">return</span> ii !== <span class="hljs-number">-1</span> ? ii : <span class="hljs-literal">null</span>;
            } <span class="hljs-keyword">else</span> {
                ii = indexOf.call(<span class="hljs-keyword">this</span>._minWeekdaysParse, llc);
                <span class="hljs-keyword">return</span> ii !== <span class="hljs-number">-1</span> ? ii : <span class="hljs-literal">null</span>;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (format === <span class="hljs-string">'dddd'</span>) {
                ii = indexOf.call(<span class="hljs-keyword">this</span>._weekdaysParse, llc);
                <span class="hljs-keyword">if</span> (ii !== <span class="hljs-number">-1</span>) {
                    <span class="hljs-keyword">return</span> ii;
                }
                ii = indexOf.call(<span class="hljs-keyword">this</span>._shortWeekdaysParse, llc);
                <span class="hljs-keyword">if</span> (ii !== <span class="hljs-number">-1</span>) {
                    <span class="hljs-keyword">return</span> ii;
                }
                ii = indexOf.call(<span class="hljs-keyword">this</span>._minWeekdaysParse, llc);
                <span class="hljs-keyword">return</span> ii !== <span class="hljs-number">-1</span> ? ii : <span class="hljs-literal">null</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (format === <span class="hljs-string">'ddd'</span>) {
                ii = indexOf.call(<span class="hljs-keyword">this</span>._shortWeekdaysParse, llc);
                <span class="hljs-keyword">if</span> (ii !== <span class="hljs-number">-1</span>) {
                    <span class="hljs-keyword">return</span> ii;
                }
                ii = indexOf.call(<span class="hljs-keyword">this</span>._weekdaysParse, llc);
                <span class="hljs-keyword">if</span> (ii !== <span class="hljs-number">-1</span>) {
                    <span class="hljs-keyword">return</span> ii;
                }
                ii = indexOf.call(<span class="hljs-keyword">this</span>._minWeekdaysParse, llc);
                <span class="hljs-keyword">return</span> ii !== <span class="hljs-number">-1</span> ? ii : <span class="hljs-literal">null</span>;
            } <span class="hljs-keyword">else</span> {
                ii = indexOf.call(<span class="hljs-keyword">this</span>._minWeekdaysParse, llc);
                <span class="hljs-keyword">if</span> (ii !== <span class="hljs-number">-1</span>) {
                    <span class="hljs-keyword">return</span> ii;
                }
                ii = indexOf.call(<span class="hljs-keyword">this</span>._weekdaysParse, llc);
                <span class="hljs-keyword">if</span> (ii !== <span class="hljs-number">-1</span>) {
                    <span class="hljs-keyword">return</span> ii;
                }
                ii = indexOf.call(<span class="hljs-keyword">this</span>._shortWeekdaysParse, llc);
                <span class="hljs-keyword">return</span> ii !== <span class="hljs-number">-1</span> ? ii : <span class="hljs-literal">null</span>;
            }
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeWeekdaysParse</span> (<span class="hljs-params">weekdayName, format, strict</span>) </span>{
        <span class="hljs-keyword">var</span> i, mom, regex;

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._weekdaysParseExact) {
            <span class="hljs-keyword">return</span> handleStrictParse$<span class="hljs-number">1.</span>call(<span class="hljs-keyword">this</span>, weekdayName, format, strict);
        }

        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._weekdaysParse) {
            <span class="hljs-keyword">this</span>._weekdaysParse = [];
            <span class="hljs-keyword">this</span>._minWeekdaysParse = [];
            <span class="hljs-keyword">this</span>._shortWeekdaysParse = [];
            <span class="hljs-keyword">this</span>._fullWeekdaysParse = [];
        }

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">7</span>; i++) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-60" id="section-60"></a>
</div>
<p>make the regex if we don't have it already</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
            mom = createUTC([<span class="hljs-number">2000</span>, <span class="hljs-number">1</span>]).day(i);
            <span class="hljs-keyword">if</span> (strict &amp;&amp; !<span class="hljs-keyword">this</span>._fullWeekdaysParse[i]) {
                <span class="hljs-keyword">this</span>._fullWeekdaysParse[i] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^'</span> + <span class="hljs-keyword">this</span>.weekdays(mom, <span class="hljs-string">''</span>).replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">'\\.?'</span>) + <span class="hljs-string">'$'</span>, <span class="hljs-string">'i'</span>);
                <span class="hljs-keyword">this</span>._shortWeekdaysParse[i] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^'</span> + <span class="hljs-keyword">this</span>.weekdaysShort(mom, <span class="hljs-string">''</span>).replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">'\\.?'</span>) + <span class="hljs-string">'$'</span>, <span class="hljs-string">'i'</span>);
                <span class="hljs-keyword">this</span>._minWeekdaysParse[i] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^'</span> + <span class="hljs-keyword">this</span>.weekdaysMin(mom, <span class="hljs-string">''</span>).replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">'\\.?'</span>) + <span class="hljs-string">'$'</span>, <span class="hljs-string">'i'</span>);
            }
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._weekdaysParse[i]) {
                regex = <span class="hljs-string">'^'</span> + <span class="hljs-keyword">this</span>.weekdays(mom, <span class="hljs-string">''</span>) + <span class="hljs-string">'|^'</span> + <span class="hljs-keyword">this</span>.weekdaysShort(mom, <span class="hljs-string">''</span>) + <span class="hljs-string">'|^'</span> + <span class="hljs-keyword">this</span>.weekdaysMin(mom, <span class="hljs-string">''</span>);
                <span class="hljs-keyword">this</span>._weekdaysParse[i] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(regex.replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">''</span>), <span class="hljs-string">'i'</span>);
            }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-61" id="section-61"></a>
</div>
<p>test the regex</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (strict &amp;&amp; format === <span class="hljs-string">'dddd'</span> &amp;&amp; <span class="hljs-keyword">this</span>._fullWeekdaysParse[i].test(weekdayName)) {
                <span class="hljs-keyword">return</span> i;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (strict &amp;&amp; format === <span class="hljs-string">'ddd'</span> &amp;&amp; <span class="hljs-keyword">this</span>._shortWeekdaysParse[i].test(weekdayName)) {
                <span class="hljs-keyword">return</span> i;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (strict &amp;&amp; format === <span class="hljs-string">'dd'</span> &amp;&amp; <span class="hljs-keyword">this</span>._minWeekdaysParse[i].test(weekdayName)) {
                <span class="hljs-keyword">return</span> i;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!strict &amp;&amp; <span class="hljs-keyword">this</span>._weekdaysParse[i].test(weekdayName)) {
                <span class="hljs-keyword">return</span> i;
            }
        }
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-62" id="section-62"></a>
</div>
<p>MOMENTS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetDayOfWeek</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> input != <span class="hljs-literal">null</span> ? <span class="hljs-keyword">this</span> : <span class="hljs-literal">NaN</span>;
        }
        <span class="hljs-keyword">var</span> day = <span class="hljs-keyword">this</span>._isUTC ? <span class="hljs-keyword">this</span>._d.getUTCDay() : <span class="hljs-keyword">this</span>._d.getDay();
        <span class="hljs-keyword">if</span> (input != <span class="hljs-literal">null</span>) {
            input = parseWeekday(input, <span class="hljs-keyword">this</span>.localeData());
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.add(input - day, <span class="hljs-string">'d'</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> day;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetLocaleDayOfWeek</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> input != <span class="hljs-literal">null</span> ? <span class="hljs-keyword">this</span> : <span class="hljs-literal">NaN</span>;
        }
        <span class="hljs-keyword">var</span> weekday = (<span class="hljs-keyword">this</span>.day() + <span class="hljs-number">7</span> - <span class="hljs-keyword">this</span>.localeData()._week.dow) % <span class="hljs-number">7</span>;
        <span class="hljs-keyword">return</span> input == <span class="hljs-literal">null</span> ? weekday : <span class="hljs-keyword">this</span>.add(input - weekday, <span class="hljs-string">'d'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetISODayOfWeek</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> input != <span class="hljs-literal">null</span> ? <span class="hljs-keyword">this</span> : <span class="hljs-literal">NaN</span>;
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-63" id="section-63"></a>
</div>
<p>behaves the same as moment#day except
as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
as a setter, sunday should belong to the previous week.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
        <span class="hljs-keyword">if</span> (input != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">var</span> weekday = parseIsoWeekday(input, <span class="hljs-keyword">this</span>.localeData());
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.day(<span class="hljs-keyword">this</span>.day() % <span class="hljs-number">7</span> ? weekday : weekday - <span class="hljs-number">7</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.day() || <span class="hljs-number">7</span>;
        }
    }

    <span class="hljs-keyword">var</span> defaultWeekdaysRegex = matchWord;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">weekdaysRegex</span> (<span class="hljs-params">isStrict</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._weekdaysParseExact) {
            <span class="hljs-keyword">if</span> (!hasOwnProp(<span class="hljs-keyword">this</span>, <span class="hljs-string">'_weekdaysRegex'</span>)) {
                computeWeekdaysParse.call(<span class="hljs-keyword">this</span>);
            }
            <span class="hljs-keyword">if</span> (isStrict) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._weekdaysStrictRegex;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._weekdaysRegex;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (!hasOwnProp(<span class="hljs-keyword">this</span>, <span class="hljs-string">'_weekdaysRegex'</span>)) {
                <span class="hljs-keyword">this</span>._weekdaysRegex = defaultWeekdaysRegex;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._weekdaysStrictRegex &amp;&amp; isStrict ?
                <span class="hljs-keyword">this</span>._weekdaysStrictRegex : <span class="hljs-keyword">this</span>._weekdaysRegex;
        }
    }

    <span class="hljs-keyword">var</span> defaultWeekdaysShortRegex = matchWord;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">weekdaysShortRegex</span> (<span class="hljs-params">isStrict</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._weekdaysParseExact) {
            <span class="hljs-keyword">if</span> (!hasOwnProp(<span class="hljs-keyword">this</span>, <span class="hljs-string">'_weekdaysRegex'</span>)) {
                computeWeekdaysParse.call(<span class="hljs-keyword">this</span>);
            }
            <span class="hljs-keyword">if</span> (isStrict) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._weekdaysShortStrictRegex;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._weekdaysShortRegex;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (!hasOwnProp(<span class="hljs-keyword">this</span>, <span class="hljs-string">'_weekdaysShortRegex'</span>)) {
                <span class="hljs-keyword">this</span>._weekdaysShortRegex = defaultWeekdaysShortRegex;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._weekdaysShortStrictRegex &amp;&amp; isStrict ?
                <span class="hljs-keyword">this</span>._weekdaysShortStrictRegex : <span class="hljs-keyword">this</span>._weekdaysShortRegex;
        }
    }

    <span class="hljs-keyword">var</span> defaultWeekdaysMinRegex = matchWord;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">weekdaysMinRegex</span> (<span class="hljs-params">isStrict</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._weekdaysParseExact) {
            <span class="hljs-keyword">if</span> (!hasOwnProp(<span class="hljs-keyword">this</span>, <span class="hljs-string">'_weekdaysRegex'</span>)) {
                computeWeekdaysParse.call(<span class="hljs-keyword">this</span>);
            }
            <span class="hljs-keyword">if</span> (isStrict) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._weekdaysMinStrictRegex;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._weekdaysMinRegex;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (!hasOwnProp(<span class="hljs-keyword">this</span>, <span class="hljs-string">'_weekdaysMinRegex'</span>)) {
                <span class="hljs-keyword">this</span>._weekdaysMinRegex = defaultWeekdaysMinRegex;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._weekdaysMinStrictRegex &amp;&amp; isStrict ?
                <span class="hljs-keyword">this</span>._weekdaysMinStrictRegex : <span class="hljs-keyword">this</span>._weekdaysMinRegex;
        }
    }


    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">computeWeekdaysParse</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cmpLenRev</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> b.length - a.length;
        }

        <span class="hljs-keyword">var</span> minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],
            i, mom, minp, shortp, longp;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">7</span>; i++) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-64" id="section-64"></a>
</div>
<p>make the regex if we don't have it already</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            mom = createUTC([<span class="hljs-number">2000</span>, <span class="hljs-number">1</span>]).day(i);
            minp = <span class="hljs-keyword">this</span>.weekdaysMin(mom, <span class="hljs-string">''</span>);
            shortp = <span class="hljs-keyword">this</span>.weekdaysShort(mom, <span class="hljs-string">''</span>);
            longp = <span class="hljs-keyword">this</span>.weekdays(mom, <span class="hljs-string">''</span>);
            minPieces.push(minp);
            shortPieces.push(shortp);
            longPieces.push(longp);
            mixedPieces.push(minp);
            mixedPieces.push(shortp);
            mixedPieces.push(longp);
        }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-65" id="section-65"></a>
</div>
<p>Sorting makes sure if one weekday (or abbr) is a prefix of another it
will match the longer piece.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        minPieces.sort(cmpLenRev);
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">7</span>; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }

        <span class="hljs-keyword">this</span>._weekdaysRegex = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^('</span> + mixedPieces.join(<span class="hljs-string">'|'</span>) + <span class="hljs-string">')'</span>, <span class="hljs-string">'i'</span>);
        <span class="hljs-keyword">this</span>._weekdaysShortRegex = <span class="hljs-keyword">this</span>._weekdaysRegex;
        <span class="hljs-keyword">this</span>._weekdaysMinRegex = <span class="hljs-keyword">this</span>._weekdaysRegex;

        <span class="hljs-keyword">this</span>._weekdaysStrictRegex = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^('</span> + longPieces.join(<span class="hljs-string">'|'</span>) + <span class="hljs-string">')'</span>, <span class="hljs-string">'i'</span>);
        <span class="hljs-keyword">this</span>._weekdaysShortStrictRegex = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^('</span> + shortPieces.join(<span class="hljs-string">'|'</span>) + <span class="hljs-string">')'</span>, <span class="hljs-string">'i'</span>);
        <span class="hljs-keyword">this</span>._weekdaysMinStrictRegex = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^('</span> + minPieces.join(<span class="hljs-string">'|'</span>) + <span class="hljs-string">')'</span>, <span class="hljs-string">'i'</span>);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-66" id="section-66"></a>
</div>
<p>FORMATTING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hFormat</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.hours() % <span class="hljs-number">12</span> || <span class="hljs-number">12</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">kFormat</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.hours() || <span class="hljs-number">24</span>;
    }

    addFormatToken(<span class="hljs-string">'H'</span>, [<span class="hljs-string">'HH'</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0</span>, <span class="hljs-string">'hour'</span>);
    addFormatToken(<span class="hljs-string">'h'</span>, [<span class="hljs-string">'hh'</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0</span>, hFormat);
    addFormatToken(<span class="hljs-string">'k'</span>, [<span class="hljs-string">'kk'</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0</span>, kFormat);

    addFormatToken(<span class="hljs-string">'hmm'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">''</span> + hFormat.apply(<span class="hljs-keyword">this</span>) + zeroFill(<span class="hljs-keyword">this</span>.minutes(), <span class="hljs-number">2</span>);
    });

    addFormatToken(<span class="hljs-string">'hmmss'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">''</span> + hFormat.apply(<span class="hljs-keyword">this</span>) + zeroFill(<span class="hljs-keyword">this</span>.minutes(), <span class="hljs-number">2</span>) +
            zeroFill(<span class="hljs-keyword">this</span>.seconds(), <span class="hljs-number">2</span>);
    });

    addFormatToken(<span class="hljs-string">'Hmm'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">''</span> + <span class="hljs-keyword">this</span>.hours() + zeroFill(<span class="hljs-keyword">this</span>.minutes(), <span class="hljs-number">2</span>);
    });

    addFormatToken(<span class="hljs-string">'Hmmss'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">''</span> + <span class="hljs-keyword">this</span>.hours() + zeroFill(<span class="hljs-keyword">this</span>.minutes(), <span class="hljs-number">2</span>) +
            zeroFill(<span class="hljs-keyword">this</span>.seconds(), <span class="hljs-number">2</span>);
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">meridiem</span> (<span class="hljs-params">token, lowercase</span>) </span>{
        addFormatToken(token, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().meridiem(<span class="hljs-keyword">this</span>.hours(), <span class="hljs-keyword">this</span>.minutes(), lowercase);
        });
    }

    meridiem(<span class="hljs-string">'a'</span>, <span class="hljs-literal">true</span>);
    meridiem(<span class="hljs-string">'A'</span>, <span class="hljs-literal">false</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-67" id="section-67"></a>
</div>
<p>ALIASES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitAlias(<span class="hljs-string">'hour'</span>, <span class="hljs-string">'h'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-68" id="section-68"></a>
</div>
<p>PRIORITY</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    addUnitPriority(<span class="hljs-string">'hour'</span>, <span class="hljs-number">13</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-69" id="section-69"></a>
</div>
<p>PARSING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">matchMeridiem</span> (<span class="hljs-params">isStrict, locale</span>) </span>{
        <span class="hljs-keyword">return</span> locale._meridiemParse;
    }

    addRegexToken(<span class="hljs-string">'a'</span>,  matchMeridiem);
    addRegexToken(<span class="hljs-string">'A'</span>,  matchMeridiem);
    addRegexToken(<span class="hljs-string">'H'</span>,  match1to2);
    addRegexToken(<span class="hljs-string">'h'</span>,  match1to2);
    addRegexToken(<span class="hljs-string">'k'</span>,  match1to2);
    addRegexToken(<span class="hljs-string">'HH'</span>, match1to2, match2);
    addRegexToken(<span class="hljs-string">'hh'</span>, match1to2, match2);
    addRegexToken(<span class="hljs-string">'kk'</span>, match1to2, match2);

    addRegexToken(<span class="hljs-string">'hmm'</span>, match3to4);
    addRegexToken(<span class="hljs-string">'hmmss'</span>, match5to6);
    addRegexToken(<span class="hljs-string">'Hmm'</span>, match3to4);
    addRegexToken(<span class="hljs-string">'Hmmss'</span>, match5to6);

    addParseToken([<span class="hljs-string">'H'</span>, <span class="hljs-string">'HH'</span>], HOUR);
    addParseToken([<span class="hljs-string">'k'</span>, <span class="hljs-string">'kk'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        <span class="hljs-keyword">var</span> kInput = toInt(input);
        array[HOUR] = kInput === <span class="hljs-number">24</span> ? <span class="hljs-number">0</span> : kInput;
    });
    addParseToken([<span class="hljs-string">'a'</span>, <span class="hljs-string">'A'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        config._isPm = config._locale.isPM(input);
        config._meridiem = input;
    });
    addParseToken([<span class="hljs-string">'h'</span>, <span class="hljs-string">'hh'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        array[HOUR] = toInt(input);
        getParsingFlags(config).bigHour = <span class="hljs-literal">true</span>;
    });
    addParseToken(<span class="hljs-string">'hmm'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        <span class="hljs-keyword">var</span> pos = input.length - <span class="hljs-number">2</span>;
        array[HOUR] = toInt(input.substr(<span class="hljs-number">0</span>, pos));
        array[MINUTE] = toInt(input.substr(pos));
        getParsingFlags(config).bigHour = <span class="hljs-literal">true</span>;
    });
    addParseToken(<span class="hljs-string">'hmmss'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        <span class="hljs-keyword">var</span> pos1 = input.length - <span class="hljs-number">4</span>;
        <span class="hljs-keyword">var</span> pos2 = input.length - <span class="hljs-number">2</span>;
        array[HOUR] = toInt(input.substr(<span class="hljs-number">0</span>, pos1));
        array[MINUTE] = toInt(input.substr(pos1, <span class="hljs-number">2</span>));
        array[SECOND] = toInt(input.substr(pos2));
        getParsingFlags(config).bigHour = <span class="hljs-literal">true</span>;
    });
    addParseToken(<span class="hljs-string">'Hmm'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        <span class="hljs-keyword">var</span> pos = input.length - <span class="hljs-number">2</span>;
        array[HOUR] = toInt(input.substr(<span class="hljs-number">0</span>, pos));
        array[MINUTE] = toInt(input.substr(pos));
    });
    addParseToken(<span class="hljs-string">'Hmmss'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        <span class="hljs-keyword">var</span> pos1 = input.length - <span class="hljs-number">4</span>;
        <span class="hljs-keyword">var</span> pos2 = input.length - <span class="hljs-number">2</span>;
        array[HOUR] = toInt(input.substr(<span class="hljs-number">0</span>, pos1));
        array[MINUTE] = toInt(input.substr(pos1, <span class="hljs-number">2</span>));
        array[SECOND] = toInt(input.substr(pos2));
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-70" id="section-70"></a>
</div>
<p>LOCALES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeIsPM</span> (<span class="hljs-params">input</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-71" id="section-71"></a>
</div>
<p>IE8 Quirks Mode &amp; IE7 Standards Mode do not allow accessing strings like arrays
Using charAt should be more compatible.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">return</span> ((input + <span class="hljs-string">''</span>).toLowerCase().charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">'p'</span>);
    }

    <span class="hljs-keyword">var</span> defaultLocaleMeridiemParse = <span class="hljs-regexp">/[ap]\.?m?\.?/i</span>;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeMeridiem</span> (<span class="hljs-params">hours, minutes, isLower</span>) </span>{
        <span class="hljs-keyword">if</span> (hours &gt; <span class="hljs-number">11</span>) {
            <span class="hljs-keyword">return</span> isLower ? <span class="hljs-string">'pm'</span> : <span class="hljs-string">'PM'</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> isLower ? <span class="hljs-string">'am'</span> : <span class="hljs-string">'AM'</span>;
        }
    }


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-72" id="section-72"></a>
</div>
<p>MOMENTS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-73" id="section-73"></a>
</div>
<p>Setting the hour should keep the time, because the user explicitly
specified which hour they want. So trying to maintain the same hour (in
a new timezone) makes sense. Adding/subtracting hours does not follow
this rule.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> getSetHour = makeGetSet(<span class="hljs-string">'Hours'</span>, <span class="hljs-literal">true</span>);

    <span class="hljs-keyword">var</span> baseConfig = {
        <span class="hljs-attr">calendar</span>: defaultCalendar,
        <span class="hljs-attr">longDateFormat</span>: defaultLongDateFormat,
        <span class="hljs-attr">invalidDate</span>: defaultInvalidDate,
        <span class="hljs-attr">ordinal</span>: defaultOrdinal,
        <span class="hljs-attr">dayOfMonthOrdinalParse</span>: defaultDayOfMonthOrdinalParse,
        <span class="hljs-attr">relativeTime</span>: defaultRelativeTime,

        <span class="hljs-attr">months</span>: defaultLocaleMonths,
        <span class="hljs-attr">monthsShort</span>: defaultLocaleMonthsShort,

        <span class="hljs-attr">week</span>: defaultLocaleWeek,

        <span class="hljs-attr">weekdays</span>: defaultLocaleWeekdays,
        <span class="hljs-attr">weekdaysMin</span>: defaultLocaleWeekdaysMin,
        <span class="hljs-attr">weekdaysShort</span>: defaultLocaleWeekdaysShort,

        <span class="hljs-attr">meridiemParse</span>: defaultLocaleMeridiemParse
    };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-74" id="section-74"></a>
</div>
<p>internal storage for locale config files</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> locales = {};
    <span class="hljs-keyword">var</span> localeFamilies = {};
    <span class="hljs-keyword">var</span> globalLocale;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">normalizeLocale</span>(<span class="hljs-params">key</span>) </span>{
        <span class="hljs-keyword">return</span> key ? key.toLowerCase().replace(<span class="hljs-string">'_'</span>, <span class="hljs-string">'-'</span>) : key;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-75" id="section-75"></a>
</div>
<p>pick the locale from the array
try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
substring from most specific to least, but move to the next array item if it's a more specific variant than the current root</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">chooseLocale</span>(<span class="hljs-params">names</span>) </span>{
        <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, j, next, locale, split;

        <span class="hljs-keyword">while</span> (i &lt; names.length) {
            split = normalizeLocale(names[i]).split(<span class="hljs-string">'-'</span>);
            j = split.length;
            next = normalizeLocale(names[i + <span class="hljs-number">1</span>]);
            next = next ? next.split(<span class="hljs-string">'-'</span>) : <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">while</span> (j &gt; <span class="hljs-number">0</span>) {
                locale = loadLocale(split.slice(<span class="hljs-number">0</span>, j).join(<span class="hljs-string">'-'</span>));
                <span class="hljs-keyword">if</span> (locale) {
                    <span class="hljs-keyword">return</span> locale;
                }
                <span class="hljs-keyword">if</span> (next &amp;&amp; next.length &gt;= j &amp;&amp; compareArrays(split, next, <span class="hljs-literal">true</span>) &gt;= j - <span class="hljs-number">1</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-76" id="section-76"></a>
</div>
<p>the next array item is better than a shallower substring of this one</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                    <span class="hljs-keyword">break</span>;
                }
                j--;
            }
            i++;
        }
        <span class="hljs-keyword">return</span> globalLocale;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadLocale</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">var</span> oldLocale = <span class="hljs-literal">null</span>;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-77" id="section-77"></a>
</div>
<p>TODO: Find a better way to register and load all the locales in Node</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (!locales[name] &amp;&amp; (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span> !== <span class="hljs-string">'undefined'</span>) &amp;&amp;
                <span class="hljs-built_in">module</span> &amp;&amp; <span class="hljs-built_in">module</span>.exports) {
            <span class="hljs-keyword">try</span> {
                oldLocale = globalLocale._abbr;
                <span class="hljs-keyword">var</span> aliasedRequire = <span class="hljs-built_in">require</span>;
                aliasedRequire(<span class="hljs-string">'./locale/'</span> + name);
                getSetGlobalLocale(oldLocale);
            } <span class="hljs-keyword">catch</span> (e) {}
        }
        <span class="hljs-keyword">return</span> locales[name];
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-78" id="section-78"></a>
</div>
<p>This function will load locale and then set the global locale.  If
no arguments are passed in, it will simply return the current global
locale key.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetGlobalLocale</span> (<span class="hljs-params">key, values</span>) </span>{
        <span class="hljs-keyword">var</span> data;
        <span class="hljs-keyword">if</span> (key) {
            <span class="hljs-keyword">if</span> (isUndefined(values)) {
                data = getLocale(key);
            }
            <span class="hljs-keyword">else</span> {
                data = defineLocale(key, values);
            }

            <span class="hljs-keyword">if</span> (data) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-79" id="section-79"></a>
</div>
<p>moment.duration._locale = moment._locale = data;</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                globalLocale = data;
            }
            <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> ((<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">console</span> !==  <span class="hljs-string">'undefined'</span>) &amp;&amp; <span class="hljs-built_in">console</span>.warn) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-80" id="section-80"></a>
</div>
<p>warn user if arguments are passed but the locale could not be set</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                    <span class="hljs-built_in">console</span>.warn(<span class="hljs-string">'Locale '</span> + key +  <span class="hljs-string">' not found. Did you forget to load it?'</span>);
                }
            }
        }

        <span class="hljs-keyword">return</span> globalLocale._abbr;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">defineLocale</span> (<span class="hljs-params">name, config</span>) </span>{
        <span class="hljs-keyword">if</span> (config !== <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">var</span> locale, parentConfig = baseConfig;
            config.abbr = name;
            <span class="hljs-keyword">if</span> (locales[name] != <span class="hljs-literal">null</span>) {
                deprecateSimple(<span class="hljs-string">'defineLocaleOverride'</span>,
                        <span class="hljs-string">'use moment.updateLocale(localeName, config) to change '</span> +
                        <span class="hljs-string">'an existing locale. moment.defineLocale(localeName, '</span> +
                        <span class="hljs-string">'config) should only be used for creating a new locale '</span> +
                        <span class="hljs-string">'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.'</span>);
                parentConfig = locales[name]._config;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (config.parentLocale != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (locales[config.parentLocale] != <span class="hljs-literal">null</span>) {
                    parentConfig = locales[config.parentLocale]._config;
                } <span class="hljs-keyword">else</span> {
                    locale = loadLocale(config.parentLocale);
                    <span class="hljs-keyword">if</span> (locale != <span class="hljs-literal">null</span>) {
                        parentConfig = locale._config;
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">if</span> (!localeFamilies[config.parentLocale]) {
                            localeFamilies[config.parentLocale] = [];
                        }
                        localeFamilies[config.parentLocale].push({
                            <span class="hljs-attr">name</span>: name,
                            <span class="hljs-attr">config</span>: config
                        });
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
                    }
                }
            }
            locales[name] = <span class="hljs-keyword">new</span> Locale(mergeConfigs(parentConfig, config));

            <span class="hljs-keyword">if</span> (localeFamilies[name]) {
                localeFamilies[name].forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">x</span>) </span>{
                    defineLocale(x.name, x.config);
                });
            }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-81" id="section-81"></a>
</div>
<p>backwards compat for now: also set the locale
make sure we set the locale AFTER all child locales have been
created, so we won't end up with the child locale set.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            getSetGlobalLocale(name);


            <span class="hljs-keyword">return</span> locales[name];
        } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-82" id="section-82"></a>
</div>
<p>useful for testing</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">delete</span> locales[name];
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateLocale</span>(<span class="hljs-params">name, config</span>) </span>{
        <span class="hljs-keyword">if</span> (config != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">var</span> locale, tmpLocale, parentConfig = baseConfig;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-83" id="section-83"></a>
</div>
<p>MERGE</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            tmpLocale = loadLocale(name);
            <span class="hljs-keyword">if</span> (tmpLocale != <span class="hljs-literal">null</span>) {
                parentConfig = tmpLocale._config;
            }
            config = mergeConfigs(parentConfig, config);
            locale = <span class="hljs-keyword">new</span> Locale(config);
            locale.parentLocale = locales[name];
            locales[name] = locale;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-84" id="section-84"></a>
</div>
<p>backwards compat for now: also set the locale</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            getSetGlobalLocale(name);
        } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-85" id="section-85"></a>
</div>
<p>pass null for config to unupdate, useful for tests</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (locales[name] != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (locales[name].parentLocale != <span class="hljs-literal">null</span>) {
                    locales[name] = locales[name].parentLocale;
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (locales[name] != <span class="hljs-literal">null</span>) {
                    <span class="hljs-keyword">delete</span> locales[name];
                }
            }
        }
        <span class="hljs-keyword">return</span> locales[name];
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-86" id="section-86"></a>
</div>
<p>returns locale data</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getLocale</span> (<span class="hljs-params">key</span>) </span>{
        <span class="hljs-keyword">var</span> locale;

        <span class="hljs-keyword">if</span> (key &amp;&amp; key._locale &amp;&amp; key._locale._abbr) {
            key = key._locale._abbr;
        }

        <span class="hljs-keyword">if</span> (!key) {
            <span class="hljs-keyword">return</span> globalLocale;
        }

        <span class="hljs-keyword">if</span> (!isArray(key)) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-87" id="section-87"></a>
</div>
<p>short-circuit everything else</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            locale = loadLocale(key);
            <span class="hljs-keyword">if</span> (locale) {
                <span class="hljs-keyword">return</span> locale;
            }
            key = [key];
        }

        <span class="hljs-keyword">return</span> chooseLocale(key);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listLocales</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> keys(locales);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkOverflow</span> (<span class="hljs-params">m</span>) </span>{
        <span class="hljs-keyword">var</span> overflow;
        <span class="hljs-keyword">var</span> a = m._a;

        <span class="hljs-keyword">if</span> (a &amp;&amp; getParsingFlags(m).overflow === <span class="hljs-number">-2</span>) {
            overflow =
                a[MONTH]       &lt; <span class="hljs-number">0</span> || a[MONTH]       &gt; <span class="hljs-number">11</span>  ? MONTH :
                a[DATE]        &lt; <span class="hljs-number">1</span> || a[DATE]        &gt; daysInMonth(a[YEAR], a[MONTH]) ? DATE :
                a[HOUR]        &lt; <span class="hljs-number">0</span> || a[HOUR]        &gt; <span class="hljs-number">24</span> || (a[HOUR] === <span class="hljs-number">24</span> &amp;&amp; (a[MINUTE] !== <span class="hljs-number">0</span> || a[SECOND] !== <span class="hljs-number">0</span> || a[MILLISECOND] !== <span class="hljs-number">0</span>)) ? HOUR :
                a[MINUTE]      &lt; <span class="hljs-number">0</span> || a[MINUTE]      &gt; <span class="hljs-number">59</span>  ? MINUTE :
                a[SECOND]      &lt; <span class="hljs-number">0</span> || a[SECOND]      &gt; <span class="hljs-number">59</span>  ? SECOND :
                a[MILLISECOND] &lt; <span class="hljs-number">0</span> || a[MILLISECOND] &gt; <span class="hljs-number">999</span> ? MILLISECOND :
                <span class="hljs-number">-1</span>;

            <span class="hljs-keyword">if</span> (getParsingFlags(m)._overflowDayOfYear &amp;&amp; (overflow &lt; YEAR || overflow &gt; DATE)) {
                overflow = DATE;
            }
            <span class="hljs-keyword">if</span> (getParsingFlags(m)._overflowWeeks &amp;&amp; overflow === <span class="hljs-number">-1</span>) {
                overflow = WEEK;
            }
            <span class="hljs-keyword">if</span> (getParsingFlags(m)._overflowWeekday &amp;&amp; overflow === <span class="hljs-number">-1</span>) {
                overflow = WEEKDAY;
            }

            getParsingFlags(m).overflow = overflow;
        }

        <span class="hljs-keyword">return</span> m;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-88" id="section-88"></a>
</div>
<p>Pick the first defined of two or three arguments.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">defaults</span>(<span class="hljs-params">a, b, c</span>) </span>{
        <span class="hljs-keyword">if</span> (a != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> a;
        }
        <span class="hljs-keyword">if</span> (b != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> b;
        }
        <span class="hljs-keyword">return</span> c;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">currentDateArray</span>(<span class="hljs-params">config</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-89" id="section-89"></a>
</div>
<p>hooks is actually the exported moment object</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">var</span> nowValue = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(hooks.now());
        <span class="hljs-keyword">if</span> (config._useUTC) {
            <span class="hljs-keyword">return</span> [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];
        }
        <span class="hljs-keyword">return</span> [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-90" id="section-90"></a>
</div>
<p>convert an array to a date.
the array should mirror the parameters below
note: all values past the year are optional and will default to the lowest possible value.
[year, month, day , hour, minute, second, millisecond]</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configFromArray</span> (<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> i, date, input = [], currentDate, expectedWeekday, yearToUse;

        <span class="hljs-keyword">if</span> (config._d) {
            <span class="hljs-keyword">return</span>;
        }

        currentDate = currentDateArray(config);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-91" id="section-91"></a>
</div>
<p>compute day of the year from weeks and weekdays</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (config._w &amp;&amp; config._a[DATE] == <span class="hljs-literal">null</span> &amp;&amp; config._a[MONTH] == <span class="hljs-literal">null</span>) {
            dayOfYearFromWeekInfo(config);
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-92" id="section-92"></a>
</div>
<p>if the day of the year is set, figure out what it is</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (config._dayOfYear != <span class="hljs-literal">null</span>) {
            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);

            <span class="hljs-keyword">if</span> (config._dayOfYear &gt; daysInYear(yearToUse) || config._dayOfYear === <span class="hljs-number">0</span>) {
                getParsingFlags(config)._overflowDayOfYear = <span class="hljs-literal">true</span>;
            }

            date = createUTCDate(yearToUse, <span class="hljs-number">0</span>, config._dayOfYear);
            config._a[MONTH] = date.getUTCMonth();
            config._a[DATE] = date.getUTCDate();
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-93" id="section-93"></a>
</div>
<p>Default to current date.</p>
<ul>
<li>if no year, month, day of month are given, default to today</li>
<li>if day of month is given, default month and year</li>
<li>if month is given, default only year</li>
<li>if year is given, don't default anything</li>
</ul>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span> &amp;&amp; config._a[i] == <span class="hljs-literal">null</span>; ++i) {
            config._a[i] = input[i] = currentDate[i];
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-94" id="section-94"></a>
</div>
<p>Zero out whatever was not defaulted, including time</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">for</span> (; i &lt; <span class="hljs-number">7</span>; i++) {
            config._a[i] = input[i] = (config._a[i] == <span class="hljs-literal">null</span>) ? (i === <span class="hljs-number">2</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) : config._a[i];
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-95" id="section-95"></a>
</div>
<p>Check for 24:00:00.000</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (config._a[HOUR] === <span class="hljs-number">24</span> &amp;&amp;
                config._a[MINUTE] === <span class="hljs-number">0</span> &amp;&amp;
                config._a[SECOND] === <span class="hljs-number">0</span> &amp;&amp;
                config._a[MILLISECOND] === <span class="hljs-number">0</span>) {
            config._nextDay = <span class="hljs-literal">true</span>;
            config._a[HOUR] = <span class="hljs-number">0</span>;
        }

        config._d = (config._useUTC ? createUTCDate : createDate).apply(<span class="hljs-literal">null</span>, input);
        expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-96" id="section-96"></a>
</div>
<p>Apply timezone offset from input. The actual utcOffset can be changed
with parseZone.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (config._tzm != <span class="hljs-literal">null</span>) {
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
        }

        <span class="hljs-keyword">if</span> (config._nextDay) {
            config._a[HOUR] = <span class="hljs-number">24</span>;
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-97" id="section-97"></a>
</div>
<p>check for mismatching day of week</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (config._w &amp;&amp; <span class="hljs-keyword">typeof</span> config._w.d !== <span class="hljs-string">'undefined'</span> &amp;&amp; config._w.d !== expectedWeekday) {
            getParsingFlags(config).weekdayMismatch = <span class="hljs-literal">true</span>;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dayOfYearFromWeekInfo</span>(<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;

        w = config._w;
        <span class="hljs-keyword">if</span> (w.GG != <span class="hljs-literal">null</span> || w.W != <span class="hljs-literal">null</span> || w.E != <span class="hljs-literal">null</span>) {
            dow = <span class="hljs-number">1</span>;
            doy = <span class="hljs-number">4</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-98" id="section-98"></a>
</div>
<p>TODO: We need to take the current isoWeekYear, but that depends on
how we interpret now (local, utc, fixed offset). So create
a now version of current config (take local/utc/offset flags, and
create now).</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), <span class="hljs-number">1</span>, <span class="hljs-number">4</span>).year);
            week = defaults(w.W, <span class="hljs-number">1</span>);
            weekday = defaults(w.E, <span class="hljs-number">1</span>);
            <span class="hljs-keyword">if</span> (weekday &lt; <span class="hljs-number">1</span> || weekday &gt; <span class="hljs-number">7</span>) {
                weekdayOverflow = <span class="hljs-literal">true</span>;
            }
        } <span class="hljs-keyword">else</span> {
            dow = config._locale._week.dow;
            doy = config._locale._week.doy;

            <span class="hljs-keyword">var</span> curWeek = weekOfYear(createLocal(), dow, doy);

            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-99" id="section-99"></a>
</div>
<p>Default to current week.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            week = defaults(w.w, curWeek.week);

            <span class="hljs-keyword">if</span> (w.d != <span class="hljs-literal">null</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-100" id="section-100"></a>
</div>
<p>weekday -- low day numbers are considered next week</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                weekday = w.d;
                <span class="hljs-keyword">if</span> (weekday &lt; <span class="hljs-number">0</span> || weekday &gt; <span class="hljs-number">6</span>) {
                    weekdayOverflow = <span class="hljs-literal">true</span>;
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (w.e != <span class="hljs-literal">null</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-101" id="section-101"></a>
</div>
<p>local weekday -- counting starts from begining of week</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                weekday = w.e + dow;
                <span class="hljs-keyword">if</span> (w.e &lt; <span class="hljs-number">0</span> || w.e &gt; <span class="hljs-number">6</span>) {
                    weekdayOverflow = <span class="hljs-literal">true</span>;
                }
            } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-102" id="section-102"></a>
</div>
<p>default to begining of week</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                weekday = dow;
            }
        }
        <span class="hljs-keyword">if</span> (week &lt; <span class="hljs-number">1</span> || week &gt; weeksInYear(weekYear, dow, doy)) {
            getParsingFlags(config)._overflowWeeks = <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (weekdayOverflow != <span class="hljs-literal">null</span>) {
            getParsingFlags(config)._overflowWeekday = <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> {
            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
            config._a[YEAR] = temp.year;
            config._dayOfYear = temp.dayOfYear;
        }
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-103" id="section-103"></a>
</div>
<p>iso 8601 regex
0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> extendedIsoRegex = <span class="hljs-regexp">/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/</span>;
    <span class="hljs-keyword">var</span> basicIsoRegex = <span class="hljs-regexp">/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/</span>;

    <span class="hljs-keyword">var</span> tzRegex = <span class="hljs-regexp">/Z|[+-]\d\d(?::?\d\d)?/</span>;

    <span class="hljs-keyword">var</span> isoDates = [
        [<span class="hljs-string">'YYYYYY-MM-DD'</span>, /[+-]\d{<span class="hljs-number">6</span>}-\d\d-\d\d/],
        [<span class="hljs-string">'YYYY-MM-DD'</span>, /\d{<span class="hljs-number">4</span>}-\d\d-\d\d/],
        [<span class="hljs-string">'GGGG-[W]WW-E'</span>, /\d{<span class="hljs-number">4</span>}-W\d\d-\d/],
        [<span class="hljs-string">'GGGG-[W]WW'</span>, /\d{<span class="hljs-number">4</span>}-W\d\d/, <span class="hljs-literal">false</span>],
        [<span class="hljs-string">'YYYY-DDD'</span>, /\d{<span class="hljs-number">4</span>}-\d{<span class="hljs-number">3</span>}/],
        [<span class="hljs-string">'YYYY-MM'</span>, /\d{<span class="hljs-number">4</span>}-\d\d/, <span class="hljs-literal">false</span>],
        [<span class="hljs-string">'YYYYYYMMDD'</span>, /[+-]\d{<span class="hljs-number">10</span>}/],
        [<span class="hljs-string">'YYYYMMDD'</span>, /\d{<span class="hljs-number">8</span>}/],
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-104" id="section-104"></a>
</div>
<p>YYYYMM is NOT allowed by the standard</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        [<span class="hljs-string">'GGGG[W]WWE'</span>, /\d{<span class="hljs-number">4</span>}W\d{<span class="hljs-number">3</span>}/],
        [<span class="hljs-string">'GGGG[W]WW'</span>, /\d{<span class="hljs-number">4</span>}W\d{<span class="hljs-number">2</span>}/, <span class="hljs-literal">false</span>],
        [<span class="hljs-string">'YYYYDDD'</span>, /\d{<span class="hljs-number">7</span>}/]
    ];

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-105" id="section-105"></a>
</div>
<p>iso time formats and regexes</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    var isoTimes = [
        ['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/],
        ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/],
        ['HH:mm:ss', /\d\d:\d\d:\d\d/],
        ['HH:mm', /\d\d:\d\d/],
        ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/],
        ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/],
        ['HHmmss', /\d\d\d\d\d\d/],
        ['HHmm', /\d\d\d\d/],
        ['HH', /\d\d/]
    ];

    var aspNetJsonRegex = /^\/?Date\((\-?\d+)/i;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-106" id="section-106"></a>
</div>
<p>date from iso format</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configFromISO</span>(<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> i, l,
            string = config._i,
            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),
            allowTime, dateFormat, timeFormat, tzFormat;

        <span class="hljs-keyword">if</span> (match) {
            getParsingFlags(config).iso = <span class="hljs-literal">true</span>;

            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, l = isoDates.length; i &lt; l; i++) {
                <span class="hljs-keyword">if</span> (isoDates[i][<span class="hljs-number">1</span>].exec(match[<span class="hljs-number">1</span>])) {
                    dateFormat = isoDates[i][<span class="hljs-number">0</span>];
                    allowTime = isoDates[i][<span class="hljs-number">2</span>] !== <span class="hljs-literal">false</span>;
                    <span class="hljs-keyword">break</span>;
                }
            }
            <span class="hljs-keyword">if</span> (dateFormat == <span class="hljs-literal">null</span>) {
                config._isValid = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (match[<span class="hljs-number">3</span>]) {
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, l = isoTimes.length; i &lt; l; i++) {
                    <span class="hljs-keyword">if</span> (isoTimes[i][<span class="hljs-number">1</span>].exec(match[<span class="hljs-number">3</span>])) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-107" id="section-107"></a>
</div>
<p>match[2] should be 'T' or space</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                        timeFormat = (match[<span class="hljs-number">2</span>] || <span class="hljs-string">' '</span>) + isoTimes[i][<span class="hljs-number">0</span>];
                        <span class="hljs-keyword">break</span>;
                    }
                }
                <span class="hljs-keyword">if</span> (timeFormat == <span class="hljs-literal">null</span>) {
                    config._isValid = <span class="hljs-literal">false</span>;
                    <span class="hljs-keyword">return</span>;
                }
            }
            <span class="hljs-keyword">if</span> (!allowTime &amp;&amp; timeFormat != <span class="hljs-literal">null</span>) {
                config._isValid = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (match[<span class="hljs-number">4</span>]) {
                <span class="hljs-keyword">if</span> (tzRegex.exec(match[<span class="hljs-number">4</span>])) {
                    tzFormat = <span class="hljs-string">'Z'</span>;
                } <span class="hljs-keyword">else</span> {
                    config._isValid = <span class="hljs-literal">false</span>;
                    <span class="hljs-keyword">return</span>;
                }
            }
            config._f = dateFormat + (timeFormat || <span class="hljs-string">''</span>) + (tzFormat || <span class="hljs-string">''</span>);
            configFromStringAndFormat(config);
        } <span class="hljs-keyword">else</span> {
            config._isValid = <span class="hljs-literal">false</span>;
        }
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-108" id="section-108"></a>
</div>
<p>RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> rfc2822 = <span class="hljs-regexp">/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">extractFromRFC2822Strings</span>(<span class="hljs-params">yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr</span>) </span>{
        <span class="hljs-keyword">var</span> result = [
            untruncateYear(yearStr),
            defaultLocaleMonthsShort.indexOf(monthStr),
            <span class="hljs-built_in">parseInt</span>(dayStr, <span class="hljs-number">10</span>),
            <span class="hljs-built_in">parseInt</span>(hourStr, <span class="hljs-number">10</span>),
            <span class="hljs-built_in">parseInt</span>(minuteStr, <span class="hljs-number">10</span>)
        ];

        <span class="hljs-keyword">if</span> (secondStr) {
            result.push(<span class="hljs-built_in">parseInt</span>(secondStr, <span class="hljs-number">10</span>));
        }

        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">untruncateYear</span>(<span class="hljs-params">yearStr</span>) </span>{
        <span class="hljs-keyword">var</span> year = <span class="hljs-built_in">parseInt</span>(yearStr, <span class="hljs-number">10</span>);
        <span class="hljs-keyword">if</span> (year &lt;= <span class="hljs-number">49</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">2000</span> + year;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (year &lt;= <span class="hljs-number">999</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">1900</span> + year;
        }
        <span class="hljs-keyword">return</span> year;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">preprocessRFC2822</span>(<span class="hljs-params">s</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-109" id="section-109"></a>
</div>
<p>Remove comments and folding whitespace and replace multiple-spaces with a single space</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">return</span> s.replace(<span class="hljs-regexp">/\([^)]*\)|[\n\t]/g</span>, <span class="hljs-string">' '</span>).replace(<span class="hljs-regexp">/(\s\s+)/g</span>, <span class="hljs-string">' '</span>).replace(<span class="hljs-regexp">/^\s\s*/</span>, <span class="hljs-string">''</span>).replace(<span class="hljs-regexp">/\s\s*$/</span>, <span class="hljs-string">''</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkWeekday</span>(<span class="hljs-params">weekdayStr, parsedInput, config</span>) </span>{
        <span class="hljs-keyword">if</span> (weekdayStr) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-110" id="section-110"></a>
</div>
<p>TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">var</span> weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),
                weekdayActual = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(parsedInput[<span class="hljs-number">0</span>], parsedInput[<span class="hljs-number">1</span>], parsedInput[<span class="hljs-number">2</span>]).getDay();
            <span class="hljs-keyword">if</span> (weekdayProvided !== weekdayActual) {
                getParsingFlags(config).weekdayMismatch = <span class="hljs-literal">true</span>;
                config._isValid = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-keyword">var</span> obsOffsets = {
        <span class="hljs-attr">UT</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">GMT</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">EDT</span>: <span class="hljs-number">-4</span> * <span class="hljs-number">60</span>,
        <span class="hljs-attr">EST</span>: <span class="hljs-number">-5</span> * <span class="hljs-number">60</span>,
        <span class="hljs-attr">CDT</span>: <span class="hljs-number">-5</span> * <span class="hljs-number">60</span>,
        <span class="hljs-attr">CST</span>: <span class="hljs-number">-6</span> * <span class="hljs-number">60</span>,
        <span class="hljs-attr">MDT</span>: <span class="hljs-number">-6</span> * <span class="hljs-number">60</span>,
        <span class="hljs-attr">MST</span>: <span class="hljs-number">-7</span> * <span class="hljs-number">60</span>,
        <span class="hljs-attr">PDT</span>: <span class="hljs-number">-7</span> * <span class="hljs-number">60</span>,
        <span class="hljs-attr">PST</span>: <span class="hljs-number">-8</span> * <span class="hljs-number">60</span>
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">calculateOffset</span>(<span class="hljs-params">obsOffset, militaryOffset, numOffset</span>) </span>{
        <span class="hljs-keyword">if</span> (obsOffset) {
            <span class="hljs-keyword">return</span> obsOffsets[obsOffset];
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (militaryOffset) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-111" id="section-111"></a>
</div>
<p>the only allowed military tz is Z</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> hm = <span class="hljs-built_in">parseInt</span>(numOffset, <span class="hljs-number">10</span>);
            <span class="hljs-keyword">var</span> m = hm % <span class="hljs-number">100</span>, h = (hm - m) / <span class="hljs-number">100</span>;
            <span class="hljs-keyword">return</span> h * <span class="hljs-number">60</span> + m;
        }
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-112" id="section-112"></a>
</div>
<p>date and time from ref 2822 format</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configFromRFC2822</span>(<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> match = rfc2822.exec(preprocessRFC2822(config._i));
        <span class="hljs-keyword">if</span> (match) {
            <span class="hljs-keyword">var</span> parsedArray = extractFromRFC2822Strings(match[<span class="hljs-number">4</span>], match[<span class="hljs-number">3</span>], match[<span class="hljs-number">2</span>], match[<span class="hljs-number">5</span>], match[<span class="hljs-number">6</span>], match[<span class="hljs-number">7</span>]);
            <span class="hljs-keyword">if</span> (!checkWeekday(match[<span class="hljs-number">1</span>], parsedArray, config)) {
                <span class="hljs-keyword">return</span>;
            }

            config._a = parsedArray;
            config._tzm = calculateOffset(match[<span class="hljs-number">8</span>], match[<span class="hljs-number">9</span>], match[<span class="hljs-number">10</span>]);

            config._d = createUTCDate.apply(<span class="hljs-literal">null</span>, config._a);
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);

            getParsingFlags(config).rfc2822 = <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> {
            config._isValid = <span class="hljs-literal">false</span>;
        }
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-113" id="section-113"></a>
</div>
<p>date from iso format or fallback</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configFromString</span>(<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> matched = aspNetJsonRegex.exec(config._i);

        <span class="hljs-keyword">if</span> (matched !== <span class="hljs-literal">null</span>) {
            config._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(+matched[<span class="hljs-number">1</span>]);
            <span class="hljs-keyword">return</span>;
        }

        configFromISO(config);
        <span class="hljs-keyword">if</span> (config._isValid === <span class="hljs-literal">false</span>) {
            <span class="hljs-keyword">delete</span> config._isValid;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span>;
        }

        configFromRFC2822(config);
        <span class="hljs-keyword">if</span> (config._isValid === <span class="hljs-literal">false</span>) {
            <span class="hljs-keyword">delete</span> config._isValid;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span>;
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-114" id="section-114"></a>
</div>
<p>Final attempt, use Input Fallback</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        hooks.createFromInputFallback(config);
    }

    hooks.createFromInputFallback = deprecate(
        <span class="hljs-string">'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), '</span> +
        <span class="hljs-string">'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are '</span> +
        <span class="hljs-string">'discouraged and will be removed in an upcoming major release. Please refer to '</span> +
        <span class="hljs-string">'http://momentjs.com/guides/#/warnings/js-date/ for more info.'</span>,
        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">config</span>) </span>{
            config._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(config._i + (config._useUTC ? <span class="hljs-string">' UTC'</span> : <span class="hljs-string">''</span>));
        }
    );

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-115" id="section-115"></a>
</div>
<p>constant that refers to the ISO standard</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    hooks.ISO_8601 = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-116" id="section-116"></a>
</div>
<p>constant that refers to the RFC 2822 form</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    hooks.RFC_2822 = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-117" id="section-117"></a>
</div>
<p>date from string and format string</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configFromStringAndFormat</span>(<span class="hljs-params">config</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-118" id="section-118"></a>
</div>
<p>TODO: Move this to another part of the creation flow to prevent circular deps</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (config._f === hooks.ISO_8601) {
            configFromISO(config);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (config._f === hooks.RFC_2822) {
            configFromRFC2822(config);
            <span class="hljs-keyword">return</span>;
        }
        config._a = [];
        getParsingFlags(config).empty = <span class="hljs-literal">true</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-119" id="section-119"></a>
</div>
<p>This array is used to make a Date, either with <code>new Date</code> or <code>Date.UTC</code></p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">var</span> string = <span class="hljs-string">''</span> + config._i,
            i, parsedInput, tokens, token, skipped,
            stringLength = string.length,
            totalParsedInputLength = <span class="hljs-number">0</span>;

        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; tokens.length; i++) {
            token = tokens[i];
            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[<span class="hljs-number">0</span>];
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-120" id="section-120"></a>
</div>
<p>console.log('token', token, 'parsedInput', parsedInput,
'regex', getParseRegexForToken(token, config));</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (parsedInput) {
                skipped = string.substr(<span class="hljs-number">0</span>, string.indexOf(parsedInput));
                <span class="hljs-keyword">if</span> (skipped.length &gt; <span class="hljs-number">0</span>) {
                    getParsingFlags(config).unusedInput.push(skipped);
                }
                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
                totalParsedInputLength += parsedInput.length;
            }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-121" id="section-121"></a>
</div>
<p>don't parse if it's not a known token</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (formatTokenFunctions[token]) {
                <span class="hljs-keyword">if</span> (parsedInput) {
                    getParsingFlags(config).empty = <span class="hljs-literal">false</span>;
                }
                <span class="hljs-keyword">else</span> {
                    getParsingFlags(config).unusedTokens.push(token);
                }
                addTimeToArrayFromToken(token, parsedInput, config);
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (config._strict &amp;&amp; !parsedInput) {
                getParsingFlags(config).unusedTokens.push(token);
            }
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-122" id="section-122"></a>
</div>
<p>add remaining unparsed input length to the string</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
        <span class="hljs-keyword">if</span> (string.length &gt; <span class="hljs-number">0</span>) {
            getParsingFlags(config).unusedInput.push(string);
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-123" id="section-123"></a>
</div>
<p>clear _12h flag if hour is &lt;= 12</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (config._a[HOUR] &lt;= <span class="hljs-number">12</span> &amp;&amp;
            getParsingFlags(config).bigHour === <span class="hljs-literal">true</span> &amp;&amp;
            config._a[HOUR] &gt; <span class="hljs-number">0</span>) {
            getParsingFlags(config).bigHour = <span class="hljs-literal">undefined</span>;
        }

        getParsingFlags(config).parsedDateParts = config._a.slice(<span class="hljs-number">0</span>);
        getParsingFlags(config).meridiem = config._meridiem;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-124" id="section-124"></a>
</div>
<p>handle meridiem</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);

        configFromArray(config);
        checkOverflow(config);
    }


    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">meridiemFixWrap</span> (<span class="hljs-params">locale, hour, meridiem</span>) </span>{
        <span class="hljs-keyword">var</span> isPm;

        <span class="hljs-keyword">if</span> (meridiem == <span class="hljs-literal">null</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-125" id="section-125"></a>
</div>
<p>nothing to do</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">return</span> hour;
        }
        <span class="hljs-keyword">if</span> (locale.meridiemHour != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> locale.meridiemHour(hour, meridiem);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (locale.isPM != <span class="hljs-literal">null</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-126" id="section-126"></a>
</div>
<p>Fallback</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            isPm = locale.isPM(meridiem);
            <span class="hljs-keyword">if</span> (isPm &amp;&amp; hour &lt; <span class="hljs-number">12</span>) {
                hour += <span class="hljs-number">12</span>;
            }
            <span class="hljs-keyword">if</span> (!isPm &amp;&amp; hour === <span class="hljs-number">12</span>) {
                hour = <span class="hljs-number">0</span>;
            }
            <span class="hljs-keyword">return</span> hour;
        } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-127" id="section-127"></a>
</div>
<p>this is not supposed to happen</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">return</span> hour;
        }
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-128" id="section-128"></a>
</div>
<p>date from string and array of format strings</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configFromStringAndArray</span>(<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> tempConfig,
            bestMoment,

            scoreToBeat,
            i,
            currentScore;

        <span class="hljs-keyword">if</span> (config._f.length === <span class="hljs-number">0</span>) {
            getParsingFlags(config).invalidFormat = <span class="hljs-literal">true</span>;
            config._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-literal">NaN</span>);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; config._f.length; i++) {
            currentScore = <span class="hljs-number">0</span>;
            tempConfig = copyConfig({}, config);
            <span class="hljs-keyword">if</span> (config._useUTC != <span class="hljs-literal">null</span>) {
                tempConfig._useUTC = config._useUTC;
            }
            tempConfig._f = config._f[i];
            configFromStringAndFormat(tempConfig);

            <span class="hljs-keyword">if</span> (!isValid(tempConfig)) {
                <span class="hljs-keyword">continue</span>;
            }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-129" id="section-129"></a>
</div>
<p>if there is any input that was not parsed add a penalty for that format</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            currentScore += getParsingFlags(tempConfig).charsLeftOver;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-130" id="section-130"></a>
</div>
<p>or tokens</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            currentScore += getParsingFlags(tempConfig).unusedTokens.length * <span class="hljs-number">10</span>;

            getParsingFlags(tempConfig).score = currentScore;

            <span class="hljs-keyword">if</span> (scoreToBeat == <span class="hljs-literal">null</span> || currentScore &lt; scoreToBeat) {
                scoreToBeat = currentScore;
                bestMoment = tempConfig;
            }
        }

        extend(config, bestMoment || tempConfig);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configFromObject</span>(<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">if</span> (config._d) {
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">var</span> i = normalizeObjectUnits(config._i);
        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) </span>{
            <span class="hljs-keyword">return</span> obj &amp;&amp; <span class="hljs-built_in">parseInt</span>(obj, <span class="hljs-number">10</span>);
        });

        configFromArray(config);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createFromConfig</span> (<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> res = <span class="hljs-keyword">new</span> Moment(checkOverflow(prepareConfig(config)));
        <span class="hljs-keyword">if</span> (res._nextDay) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-131" id="section-131"></a>
</div>
<p>Adding is smart enough around DST</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            res.add(<span class="hljs-number">1</span>, <span class="hljs-string">'d'</span>);
            res._nextDay = <span class="hljs-literal">undefined</span>;
        }

        <span class="hljs-keyword">return</span> res;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prepareConfig</span> (<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> input = config._i,
            format = config._f;

        config._locale = config._locale || getLocale(config._l);

        <span class="hljs-keyword">if</span> (input === <span class="hljs-literal">null</span> || (format === <span class="hljs-literal">undefined</span> &amp;&amp; input === <span class="hljs-string">''</span>)) {
            <span class="hljs-keyword">return</span> createInvalid({<span class="hljs-attr">nullInput</span>: <span class="hljs-literal">true</span>});
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">'string'</span>) {
            config._i = input = config._locale.preparse(input);
        }

        <span class="hljs-keyword">if</span> (isMoment(input)) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Moment(checkOverflow(input));
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isDate(input)) {
            config._d = input;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isArray(format)) {
            configFromStringAndArray(config);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (format) {
            configFromStringAndFormat(config);
        }  <span class="hljs-keyword">else</span> {
            configFromInput(config);
        }

        <span class="hljs-keyword">if</span> (!isValid(config)) {
            config._d = <span class="hljs-literal">null</span>;
        }

        <span class="hljs-keyword">return</span> config;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configFromInput</span>(<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> input = config._i;
        <span class="hljs-keyword">if</span> (isUndefined(input)) {
            config._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(hooks.now());
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isDate(input)) {
            config._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(input.valueOf());
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">'string'</span>) {
            configFromString(config);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isArray(input)) {
            config._a = map(input.slice(<span class="hljs-number">0</span>), <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>(obj, <span class="hljs-number">10</span>);
            });
            configFromArray(config);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isObject(input)) {
            configFromObject(config);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isNumber(input)) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-132" id="section-132"></a>
</div>
<p>from milliseconds</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            config._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(input);
        } <span class="hljs-keyword">else</span> {
            hooks.createFromInputFallback(config);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createLocalOrUTC</span> (<span class="hljs-params">input, format, locale, strict, isUTC</span>) </span>{
        <span class="hljs-keyword">var</span> c = {};

        <span class="hljs-keyword">if</span> (locale === <span class="hljs-literal">true</span> || locale === <span class="hljs-literal">false</span>) {
            strict = locale;
            locale = <span class="hljs-literal">undefined</span>;
        }

        <span class="hljs-keyword">if</span> ((isObject(input) &amp;&amp; isObjectEmpty(input)) ||
                (isArray(input) &amp;&amp; input.length === <span class="hljs-number">0</span>)) {
            input = <span class="hljs-literal">undefined</span>;
        }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-133" id="section-133"></a>
</div>
<p>object construction must be done this way.
https://github.com/moment/moment/issues/1423</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        c._isAMomentObject = <span class="hljs-literal">true</span>;
        c._useUTC = c._isUTC = isUTC;
        c._l = locale;
        c._i = input;
        c._f = format;
        c._strict = strict;

        <span class="hljs-keyword">return</span> createFromConfig(c);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createLocal</span> (<span class="hljs-params">input, format, locale, strict</span>) </span>{
        <span class="hljs-keyword">return</span> createLocalOrUTC(input, format, locale, strict, <span class="hljs-literal">false</span>);
    }

    <span class="hljs-keyword">var</span> prototypeMin = deprecate(
        <span class="hljs-string">'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/'</span>,
        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> other = createLocal.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isValid() &amp;&amp; other.isValid()) {
                <span class="hljs-keyword">return</span> other &lt; <span class="hljs-keyword">this</span> ? <span class="hljs-keyword">this</span> : other;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> createInvalid();
            }
        }
    );

    <span class="hljs-keyword">var</span> prototypeMax = deprecate(
        <span class="hljs-string">'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/'</span>,
        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> other = createLocal.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isValid() &amp;&amp; other.isValid()) {
                <span class="hljs-keyword">return</span> other &gt; <span class="hljs-keyword">this</span> ? <span class="hljs-keyword">this</span> : other;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> createInvalid();
            }
        }
    );

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-134" id="section-134"></a>
</div>
<p>Pick a moment m from moments so that m<a href="other.html">fn</a> is true for all
other. This relies on the function fn to be transitive.</p>
<p>moments should either be an array of moment objects or an array, whose
first element is an array of moment objects.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pickBy</span>(<span class="hljs-params">fn, moments</span>) </span>{
        <span class="hljs-keyword">var</span> res, i;
        <span class="hljs-keyword">if</span> (moments.length === <span class="hljs-number">1</span> &amp;&amp; isArray(moments[<span class="hljs-number">0</span>])) {
            moments = moments[<span class="hljs-number">0</span>];
        }
        <span class="hljs-keyword">if</span> (!moments.length) {
            <span class="hljs-keyword">return</span> createLocal();
        }
        res = moments[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt; moments.length; ++i) {
            <span class="hljs-keyword">if</span> (!moments[i].isValid() || moments[i][fn](res)) {
                res = moments[i];
            }
        }
        <span class="hljs-keyword">return</span> res;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-135" id="section-135"></a>
</div>
<p>TODO: Use [].sort instead?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">min</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> args = [].slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">0</span>);

        <span class="hljs-keyword">return</span> pickBy(<span class="hljs-string">'isBefore'</span>, args);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">max</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> args = [].slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">0</span>);

        <span class="hljs-keyword">return</span> pickBy(<span class="hljs-string">'isAfter'</span>, args);
    }

    <span class="hljs-keyword">var</span> now = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Date</span>.now ? <span class="hljs-built_in">Date</span>.now() : +(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>());
    };

    <span class="hljs-keyword">var</span> ordering = [<span class="hljs-string">'year'</span>, <span class="hljs-string">'quarter'</span>, <span class="hljs-string">'month'</span>, <span class="hljs-string">'week'</span>, <span class="hljs-string">'day'</span>, <span class="hljs-string">'hour'</span>, <span class="hljs-string">'minute'</span>, <span class="hljs-string">'second'</span>, <span class="hljs-string">'millisecond'</span>];

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDurationValid</span>(<span class="hljs-params">m</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> m) {
            <span class="hljs-keyword">if</span> (!(indexOf.call(ordering, key) !== <span class="hljs-number">-1</span> &amp;&amp; (m[key] == <span class="hljs-literal">null</span> || !<span class="hljs-built_in">isNaN</span>(m[key])))) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }

        <span class="hljs-keyword">var</span> unitHasDecimal = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; ordering.length; ++i) {
            <span class="hljs-keyword">if</span> (m[ordering[i]]) {
                <span class="hljs-keyword">if</span> (unitHasDecimal) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// only allow non-integers for smallest unit</span>
                }
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">parseFloat</span>(m[ordering[i]]) !== toInt(m[ordering[i]])) {
                    unitHasDecimal = <span class="hljs-literal">true</span>;
                }
            }
        }

        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isValid$1</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._isValid;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createInvalid$1</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> createDuration(<span class="hljs-literal">NaN</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Duration</span> (<span class="hljs-params">duration</span>) </span>{
        <span class="hljs-keyword">var</span> normalizedInput = normalizeObjectUnits(duration),
            years = normalizedInput.year || <span class="hljs-number">0</span>,
            quarters = normalizedInput.quarter || <span class="hljs-number">0</span>,
            months = normalizedInput.month || <span class="hljs-number">0</span>,
            weeks = normalizedInput.week || <span class="hljs-number">0</span>,
            days = normalizedInput.day || <span class="hljs-number">0</span>,
            hours = normalizedInput.hour || <span class="hljs-number">0</span>,
            minutes = normalizedInput.minute || <span class="hljs-number">0</span>,
            seconds = normalizedInput.second || <span class="hljs-number">0</span>,
            milliseconds = normalizedInput.millisecond || <span class="hljs-number">0</span>;

        <span class="hljs-keyword">this</span>._isValid = isDurationValid(normalizedInput);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-136" id="section-136"></a>
</div>
<p>representation for dateAddRemove</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">this</span>._milliseconds = +milliseconds +
            seconds * <span class="hljs-number">1e3</span> + <span class="hljs-comment">// 1000</span>
            minutes * <span class="hljs-number">6e4</span> + <span class="hljs-comment">// 1000 * 60</span>
            hours * <span class="hljs-number">1000</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span>; <span class="hljs-comment">//using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-137" id="section-137"></a>
</div>
<p>Because of dateAddRemove treats 24 hours as different from a
day when working around DST, we need to store them separately</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">this</span>._days = +days +
            weeks * <span class="hljs-number">7</span>;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-138" id="section-138"></a>
</div>
<p>It is impossible to translate months into days without knowing
which months you are are talking about, so we have to store
it separately.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">this</span>._months = +months +
            quarters * <span class="hljs-number">3</span> +
            years * <span class="hljs-number">12</span>;

        <span class="hljs-keyword">this</span>._data = {};

        <span class="hljs-keyword">this</span>._locale = getLocale();

        <span class="hljs-keyword">this</span>._bubble();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDuration</span> (<span class="hljs-params">obj</span>) </span>{
        <span class="hljs-keyword">return</span> obj <span class="hljs-keyword">instanceof</span> Duration;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">absRound</span> (<span class="hljs-params">number</span>) </span>{
        <span class="hljs-keyword">if</span> (number &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.round(<span class="hljs-number">-1</span> * number) * <span class="hljs-number">-1</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.round(number);
        }
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-139" id="section-139"></a>
</div>
<p>FORMATTING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">offset</span> (<span class="hljs-params">token, separator</span>) </span>{
        addFormatToken(token, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> offset = <span class="hljs-keyword">this</span>.utcOffset();
            <span class="hljs-keyword">var</span> sign = <span class="hljs-string">'+'</span>;
            <span class="hljs-keyword">if</span> (offset &lt; <span class="hljs-number">0</span>) {
                offset = -offset;
                sign = <span class="hljs-string">'-'</span>;
            }
            <span class="hljs-keyword">return</span> sign + zeroFill(~~(offset / <span class="hljs-number">60</span>), <span class="hljs-number">2</span>) + separator + zeroFill(~~(offset) % <span class="hljs-number">60</span>, <span class="hljs-number">2</span>);
        });
    }

    offset(<span class="hljs-string">'Z'</span>, <span class="hljs-string">':'</span>);
    offset(<span class="hljs-string">'ZZ'</span>, <span class="hljs-string">''</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-140" id="section-140"></a>
</div>
<p>PARSING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addRegexToken(<span class="hljs-string">'Z'</span>,  matchShortOffset);
    addRegexToken(<span class="hljs-string">'ZZ'</span>, matchShortOffset);
    addParseToken([<span class="hljs-string">'Z'</span>, <span class="hljs-string">'ZZ'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        config._useUTC = <span class="hljs-literal">true</span>;
        config._tzm = offsetFromString(matchShortOffset, input);
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-141" id="section-141"></a>
</div>
<p>HELPERS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-142" id="section-142"></a>
</div>
<p>timezone chunker
'+10:00' &gt; ['10',  '00']
'-1530'  &gt; ['-15', '30']</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> chunkOffset = <span class="hljs-regexp">/([\+\-]|\d\d)/gi</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">offsetFromString</span>(<span class="hljs-params">matcher, string</span>) </span>{
        <span class="hljs-keyword">var</span> matches = (string || <span class="hljs-string">''</span>).match(matcher);

        <span class="hljs-keyword">if</span> (matches === <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }

        <span class="hljs-keyword">var</span> chunk   = matches[matches.length - <span class="hljs-number">1</span>] || [];
        <span class="hljs-keyword">var</span> parts   = (chunk + <span class="hljs-string">''</span>).match(chunkOffset) || [<span class="hljs-string">'-'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>];
        <span class="hljs-keyword">var</span> minutes = +(parts[<span class="hljs-number">1</span>] * <span class="hljs-number">60</span>) + toInt(parts[<span class="hljs-number">2</span>]);

        <span class="hljs-keyword">return</span> minutes === <span class="hljs-number">0</span> ?
          <span class="hljs-number">0</span> :
          parts[<span class="hljs-number">0</span>] === <span class="hljs-string">'+'</span> ? minutes : -minutes;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-143" id="section-143"></a>
</div>
<p>Return a moment from input, that is local/utc/zone equivalent to model.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cloneWithOffset</span>(<span class="hljs-params">input, model</span>) </span>{
        <span class="hljs-keyword">var</span> res, diff;
        <span class="hljs-keyword">if</span> (model._isUTC) {
            res = model.clone();
            diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-144" id="section-144"></a>
</div>
<p>Use low-level api, because this fn is low-level api.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            res._d.setTime(res._d.valueOf() + diff);
            hooks.updateOffset(res, <span class="hljs-literal">false</span>);
            <span class="hljs-keyword">return</span> res;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> createLocal(input).local();
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDateOffset</span> (<span class="hljs-params">m</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-145" id="section-145"></a>
</div>
<p>On Firefox.24 Date#getTimezoneOffset returns a floating point.
https://github.com/moment/moment/pull/1871</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">return</span> -<span class="hljs-built_in">Math</span>.round(m._d.getTimezoneOffset() / <span class="hljs-number">15</span>) * <span class="hljs-number">15</span>;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-146" id="section-146"></a>
</div>
<p>HOOKS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-147" id="section-147"></a>
</div>
<p>This function will be called whenever a moment is mutated.
It is intended to keep the offset in sync with the timezone.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    hooks.updateOffset = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-148" id="section-148"></a>
</div>
<p>MOMENTS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-149" id="section-149"></a>
</div>
<p>keepLocalTime = true means only change the timezone, without
affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]--&gt;
5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
+0200, so we adjust the time as needed, to be valid.</p>
<p>Keeping the time actually adds/subtracts (one hour)
from the actual represented time. That is why we call updateOffset
a second time. In case it wants us to change the offset again
_changeInProgress == true case, then we have to adjust, because
there is no such time in the given timezone.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetOffset</span> (<span class="hljs-params">input, keepLocalTime, keepMinutes</span>) </span>{
        <span class="hljs-keyword">var</span> offset = <span class="hljs-keyword">this</span>._offset || <span class="hljs-number">0</span>,
            localAdjust;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> input != <span class="hljs-literal">null</span> ? <span class="hljs-keyword">this</span> : <span class="hljs-literal">NaN</span>;
        }
        <span class="hljs-keyword">if</span> (input != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">'string'</span>) {
                input = offsetFromString(matchShortOffset, input);
                <span class="hljs-keyword">if</span> (input === <span class="hljs-literal">null</span>) {
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Math</span>.abs(input) &lt; <span class="hljs-number">16</span> &amp;&amp; !keepMinutes) {
                input = input * <span class="hljs-number">60</span>;
            }
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._isUTC &amp;&amp; keepLocalTime) {
                localAdjust = getDateOffset(<span class="hljs-keyword">this</span>);
            }
            <span class="hljs-keyword">this</span>._offset = input;
            <span class="hljs-keyword">this</span>._isUTC = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">if</span> (localAdjust != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">this</span>.add(localAdjust, <span class="hljs-string">'m'</span>);
            }
            <span class="hljs-keyword">if</span> (offset !== input) {
                <span class="hljs-keyword">if</span> (!keepLocalTime || <span class="hljs-keyword">this</span>._changeInProgress) {
                    addSubtract(<span class="hljs-keyword">this</span>, createDuration(input - offset, <span class="hljs-string">'m'</span>), <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._changeInProgress) {
                    <span class="hljs-keyword">this</span>._changeInProgress = <span class="hljs-literal">true</span>;
                    hooks.updateOffset(<span class="hljs-keyword">this</span>, <span class="hljs-literal">true</span>);
                    <span class="hljs-keyword">this</span>._changeInProgress = <span class="hljs-literal">null</span>;
                }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._isUTC ? offset : getDateOffset(<span class="hljs-keyword">this</span>);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetZone</span> (<span class="hljs-params">input, keepLocalTime</span>) </span>{
        <span class="hljs-keyword">if</span> (input != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input !== <span class="hljs-string">'string'</span>) {
                input = -input;
            }

            <span class="hljs-keyword">this</span>.utcOffset(input, keepLocalTime);

            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> -<span class="hljs-keyword">this</span>.utcOffset();
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setOffsetToUTC</span> (<span class="hljs-params">keepLocalTime</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.utcOffset(<span class="hljs-number">0</span>, keepLocalTime);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setOffsetToLocal</span> (<span class="hljs-params">keepLocalTime</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isUTC) {
            <span class="hljs-keyword">this</span>.utcOffset(<span class="hljs-number">0</span>, keepLocalTime);
            <span class="hljs-keyword">this</span>._isUTC = <span class="hljs-literal">false</span>;

            <span class="hljs-keyword">if</span> (keepLocalTime) {
                <span class="hljs-keyword">this</span>.subtract(getDateOffset(<span class="hljs-keyword">this</span>), <span class="hljs-string">'m'</span>);
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setOffsetToParsedOffset</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._tzm != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">this</span>.utcOffset(<span class="hljs-keyword">this</span>._tzm, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>._i === <span class="hljs-string">'string'</span>) {
            <span class="hljs-keyword">var</span> tZone = offsetFromString(matchOffset, <span class="hljs-keyword">this</span>._i);
            <span class="hljs-keyword">if</span> (tZone != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">this</span>.utcOffset(tZone);
            }
            <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>.utcOffset(<span class="hljs-number">0</span>, <span class="hljs-literal">true</span>);
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasAlignedHourOffset</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        input = input ? createLocal(input).utcOffset() : <span class="hljs-number">0</span>;

        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.utcOffset() - input) % <span class="hljs-number">60</span> === <span class="hljs-number">0</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDaylightSavingTime</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> (
            <span class="hljs-keyword">this</span>.utcOffset() &gt; <span class="hljs-keyword">this</span>.clone().month(<span class="hljs-number">0</span>).utcOffset() ||
            <span class="hljs-keyword">this</span>.utcOffset() &gt; <span class="hljs-keyword">this</span>.clone().month(<span class="hljs-number">5</span>).utcOffset()
        );
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDaylightSavingTimeShifted</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">this</span>._isDSTShifted)) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._isDSTShifted;
        }

        <span class="hljs-keyword">var</span> c = {};

        copyConfig(c, <span class="hljs-keyword">this</span>);
        c = prepareConfig(c);

        <span class="hljs-keyword">if</span> (c._a) {
            <span class="hljs-keyword">var</span> other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
            <span class="hljs-keyword">this</span>._isDSTShifted = <span class="hljs-keyword">this</span>.isValid() &amp;&amp;
                compareArrays(c._a, other.toArray()) &gt; <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>._isDSTShifted = <span class="hljs-literal">false</span>;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._isDSTShifted;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isLocal</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isValid() ? !<span class="hljs-keyword">this</span>._isUTC : <span class="hljs-literal">false</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isUtcOffset</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isValid() ? <span class="hljs-keyword">this</span>._isUTC : <span class="hljs-literal">false</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isUtc</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isValid() ? <span class="hljs-keyword">this</span>._isUTC &amp;&amp; <span class="hljs-keyword">this</span>._offset === <span class="hljs-number">0</span> : <span class="hljs-literal">false</span>;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-150" id="section-150"></a>
</div>
<p>ASP.NET json date format regex</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> aspNetRegex = <span class="hljs-regexp">/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-151" id="section-151"></a>
</div>
<p>from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
and further modified to allow for strings containing both week and day</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> isoRegex = <span class="hljs-regexp">/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createDuration</span> (<span class="hljs-params">input, key</span>) </span>{
        <span class="hljs-keyword">var</span> duration = input,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-152" id="section-152"></a>
</div>
<p>matching against regexp is expensive, do it on demand</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            match = <span class="hljs-literal">null</span>,
            sign,
            ret,
            diffRes;

        <span class="hljs-keyword">if</span> (isDuration(input)) {
            duration = {
                <span class="hljs-attr">ms</span> : input._milliseconds,
                <span class="hljs-attr">d</span>  : input._days,
                <span class="hljs-attr">M</span>  : input._months
            };
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isNumber(input)) {
            duration = {};
            <span class="hljs-keyword">if</span> (key) {
                duration[key] = input;
            } <span class="hljs-keyword">else</span> {
                duration.milliseconds = input;
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!!(match = aspNetRegex.exec(input))) {
            sign = (match[<span class="hljs-number">1</span>] === <span class="hljs-string">'-'</span>) ? <span class="hljs-number">-1</span> : <span class="hljs-number">1</span>;
            duration = {
                <span class="hljs-attr">y</span>  : <span class="hljs-number">0</span>,
                <span class="hljs-attr">d</span>  : toInt(match[DATE])                         * sign,
                <span class="hljs-attr">h</span>  : toInt(match[HOUR])                         * sign,
                <span class="hljs-attr">m</span>  : toInt(match[MINUTE])                       * sign,
                <span class="hljs-attr">s</span>  : toInt(match[SECOND])                       * sign,
                <span class="hljs-attr">ms</span> : toInt(absRound(match[MILLISECOND] * <span class="hljs-number">1000</span>)) * sign <span class="hljs-comment">// the millisecond decimal point is included in the match</span>
            };
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!!(match = isoRegex.exec(input))) {
            sign = (match[<span class="hljs-number">1</span>] === <span class="hljs-string">'-'</span>) ? <span class="hljs-number">-1</span> : (match[<span class="hljs-number">1</span>] === <span class="hljs-string">'+'</span>) ? <span class="hljs-number">1</span> : <span class="hljs-number">1</span>;
            duration = {
                <span class="hljs-attr">y</span> : parseIso(match[<span class="hljs-number">2</span>], sign),
                <span class="hljs-attr">M</span> : parseIso(match[<span class="hljs-number">3</span>], sign),
                <span class="hljs-attr">w</span> : parseIso(match[<span class="hljs-number">4</span>], sign),
                <span class="hljs-attr">d</span> : parseIso(match[<span class="hljs-number">5</span>], sign),
                <span class="hljs-attr">h</span> : parseIso(match[<span class="hljs-number">6</span>], sign),
                <span class="hljs-attr">m</span> : parseIso(match[<span class="hljs-number">7</span>], sign),
                <span class="hljs-attr">s</span> : parseIso(match[<span class="hljs-number">8</span>], sign)
            };
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (duration == <span class="hljs-literal">null</span>) {<span class="hljs-comment">// checks for null or undefined</span>
            duration = {};
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> duration === <span class="hljs-string">'object'</span> &amp;&amp; (<span class="hljs-string">'from'</span> <span class="hljs-keyword">in</span> duration || <span class="hljs-string">'to'</span> <span class="hljs-keyword">in</span> duration)) {
            diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));

            duration = {};
            duration.ms = diffRes.milliseconds;
            duration.M = diffRes.months;
        }

        ret = <span class="hljs-keyword">new</span> Duration(duration);

        <span class="hljs-keyword">if</span> (isDuration(input) &amp;&amp; hasOwnProp(input, <span class="hljs-string">'_locale'</span>)) {
            ret._locale = input._locale;
        }

        <span class="hljs-keyword">return</span> ret;
    }

    createDuration.fn = Duration.prototype;
    createDuration.invalid = createInvalid$<span class="hljs-number">1</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseIso</span> (<span class="hljs-params">inp, sign</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-153" id="section-153"></a>
</div>
<p>We'd normally use ~~inp for this, but unfortunately it also
converts floats to ints.
inp may be undefined, so careful calling replace on it.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">var</span> res = inp &amp;&amp; <span class="hljs-built_in">parseFloat</span>(inp.replace(<span class="hljs-string">','</span>, <span class="hljs-string">'.'</span>));
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-154" id="section-154"></a>
</div>
<p>apply sign while we're at it</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">return</span> (<span class="hljs-built_in">isNaN</span>(res) ? <span class="hljs-number">0</span> : res) * sign;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">positiveMomentsDifference</span>(<span class="hljs-params">base, other</span>) </span>{
        <span class="hljs-keyword">var</span> res = {<span class="hljs-attr">milliseconds</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">months</span>: <span class="hljs-number">0</span>};

        res.months = other.month() - base.month() +
            (other.year() - base.year()) * <span class="hljs-number">12</span>;
        <span class="hljs-keyword">if</span> (base.clone().add(res.months, <span class="hljs-string">'M'</span>).isAfter(other)) {
            --res.months;
        }

        res.milliseconds = +other - +(base.clone().add(res.months, <span class="hljs-string">'M'</span>));

        <span class="hljs-keyword">return</span> res;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">momentsDifference</span>(<span class="hljs-params">base, other</span>) </span>{
        <span class="hljs-keyword">var</span> res;
        <span class="hljs-keyword">if</span> (!(base.isValid() &amp;&amp; other.isValid())) {
            <span class="hljs-keyword">return</span> {<span class="hljs-attr">milliseconds</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">months</span>: <span class="hljs-number">0</span>};
        }

        other = cloneWithOffset(other, base);
        <span class="hljs-keyword">if</span> (base.isBefore(other)) {
            res = positiveMomentsDifference(base, other);
        } <span class="hljs-keyword">else</span> {
            res = positiveMomentsDifference(other, base);
            res.milliseconds = -res.milliseconds;
            res.months = -res.months;
        }

        <span class="hljs-keyword">return</span> res;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-155" id="section-155"></a>
</div>
<p>TODO: remove 'name' arg after deprecation is removed</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createAdder</span>(<span class="hljs-params">direction, name</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">val, period</span>) </span>{
            <span class="hljs-keyword">var</span> dur, tmp;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-156" id="section-156"></a>
</div>
<p>invert the arguments, but complain about it</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (period !== <span class="hljs-literal">null</span> &amp;&amp; !<span class="hljs-built_in">isNaN</span>(+period)) {
                deprecateSimple(name, <span class="hljs-string">'moment().'</span> + name  + <span class="hljs-string">'(period, number) is deprecated. Please use moment().'</span> + name + <span class="hljs-string">'(number, period). '</span> +
                <span class="hljs-string">'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.'</span>);
                tmp = val; val = period; period = tmp;
            }

            val = <span class="hljs-keyword">typeof</span> val === <span class="hljs-string">'string'</span> ? +val : val;
            dur = createDuration(val, period);
            addSubtract(<span class="hljs-keyword">this</span>, dur, direction);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addSubtract</span> (<span class="hljs-params">mom, duration, isAdding, updateOffset</span>) </span>{
        <span class="hljs-keyword">var</span> milliseconds = duration._milliseconds,
            days = absRound(duration._days),
            months = absRound(duration._months);

        <span class="hljs-keyword">if</span> (!mom.isValid()) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-157" id="section-157"></a>
</div>
<p>No op</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">return</span>;
        }

        updateOffset = updateOffset == <span class="hljs-literal">null</span> ? <span class="hljs-literal">true</span> : updateOffset;

        <span class="hljs-keyword">if</span> (months) {
            setMonth(mom, get(mom, <span class="hljs-string">'Month'</span>) + months * isAdding);
        }
        <span class="hljs-keyword">if</span> (days) {
            set$<span class="hljs-number">1</span>(mom, <span class="hljs-string">'Date'</span>, get(mom, <span class="hljs-string">'Date'</span>) + days * isAdding);
        }
        <span class="hljs-keyword">if</span> (milliseconds) {
            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);
        }
        <span class="hljs-keyword">if</span> (updateOffset) {
            hooks.updateOffset(mom, days || months);
        }
    }

    <span class="hljs-keyword">var</span> add      = createAdder(<span class="hljs-number">1</span>, <span class="hljs-string">'add'</span>);
    <span class="hljs-keyword">var</span> subtract = createAdder(<span class="hljs-number">-1</span>, <span class="hljs-string">'subtract'</span>);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCalendarFormat</span>(<span class="hljs-params">myMoment, now</span>) </span>{
        <span class="hljs-keyword">var</span> diff = myMoment.diff(now, <span class="hljs-string">'days'</span>, <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">return</span> diff &lt; <span class="hljs-number">-6</span> ? <span class="hljs-string">'sameElse'</span> :
                diff &lt; <span class="hljs-number">-1</span> ? <span class="hljs-string">'lastWeek'</span> :
                diff &lt; <span class="hljs-number">0</span> ? <span class="hljs-string">'lastDay'</span> :
                diff &lt; <span class="hljs-number">1</span> ? <span class="hljs-string">'sameDay'</span> :
                diff &lt; <span class="hljs-number">2</span> ? <span class="hljs-string">'nextDay'</span> :
                diff &lt; <span class="hljs-number">7</span> ? <span class="hljs-string">'nextWeek'</span> : <span class="hljs-string">'sameElse'</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">calendar$1</span> (<span class="hljs-params">time, formats</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-158" id="section-158"></a>
</div>
<p>We want to compare the start of today, vs this.
Getting start-of-today depends on whether we're local/utc/offset or not.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">var</span> now = time || createLocal(),
            sod = cloneWithOffset(now, <span class="hljs-keyword">this</span>).startOf(<span class="hljs-string">'day'</span>),
            format = hooks.calendarFormat(<span class="hljs-keyword">this</span>, sod) || <span class="hljs-string">'sameElse'</span>;

        <span class="hljs-keyword">var</span> output = formats &amp;&amp; (isFunction(formats[format]) ? formats[format].call(<span class="hljs-keyword">this</span>, now) : formats[format]);

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.format(output || <span class="hljs-keyword">this</span>.localeData().calendar(format, <span class="hljs-keyword">this</span>, createLocal(now)));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clone</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Moment(<span class="hljs-keyword">this</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isAfter</span> (<span class="hljs-params">input, units</span>) </span>{
        <span class="hljs-keyword">var</span> localInput = isMoment(input) ? input : createLocal(input);
        <span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">this</span>.isValid() &amp;&amp; localInput.isValid())) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        units = normalizeUnits(!isUndefined(units) ? units : <span class="hljs-string">'millisecond'</span>);
        <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'millisecond'</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.valueOf() &gt; localInput.valueOf();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> localInput.valueOf() &lt; <span class="hljs-keyword">this</span>.clone().startOf(units).valueOf();
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isBefore</span> (<span class="hljs-params">input, units</span>) </span>{
        <span class="hljs-keyword">var</span> localInput = isMoment(input) ? input : createLocal(input);
        <span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">this</span>.isValid() &amp;&amp; localInput.isValid())) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        units = normalizeUnits(!isUndefined(units) ? units : <span class="hljs-string">'millisecond'</span>);
        <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'millisecond'</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.valueOf() &lt; localInput.valueOf();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.clone().endOf(units).valueOf() &lt; localInput.valueOf();
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isBetween</span> (<span class="hljs-params">from, to, units, inclusivity</span>) </span>{
        inclusivity = inclusivity || <span class="hljs-string">'()'</span>;
        <span class="hljs-keyword">return</span> (inclusivity[<span class="hljs-number">0</span>] === <span class="hljs-string">'('</span> ? <span class="hljs-keyword">this</span>.isAfter(<span class="hljs-keyword">from</span>, units) : !<span class="hljs-keyword">this</span>.isBefore(<span class="hljs-keyword">from</span>, units)) &amp;&amp;
            (inclusivity[<span class="hljs-number">1</span>] === <span class="hljs-string">')'</span> ? <span class="hljs-keyword">this</span>.isBefore(to, units) : !<span class="hljs-keyword">this</span>.isAfter(to, units));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isSame</span> (<span class="hljs-params">input, units</span>) </span>{
        <span class="hljs-keyword">var</span> localInput = isMoment(input) ? input : createLocal(input),
            inputMs;
        <span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">this</span>.isValid() &amp;&amp; localInput.isValid())) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        units = normalizeUnits(units || <span class="hljs-string">'millisecond'</span>);
        <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'millisecond'</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.valueOf() === localInput.valueOf();
        } <span class="hljs-keyword">else</span> {
            inputMs = localInput.valueOf();
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.clone().startOf(units).valueOf() &lt;= inputMs &amp;&amp; inputMs &lt;= <span class="hljs-keyword">this</span>.clone().endOf(units).valueOf();
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isSameOrAfter</span> (<span class="hljs-params">input, units</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isSame(input, units) || <span class="hljs-keyword">this</span>.isAfter(input,units);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isSameOrBefore</span> (<span class="hljs-params">input, units</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isSame(input, units) || <span class="hljs-keyword">this</span>.isBefore(input,units);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">diff</span> (<span class="hljs-params">input, units, asFloat</span>) </span>{
        <span class="hljs-keyword">var</span> that,
            zoneDelta,
            output;

        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">NaN</span>;
        }

        that = cloneWithOffset(input, <span class="hljs-keyword">this</span>);

        <span class="hljs-keyword">if</span> (!that.isValid()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">NaN</span>;
        }

        zoneDelta = (that.utcOffset() - <span class="hljs-keyword">this</span>.utcOffset()) * <span class="hljs-number">6e4</span>;

        units = normalizeUnits(units);

        <span class="hljs-keyword">switch</span> (units) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'year'</span>: output = monthDiff(<span class="hljs-keyword">this</span>, that) / <span class="hljs-number">12</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'month'</span>: output = monthDiff(<span class="hljs-keyword">this</span>, that); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'quarter'</span>: output = monthDiff(<span class="hljs-keyword">this</span>, that) / <span class="hljs-number">3</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'second'</span>: output = (<span class="hljs-keyword">this</span> - that) / <span class="hljs-number">1e3</span>; <span class="hljs-keyword">break</span>; <span class="hljs-comment">// 1000</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">'minute'</span>: output = (<span class="hljs-keyword">this</span> - that) / <span class="hljs-number">6e4</span>; <span class="hljs-keyword">break</span>; <span class="hljs-comment">// 1000 * 60</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">'hour'</span>: output = (<span class="hljs-keyword">this</span> - that) / <span class="hljs-number">36e5</span>; <span class="hljs-keyword">break</span>; <span class="hljs-comment">// 1000 * 60 * 60</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">'day'</span>: output = (<span class="hljs-keyword">this</span> - that - zoneDelta) / <span class="hljs-number">864e5</span>; <span class="hljs-keyword">break</span>; <span class="hljs-comment">// 1000 * 60 * 60 * 24, negate dst</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">'week'</span>: output = (<span class="hljs-keyword">this</span> - that - zoneDelta) / <span class="hljs-number">6048e5</span>; <span class="hljs-keyword">break</span>; <span class="hljs-comment">// 1000 * 60 * 60 * 24 * 7, negate dst</span>
            <span class="hljs-keyword">default</span>: output = <span class="hljs-keyword">this</span> - that;
        }

        <span class="hljs-keyword">return</span> asFloat ? output : absFloor(output);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">monthDiff</span> (<span class="hljs-params">a, b</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-159" id="section-159"></a>
</div>
<p>difference in months</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">var</span> wholeMonthDiff = ((b.year() - a.year()) * <span class="hljs-number">12</span>) + (b.month() - a.month()),
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-160" id="section-160"></a>
</div>
<p>b is in (anchor - 1 month, anchor + 1 month)</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            anchor = a.clone().add(wholeMonthDiff, <span class="hljs-string">'months'</span>),
            anchor2, adjust;

        <span class="hljs-keyword">if</span> (b - anchor &lt; <span class="hljs-number">0</span>) {
            anchor2 = a.clone().add(wholeMonthDiff - <span class="hljs-number">1</span>, <span class="hljs-string">'months'</span>);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-161" id="section-161"></a>
</div>
<p>linear across the month</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            adjust = (b - anchor) / (anchor - anchor2);
        } <span class="hljs-keyword">else</span> {
            anchor2 = a.clone().add(wholeMonthDiff + <span class="hljs-number">1</span>, <span class="hljs-string">'months'</span>);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-162" id="section-162"></a>
</div>
<p>linear across the month</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            adjust = (b - anchor) / (anchor2 - anchor);
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-163" id="section-163"></a>
</div>
<p>check for negative zero, return zero if negative zero</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">return</span> -(wholeMonthDiff + adjust) || <span class="hljs-number">0</span>;
    }

    hooks.defaultFormat = <span class="hljs-string">'YYYY-MM-DDTHH:mm:ssZ'</span>;
    hooks.defaultFormatUtc = <span class="hljs-string">'YYYY-MM-DDTHH:mm:ss[Z]'</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toString</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.clone().locale(<span class="hljs-string">'en'</span>).format(<span class="hljs-string">'ddd MMM DD YYYY HH:mm:ss [GMT]ZZ'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toISOString</span>(<span class="hljs-params">keepOffset</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">var</span> utc = keepOffset !== <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> m = utc ? <span class="hljs-keyword">this</span>.clone().utc() : <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">if</span> (m.year() &lt; <span class="hljs-number">0</span> || m.year() &gt; <span class="hljs-number">9999</span>) {
            <span class="hljs-keyword">return</span> formatMoment(m, utc ? <span class="hljs-string">'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]'</span> : <span class="hljs-string">'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ'</span>);
        }
        <span class="hljs-keyword">if</span> (isFunction(<span class="hljs-built_in">Date</span>.prototype.toISOString)) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-164" id="section-164"></a>
</div>
<p>native implementation is ~50x faster, use it when we can</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (utc) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.toDate().toISOString();
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-keyword">this</span>.valueOf() + <span class="hljs-keyword">this</span>.utcOffset() * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>).toISOString().replace(<span class="hljs-string">'Z'</span>, formatMoment(m, <span class="hljs-string">'Z'</span>));
            }
        }
        <span class="hljs-keyword">return</span> formatMoment(m, utc ? <span class="hljs-string">'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]'</span> : <span class="hljs-string">'YYYY-MM-DD[T]HH:mm:ss.SSSZ'</span>);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-165" id="section-165"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a human readable representation of a moment that can
also be evaluated to get a new moment which is the same</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inspect</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'moment.invalid(/* '</span> + <span class="hljs-keyword">this</span>._i + <span class="hljs-string">' */)'</span>;
        }
        <span class="hljs-keyword">var</span> func = <span class="hljs-string">'moment'</span>;
        <span class="hljs-keyword">var</span> zone = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isLocal()) {
            func = <span class="hljs-keyword">this</span>.utcOffset() === <span class="hljs-number">0</span> ? <span class="hljs-string">'moment.utc'</span> : <span class="hljs-string">'moment.parseZone'</span>;
            zone = <span class="hljs-string">'Z'</span>;
        }
        <span class="hljs-keyword">var</span> prefix = <span class="hljs-string">'['</span> + func + <span class="hljs-string">'("]'</span>;
        <span class="hljs-keyword">var</span> year = (<span class="hljs-number">0</span> &lt;= <span class="hljs-keyword">this</span>.year() &amp;&amp; <span class="hljs-keyword">this</span>.year() &lt;= <span class="hljs-number">9999</span>) ? <span class="hljs-string">'YYYY'</span> : <span class="hljs-string">'YYYYYY'</span>;
        <span class="hljs-keyword">var</span> datetime = <span class="hljs-string">'-MM-DD[T]HH:mm:ss.SSS'</span>;
        <span class="hljs-keyword">var</span> suffix = zone + <span class="hljs-string">'[")]'</span>;

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.format(prefix + year + datetime + suffix);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">format</span> (<span class="hljs-params">inputString</span>) </span>{
        <span class="hljs-keyword">if</span> (!inputString) {
            inputString = <span class="hljs-keyword">this</span>.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;
        }
        <span class="hljs-keyword">var</span> output = formatMoment(<span class="hljs-keyword">this</span>, inputString);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().postformat(output);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">from</span> (<span class="hljs-params">time, withoutSuffix</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isValid() &amp;&amp;
                ((isMoment(time) &amp;&amp; time.isValid()) ||
                 createLocal(time).isValid())) {
            <span class="hljs-keyword">return</span> createDuration({<span class="hljs-attr">to</span>: <span class="hljs-keyword">this</span>, <span class="hljs-attr">from</span>: time}).locale(<span class="hljs-keyword">this</span>.locale()).humanize(!withoutSuffix);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().invalidDate();
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fromNow</span> (<span class="hljs-params">withoutSuffix</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.from(createLocal(), withoutSuffix);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">to</span> (<span class="hljs-params">time, withoutSuffix</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isValid() &amp;&amp;
                ((isMoment(time) &amp;&amp; time.isValid()) ||
                 createLocal(time).isValid())) {
            <span class="hljs-keyword">return</span> createDuration({<span class="hljs-attr">from</span>: <span class="hljs-keyword">this</span>, <span class="hljs-attr">to</span>: time}).locale(<span class="hljs-keyword">this</span>.locale()).humanize(!withoutSuffix);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().invalidDate();
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toNow</span> (<span class="hljs-params">withoutSuffix</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.to(createLocal(), withoutSuffix);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-166" id="section-166"></a>
</div>
<p>If passed a locale key, it will set the locale for this
instance.  Otherwise, it will return the locale configuration
variables for this instance.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">locale</span> (<span class="hljs-params">key</span>) </span>{
        <span class="hljs-keyword">var</span> newLocaleData;

        <span class="hljs-keyword">if</span> (key === <span class="hljs-literal">undefined</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._locale._abbr;
        } <span class="hljs-keyword">else</span> {
            newLocaleData = getLocale(key);
            <span class="hljs-keyword">if</span> (newLocaleData != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">this</span>._locale = newLocaleData;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        }
    }

    <span class="hljs-keyword">var</span> lang = deprecate(
        <span class="hljs-string">'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.'</span>,
        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) </span>{
            <span class="hljs-keyword">if</span> (key === <span class="hljs-literal">undefined</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData();
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.locale(key);
            }
        }
    );

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeData</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._locale;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">startOf</span> (<span class="hljs-params">units</span>) </span>{
        units = normalizeUnits(units);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-167" id="section-167"></a>
</div>
<p>the following switch intentionally omits break keywords
to utilize falling through the cases.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">switch</span> (units) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'year'</span>:
                <span class="hljs-keyword">this</span>.month(<span class="hljs-number">0</span>);
                <span class="hljs-comment">/* falls through */</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">'quarter'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'month'</span>:
                <span class="hljs-keyword">this</span>.date(<span class="hljs-number">1</span>);
                <span class="hljs-comment">/* falls through */</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">'week'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'isoWeek'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'day'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'date'</span>:
                <span class="hljs-keyword">this</span>.hours(<span class="hljs-number">0</span>);
                <span class="hljs-comment">/* falls through */</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">'hour'</span>:
                <span class="hljs-keyword">this</span>.minutes(<span class="hljs-number">0</span>);
                <span class="hljs-comment">/* falls through */</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">'minute'</span>:
                <span class="hljs-keyword">this</span>.seconds(<span class="hljs-number">0</span>);
                <span class="hljs-comment">/* falls through */</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">'second'</span>:
                <span class="hljs-keyword">this</span>.milliseconds(<span class="hljs-number">0</span>);
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-168" id="section-168"></a>
</div>
<p>weeks are a special case</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'week'</span>) {
            <span class="hljs-keyword">this</span>.weekday(<span class="hljs-number">0</span>);
        }
        <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'isoWeek'</span>) {
            <span class="hljs-keyword">this</span>.isoWeekday(<span class="hljs-number">1</span>);
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-169" id="section-169"></a>
</div>
<p>quarters are also special</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'quarter'</span>) {
            <span class="hljs-keyword">this</span>.month(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-keyword">this</span>.month() / <span class="hljs-number">3</span>) * <span class="hljs-number">3</span>);
        }

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">endOf</span> (<span class="hljs-params">units</span>) </span>{
        units = normalizeUnits(units);
        <span class="hljs-keyword">if</span> (units === <span class="hljs-literal">undefined</span> || units === <span class="hljs-string">'millisecond'</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-170" id="section-170"></a>
</div>
<p>'date' is an alias for 'day', so it should be considered as such.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'date'</span>) {
            units = <span class="hljs-string">'day'</span>;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.startOf(units).add(<span class="hljs-number">1</span>, (units === <span class="hljs-string">'isoWeek'</span> ? <span class="hljs-string">'week'</span> : units)).subtract(<span class="hljs-number">1</span>, <span class="hljs-string">'ms'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">valueOf</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._d.valueOf() - ((<span class="hljs-keyword">this</span>._offset || <span class="hljs-number">0</span>) * <span class="hljs-number">60000</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unix</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.floor(<span class="hljs-keyword">this</span>.valueOf() / <span class="hljs-number">1000</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toDate</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-keyword">this</span>.valueOf());
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toArray</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">return</span> [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toObject</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">years</span>: m.year(),
            <span class="hljs-attr">months</span>: m.month(),
            <span class="hljs-attr">date</span>: m.date(),
            <span class="hljs-attr">hours</span>: m.hours(),
            <span class="hljs-attr">minutes</span>: m.minutes(),
            <span class="hljs-attr">seconds</span>: m.seconds(),
            <span class="hljs-attr">milliseconds</span>: m.milliseconds()
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toJSON</span> (<span class="hljs-params"></span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-171" id="section-171"></a>
</div>
<p>new Date(NaN).toJSON() === null</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isValid() ? <span class="hljs-keyword">this</span>.toISOString() : <span class="hljs-literal">null</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isValid$2</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> isValid(<span class="hljs-keyword">this</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parsingFlags</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> extend({}, getParsingFlags(<span class="hljs-keyword">this</span>));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">invalidAt</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> getParsingFlags(<span class="hljs-keyword">this</span>).overflow;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">creationData</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">input</span>: <span class="hljs-keyword">this</span>._i,
            <span class="hljs-attr">format</span>: <span class="hljs-keyword">this</span>._f,
            <span class="hljs-attr">locale</span>: <span class="hljs-keyword">this</span>._locale,
            <span class="hljs-attr">isUTC</span>: <span class="hljs-keyword">this</span>._isUTC,
            <span class="hljs-attr">strict</span>: <span class="hljs-keyword">this</span>._strict
        };
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-172" id="section-172"></a>
</div>
<p>FORMATTING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'gg'</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.weekYear() % <span class="hljs-number">100</span>;
    });

    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'GG'</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isoWeekYear() % <span class="hljs-number">100</span>;
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addWeekYearFormatToken</span> (<span class="hljs-params">token, getter</span>) </span>{
        addFormatToken(<span class="hljs-number">0</span>, [token, token.length], <span class="hljs-number">0</span>, getter);
    }

    addWeekYearFormatToken(<span class="hljs-string">'gggg'</span>,     <span class="hljs-string">'weekYear'</span>);
    addWeekYearFormatToken(<span class="hljs-string">'ggggg'</span>,    <span class="hljs-string">'weekYear'</span>);
    addWeekYearFormatToken(<span class="hljs-string">'GGGG'</span>,  <span class="hljs-string">'isoWeekYear'</span>);
    addWeekYearFormatToken(<span class="hljs-string">'GGGGG'</span>, <span class="hljs-string">'isoWeekYear'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-173" id="section-173"></a>
</div>
<p>ALIASES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitAlias(<span class="hljs-string">'weekYear'</span>, <span class="hljs-string">'gg'</span>);
    addUnitAlias(<span class="hljs-string">'isoWeekYear'</span>, <span class="hljs-string">'GG'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-174" id="section-174"></a>
</div>
<p>PRIORITY</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitPriority(<span class="hljs-string">'weekYear'</span>, <span class="hljs-number">1</span>);
    addUnitPriority(<span class="hljs-string">'isoWeekYear'</span>, <span class="hljs-number">1</span>);


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-175" id="section-175"></a>
</div>
<p>PARSING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addRegexToken(<span class="hljs-string">'G'</span>,      matchSigned);
    addRegexToken(<span class="hljs-string">'g'</span>,      matchSigned);
    addRegexToken(<span class="hljs-string">'GG'</span>,     match1to2, match2);
    addRegexToken(<span class="hljs-string">'gg'</span>,     match1to2, match2);
    addRegexToken(<span class="hljs-string">'GGGG'</span>,   match1to4, match4);
    addRegexToken(<span class="hljs-string">'gggg'</span>,   match1to4, match4);
    addRegexToken(<span class="hljs-string">'GGGGG'</span>,  match1to6, match6);
    addRegexToken(<span class="hljs-string">'ggggg'</span>,  match1to6, match6);

    addWeekParseToken([<span class="hljs-string">'gggg'</span>, <span class="hljs-string">'ggggg'</span>, <span class="hljs-string">'GGGG'</span>, <span class="hljs-string">'GGGGG'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, week, config, token</span>) </span>{
        week[token.substr(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>)] = toInt(input);
    });

    addWeekParseToken([<span class="hljs-string">'gg'</span>, <span class="hljs-string">'GG'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, week, config, token</span>) </span>{
        week[token] = hooks.parseTwoDigitYear(input);
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-176" id="section-176"></a>
</div>
<p>MOMENTS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetWeekYear</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> getSetWeekYearHelper.call(<span class="hljs-keyword">this</span>,
                input,
                <span class="hljs-keyword">this</span>.week(),
                <span class="hljs-keyword">this</span>.weekday(),
                <span class="hljs-keyword">this</span>.localeData()._week.dow,
                <span class="hljs-keyword">this</span>.localeData()._week.doy);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetISOWeekYear</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> getSetWeekYearHelper.call(<span class="hljs-keyword">this</span>,
                input, <span class="hljs-keyword">this</span>.isoWeek(), <span class="hljs-keyword">this</span>.isoWeekday(), <span class="hljs-number">1</span>, <span class="hljs-number">4</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getISOWeeksInYear</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> weeksInYear(<span class="hljs-keyword">this</span>.year(), <span class="hljs-number">1</span>, <span class="hljs-number">4</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getWeeksInYear</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> weekInfo = <span class="hljs-keyword">this</span>.localeData()._week;
        <span class="hljs-keyword">return</span> weeksInYear(<span class="hljs-keyword">this</span>.year(), weekInfo.dow, weekInfo.doy);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetWeekYearHelper</span>(<span class="hljs-params">input, week, weekday, dow, doy</span>) </span>{
        <span class="hljs-keyword">var</span> weeksTarget;
        <span class="hljs-keyword">if</span> (input == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> weekOfYear(<span class="hljs-keyword">this</span>, dow, doy).year;
        } <span class="hljs-keyword">else</span> {
            weeksTarget = weeksInYear(input, dow, doy);
            <span class="hljs-keyword">if</span> (week &gt; weeksTarget) {
                week = weeksTarget;
            }
            <span class="hljs-keyword">return</span> setWeekAll.call(<span class="hljs-keyword">this</span>, input, week, weekday, dow, doy);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setWeekAll</span>(<span class="hljs-params">weekYear, week, weekday, dow, doy</span>) </span>{
        <span class="hljs-keyword">var</span> dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
            date = createUTCDate(dayOfYearData.year, <span class="hljs-number">0</span>, dayOfYearData.dayOfYear);

        <span class="hljs-keyword">this</span>.year(date.getUTCFullYear());
        <span class="hljs-keyword">this</span>.month(date.getUTCMonth());
        <span class="hljs-keyword">this</span>.date(date.getUTCDate());
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-177" id="section-177"></a>
</div>
<p>FORMATTING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addFormatToken(<span class="hljs-string">'Q'</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'Qo'</span>, <span class="hljs-string">'quarter'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-178" id="section-178"></a>
</div>
<p>ALIASES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitAlias(<span class="hljs-string">'quarter'</span>, <span class="hljs-string">'Q'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-179" id="section-179"></a>
</div>
<p>PRIORITY</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitPriority(<span class="hljs-string">'quarter'</span>, <span class="hljs-number">7</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-180" id="section-180"></a>
</div>
<p>PARSING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addRegexToken(<span class="hljs-string">'Q'</span>, match1);
    addParseToken(<span class="hljs-string">'Q'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array</span>) </span>{
        array[MONTH] = (toInt(input) - <span class="hljs-number">1</span>) * <span class="hljs-number">3</span>;
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-181" id="section-181"></a>
</div>
<p>MOMENTS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetQuarter</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> input == <span class="hljs-literal">null</span> ? <span class="hljs-built_in">Math</span>.ceil((<span class="hljs-keyword">this</span>.month() + <span class="hljs-number">1</span>) / <span class="hljs-number">3</span>) : <span class="hljs-keyword">this</span>.month((input - <span class="hljs-number">1</span>) * <span class="hljs-number">3</span> + <span class="hljs-keyword">this</span>.month() % <span class="hljs-number">3</span>);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-182" id="section-182"></a>
</div>
<p>FORMATTING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addFormatToken(<span class="hljs-string">'D'</span>, [<span class="hljs-string">'DD'</span>, <span class="hljs-number">2</span>], <span class="hljs-string">'Do'</span>, <span class="hljs-string">'date'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-183" id="section-183"></a>
</div>
<p>ALIASES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitAlias(<span class="hljs-string">'date'</span>, <span class="hljs-string">'D'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-184" id="section-184"></a>
</div>
<p>PRIORITY</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    addUnitPriority(<span class="hljs-string">'date'</span>, <span class="hljs-number">9</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-185" id="section-185"></a>
</div>
<p>PARSING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addRegexToken(<span class="hljs-string">'D'</span>,  match1to2);
    addRegexToken(<span class="hljs-string">'DD'</span>, match1to2, match2);
    addRegexToken(<span class="hljs-string">'Do'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">isStrict, locale</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-186" id="section-186"></a>
</div>
<p>TODO: Remove &quot;ordinalParse&quot; fallback in next major release.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">return</span> isStrict ?
          (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :
          locale._dayOfMonthOrdinalParseLenient;
    });

    addParseToken([<span class="hljs-string">'D'</span>, <span class="hljs-string">'DD'</span>], DATE);
    addParseToken(<span class="hljs-string">'Do'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array</span>) </span>{
        array[DATE] = toInt(input.match(match1to2)[<span class="hljs-number">0</span>]);
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-187" id="section-187"></a>
</div>
<p>MOMENTS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-keyword">var</span> getSetDayOfMonth = makeGetSet(<span class="hljs-string">'Date'</span>, <span class="hljs-literal">true</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-188" id="section-188"></a>
</div>
<p>FORMATTING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addFormatToken(<span class="hljs-string">'DDD'</span>, [<span class="hljs-string">'DDDD'</span>, <span class="hljs-number">3</span>], <span class="hljs-string">'DDDo'</span>, <span class="hljs-string">'dayOfYear'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-189" id="section-189"></a>
</div>
<p>ALIASES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitAlias(<span class="hljs-string">'dayOfYear'</span>, <span class="hljs-string">'DDD'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-190" id="section-190"></a>
</div>
<p>PRIORITY</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    addUnitPriority(<span class="hljs-string">'dayOfYear'</span>, <span class="hljs-number">4</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-191" id="section-191"></a>
</div>
<p>PARSING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addRegexToken(<span class="hljs-string">'DDD'</span>,  match1to3);
    addRegexToken(<span class="hljs-string">'DDDD'</span>, match3);
    addParseToken([<span class="hljs-string">'DDD'</span>, <span class="hljs-string">'DDDD'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        config._dayOfYear = toInt(input);
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-192" id="section-192"></a>
</div>
<p>HELPERS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-193" id="section-193"></a>
</div>
<p>MOMENTS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetDayOfYear</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">var</span> dayOfYear = <span class="hljs-built_in">Math</span>.round((<span class="hljs-keyword">this</span>.clone().startOf(<span class="hljs-string">'day'</span>) - <span class="hljs-keyword">this</span>.clone().startOf(<span class="hljs-string">'year'</span>)) / <span class="hljs-number">864e5</span>) + <span class="hljs-number">1</span>;
        <span class="hljs-keyword">return</span> input == <span class="hljs-literal">null</span> ? dayOfYear : <span class="hljs-keyword">this</span>.add((input - dayOfYear), <span class="hljs-string">'d'</span>);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-194" id="section-194"></a>
</div>
<p>FORMATTING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addFormatToken(<span class="hljs-string">'m'</span>, [<span class="hljs-string">'mm'</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0</span>, <span class="hljs-string">'minute'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-195" id="section-195"></a>
</div>
<p>ALIASES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitAlias(<span class="hljs-string">'minute'</span>, <span class="hljs-string">'m'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-196" id="section-196"></a>
</div>
<p>PRIORITY</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitPriority(<span class="hljs-string">'minute'</span>, <span class="hljs-number">14</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-197" id="section-197"></a>
</div>
<p>PARSING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addRegexToken(<span class="hljs-string">'m'</span>,  match1to2);
    addRegexToken(<span class="hljs-string">'mm'</span>, match1to2, match2);
    addParseToken([<span class="hljs-string">'m'</span>, <span class="hljs-string">'mm'</span>], MINUTE);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-198" id="section-198"></a>
</div>
<p>MOMENTS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-keyword">var</span> getSetMinute = makeGetSet(<span class="hljs-string">'Minutes'</span>, <span class="hljs-literal">false</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-199" id="section-199"></a>
</div>
<p>FORMATTING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addFormatToken(<span class="hljs-string">'s'</span>, [<span class="hljs-string">'ss'</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0</span>, <span class="hljs-string">'second'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-200" id="section-200"></a>
</div>
<p>ALIASES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitAlias(<span class="hljs-string">'second'</span>, <span class="hljs-string">'s'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-201" id="section-201"></a>
</div>
<p>PRIORITY</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitPriority(<span class="hljs-string">'second'</span>, <span class="hljs-number">15</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-202" id="section-202"></a>
</div>
<p>PARSING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addRegexToken(<span class="hljs-string">'s'</span>,  match1to2);
    addRegexToken(<span class="hljs-string">'ss'</span>, match1to2, match2);
    addParseToken([<span class="hljs-string">'s'</span>, <span class="hljs-string">'ss'</span>], SECOND);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-203" id="section-203"></a>
</div>
<p>MOMENTS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-keyword">var</span> getSetSecond = makeGetSet(<span class="hljs-string">'Seconds'</span>, <span class="hljs-literal">false</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-204" id="section-204"></a>
</div>
<p>FORMATTING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addFormatToken(<span class="hljs-string">'S'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> ~~(<span class="hljs-keyword">this</span>.millisecond() / <span class="hljs-number">100</span>);
    });

    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'SS'</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> ~~(<span class="hljs-keyword">this</span>.millisecond() / <span class="hljs-number">10</span>);
    });

    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'SSS'</span>, <span class="hljs-number">3</span>], <span class="hljs-number">0</span>, <span class="hljs-string">'millisecond'</span>);
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'SSSS'</span>, <span class="hljs-number">4</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.millisecond() * <span class="hljs-number">10</span>;
    });
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'SSSSS'</span>, <span class="hljs-number">5</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.millisecond() * <span class="hljs-number">100</span>;
    });
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'SSSSSS'</span>, <span class="hljs-number">6</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.millisecond() * <span class="hljs-number">1000</span>;
    });
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'SSSSSSS'</span>, <span class="hljs-number">7</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.millisecond() * <span class="hljs-number">10000</span>;
    });
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'SSSSSSSS'</span>, <span class="hljs-number">8</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.millisecond() * <span class="hljs-number">100000</span>;
    });
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'SSSSSSSSS'</span>, <span class="hljs-number">9</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.millisecond() * <span class="hljs-number">1000000</span>;
    });


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-205" id="section-205"></a>
</div>
<p>ALIASES</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitAlias(<span class="hljs-string">'millisecond'</span>, <span class="hljs-string">'ms'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-206" id="section-206"></a>
</div>
<p>PRIORITY</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addUnitPriority(<span class="hljs-string">'millisecond'</span>, <span class="hljs-number">16</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-207" id="section-207"></a>
</div>
<p>PARSING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addRegexToken(<span class="hljs-string">'S'</span>,    match1to3, match1);
    addRegexToken(<span class="hljs-string">'SS'</span>,   match1to3, match2);
    addRegexToken(<span class="hljs-string">'SSS'</span>,  match1to3, match3);

    <span class="hljs-keyword">var</span> token;
    <span class="hljs-keyword">for</span> (token = <span class="hljs-string">'SSSS'</span>; token.length &lt;= <span class="hljs-number">9</span>; token += <span class="hljs-string">'S'</span>) {
        addRegexToken(token, matchUnsigned);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseMs</span>(<span class="hljs-params">input, array</span>) </span>{
        array[MILLISECOND] = toInt((<span class="hljs-string">'0.'</span> + input) * <span class="hljs-number">1000</span>);
    }

    <span class="hljs-keyword">for</span> (token = <span class="hljs-string">'S'</span>; token.length &lt;= <span class="hljs-number">9</span>; token += <span class="hljs-string">'S'</span>) {
        addParseToken(token, parseMs);
    }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-208" id="section-208"></a>
</div>
<p>MOMENTS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-keyword">var</span> getSetMillisecond = makeGetSet(<span class="hljs-string">'Milliseconds'</span>, <span class="hljs-literal">false</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-209" id="section-209"></a>
</div>
<p>FORMATTING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addFormatToken(<span class="hljs-string">'z'</span>,  <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'zoneAbbr'</span>);
    addFormatToken(<span class="hljs-string">'zz'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'zoneName'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-210" id="section-210"></a>
</div>
<p>MOMENTS</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getZoneAbbr</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._isUTC ? <span class="hljs-string">'UTC'</span> : <span class="hljs-string">''</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getZoneName</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._isUTC ? <span class="hljs-string">'Coordinated Universal Time'</span> : <span class="hljs-string">''</span>;
    }

    <span class="hljs-keyword">var</span> proto = Moment.prototype;

    proto.add               = add;
    proto.calendar          = calendar$<span class="hljs-number">1</span>;
    proto.clone             = clone;
    proto.diff              = diff;
    proto.endOf             = endOf;
    proto.format            = format;
    proto.from              = <span class="hljs-keyword">from</span>;
    proto.fromNow           = fromNow;
    proto.to                = to;
    proto.toNow             = toNow;
    proto.get               = stringGet;
    proto.invalidAt         = invalidAt;
    proto.isAfter           = isAfter;
    proto.isBefore          = isBefore;
    proto.isBetween         = isBetween;
    proto.isSame            = isSame;
    proto.isSameOrAfter     = isSameOrAfter;
    proto.isSameOrBefore    = isSameOrBefore;
    proto.isValid           = isValid$<span class="hljs-number">2</span>;
    proto.lang              = lang;
    proto.locale            = locale;
    proto.localeData        = localeData;
    proto.max               = prototypeMax;
    proto.min               = prototypeMin;
    proto.parsingFlags      = parsingFlags;
    proto.set               = stringSet;
    proto.startOf           = startOf;
    proto.subtract          = subtract;
    proto.toArray           = toArray;
    proto.toObject          = toObject;
    proto.toDate            = toDate;
    proto.toISOString       = toISOString;
    proto.inspect           = inspect;
    proto.toJSON            = toJSON;
    proto.toString          = toString;
    proto.unix              = unix;
    proto.valueOf           = valueOf;
    proto.creationData      = creationData;
    proto.year       = getSetYear;
    proto.isLeapYear = getIsLeapYear;
    proto.weekYear    = getSetWeekYear;
    proto.isoWeekYear = getSetISOWeekYear;
    proto.quarter = proto.quarters = getSetQuarter;
    proto.month       = getSetMonth;
    proto.daysInMonth = getDaysInMonth;
    proto.week           = proto.weeks        = getSetWeek;
    proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;
    proto.weeksInYear    = getWeeksInYear;
    proto.isoWeeksInYear = getISOWeeksInYear;
    proto.date       = getSetDayOfMonth;
    proto.day        = proto.days             = getSetDayOfWeek;
    proto.weekday    = getSetLocaleDayOfWeek;
    proto.isoWeekday = getSetISODayOfWeek;
    proto.dayOfYear  = getSetDayOfYear;
    proto.hour = proto.hours = getSetHour;
    proto.minute = proto.minutes = getSetMinute;
    proto.second = proto.seconds = getSetSecond;
    proto.millisecond = proto.milliseconds = getSetMillisecond;
    proto.utcOffset            = getSetOffset;
    proto.utc                  = setOffsetToUTC;
    proto.local                = setOffsetToLocal;
    proto.parseZone            = setOffsetToParsedOffset;
    proto.hasAlignedHourOffset = hasAlignedHourOffset;
    proto.isDST                = isDaylightSavingTime;
    proto.isLocal              = isLocal;
    proto.isUtcOffset          = isUtcOffset;
    proto.isUtc                = isUtc;
    proto.isUTC                = isUtc;
    proto.zoneAbbr = getZoneAbbr;
    proto.zoneName = getZoneName;
    proto.dates  = deprecate(<span class="hljs-string">'dates accessor is deprecated. Use date instead.'</span>, getSetDayOfMonth);
    proto.months = deprecate(<span class="hljs-string">'months accessor is deprecated. Use month instead'</span>, getSetMonth);
    proto.years  = deprecate(<span class="hljs-string">'years accessor is deprecated. Use year instead'</span>, getSetYear);
    proto.zone   = deprecate(<span class="hljs-string">'moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/'</span>, getSetZone);
    proto.isDSTShifted = deprecate(<span class="hljs-string">'isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information'</span>, isDaylightSavingTimeShifted);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createUnix</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> createLocal(input * <span class="hljs-number">1000</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createInZone</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> createLocal.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>).parseZone();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">preParsePostFormat</span> (<span class="hljs-params">string</span>) </span>{
        <span class="hljs-keyword">return</span> string;
    }

    <span class="hljs-keyword">var</span> proto$<span class="hljs-number">1</span> = Locale.prototype;

    proto$<span class="hljs-number">1.</span>calendar        = calendar;
    proto$<span class="hljs-number">1.</span>longDateFormat  = longDateFormat;
    proto$<span class="hljs-number">1.</span>invalidDate     = invalidDate;
    proto$<span class="hljs-number">1.</span>ordinal         = ordinal;
    proto$<span class="hljs-number">1.</span>preparse        = preParsePostFormat;
    proto$<span class="hljs-number">1.</span>postformat      = preParsePostFormat;
    proto$<span class="hljs-number">1.</span>relativeTime    = relativeTime;
    proto$<span class="hljs-number">1.</span>pastFuture      = pastFuture;
    proto$<span class="hljs-number">1.</span>set             = set;

    proto$<span class="hljs-number">1.</span>months            =        localeMonths;
    proto$<span class="hljs-number">1.</span>monthsShort       =        localeMonthsShort;
    proto$<span class="hljs-number">1.</span>monthsParse       =        localeMonthsParse;
    proto$<span class="hljs-number">1.</span>monthsRegex       = monthsRegex;
    proto$<span class="hljs-number">1.</span>monthsShortRegex  = monthsShortRegex;
    proto$<span class="hljs-number">1.</span>week = localeWeek;
    proto$<span class="hljs-number">1.</span>firstDayOfYear = localeFirstDayOfYear;
    proto$<span class="hljs-number">1.</span>firstDayOfWeek = localeFirstDayOfWeek;

    proto$<span class="hljs-number">1.</span>weekdays       =        localeWeekdays;
    proto$<span class="hljs-number">1.</span>weekdaysMin    =        localeWeekdaysMin;
    proto$<span class="hljs-number">1.</span>weekdaysShort  =        localeWeekdaysShort;
    proto$<span class="hljs-number">1.</span>weekdaysParse  =        localeWeekdaysParse;

    proto$<span class="hljs-number">1.</span>weekdaysRegex       =        weekdaysRegex;
    proto$<span class="hljs-number">1.</span>weekdaysShortRegex  =        weekdaysShortRegex;
    proto$<span class="hljs-number">1.</span>weekdaysMinRegex    =        weekdaysMinRegex;

    proto$<span class="hljs-number">1.</span>isPM = localeIsPM;
    proto$<span class="hljs-number">1.</span>meridiem = localeMeridiem;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get$1</span> (<span class="hljs-params">format, index, field, setter</span>) </span>{
        <span class="hljs-keyword">var</span> locale = getLocale();
        <span class="hljs-keyword">var</span> utc = createUTC().set(setter, index);
        <span class="hljs-keyword">return</span> locale[field](utc, format);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listMonthsImpl</span> (<span class="hljs-params">format, index, field</span>) </span>{
        <span class="hljs-keyword">if</span> (isNumber(format)) {
            index = format;
            format = <span class="hljs-literal">undefined</span>;
        }

        format = format || <span class="hljs-string">''</span>;

        <span class="hljs-keyword">if</span> (index != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> get$<span class="hljs-number">1</span>(format, index, field, <span class="hljs-string">'month'</span>);
        }

        <span class="hljs-keyword">var</span> i;
        <span class="hljs-keyword">var</span> out = [];
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">12</span>; i++) {
            out[i] = get$<span class="hljs-number">1</span>(format, i, field, <span class="hljs-string">'month'</span>);
        }
        <span class="hljs-keyword">return</span> out;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-211" id="section-211"></a>
</div>
<p>()
(5)
(fmt, 5)
(fmt)
(true)
(true, 5)
(true, fmt, 5)
(true, fmt)</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listWeekdaysImpl</span> (<span class="hljs-params">localeSorted, format, index, field</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> localeSorted === <span class="hljs-string">'boolean'</span>) {
            <span class="hljs-keyword">if</span> (isNumber(format)) {
                index = format;
                format = <span class="hljs-literal">undefined</span>;
            }

            format = format || <span class="hljs-string">''</span>;
        } <span class="hljs-keyword">else</span> {
            format = localeSorted;
            index = format;
            localeSorted = <span class="hljs-literal">false</span>;

            <span class="hljs-keyword">if</span> (isNumber(format)) {
                index = format;
                format = <span class="hljs-literal">undefined</span>;
            }

            format = format || <span class="hljs-string">''</span>;
        }

        <span class="hljs-keyword">var</span> locale = getLocale(),
            shift = localeSorted ? locale._week.dow : <span class="hljs-number">0</span>;

        <span class="hljs-keyword">if</span> (index != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> get$<span class="hljs-number">1</span>(format, (index + shift) % <span class="hljs-number">7</span>, field, <span class="hljs-string">'day'</span>);
        }

        <span class="hljs-keyword">var</span> i;
        <span class="hljs-keyword">var</span> out = [];
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">7</span>; i++) {
            out[i] = get$<span class="hljs-number">1</span>(format, (i + shift) % <span class="hljs-number">7</span>, field, <span class="hljs-string">'day'</span>);
        }
        <span class="hljs-keyword">return</span> out;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listMonths</span> (<span class="hljs-params">format, index</span>) </span>{
        <span class="hljs-keyword">return</span> listMonthsImpl(format, index, <span class="hljs-string">'months'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listMonthsShort</span> (<span class="hljs-params">format, index</span>) </span>{
        <span class="hljs-keyword">return</span> listMonthsImpl(format, index, <span class="hljs-string">'monthsShort'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listWeekdays</span> (<span class="hljs-params">localeSorted, format, index</span>) </span>{
        <span class="hljs-keyword">return</span> listWeekdaysImpl(localeSorted, format, index, <span class="hljs-string">'weekdays'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listWeekdaysShort</span> (<span class="hljs-params">localeSorted, format, index</span>) </span>{
        <span class="hljs-keyword">return</span> listWeekdaysImpl(localeSorted, format, index, <span class="hljs-string">'weekdaysShort'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listWeekdaysMin</span> (<span class="hljs-params">localeSorted, format, index</span>) </span>{
        <span class="hljs-keyword">return</span> listWeekdaysImpl(localeSorted, format, index, <span class="hljs-string">'weekdaysMin'</span>);
    }

    getSetGlobalLocale(<span class="hljs-string">'en'</span>, {
        <span class="hljs-attr">dayOfMonthOrdinalParse</span>: <span class="hljs-regexp">/\d{1,2}(th|st|nd|rd)/</span>,
        <span class="hljs-attr">ordinal</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">number</span>) </span>{
            <span class="hljs-keyword">var</span> b = number % <span class="hljs-number">10</span>,
                output = (toInt(number % <span class="hljs-number">100</span> / <span class="hljs-number">10</span>) === <span class="hljs-number">1</span>) ? <span class="hljs-string">'th'</span> :
                (b === <span class="hljs-number">1</span>) ? <span class="hljs-string">'st'</span> :
                (b === <span class="hljs-number">2</span>) ? <span class="hljs-string">'nd'</span> :
                (b === <span class="hljs-number">3</span>) ? <span class="hljs-string">'rd'</span> : <span class="hljs-string">'th'</span>;
            <span class="hljs-keyword">return</span> number + output;
        }
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-212" id="section-212"></a>
</div>
<p>Side effect imports</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    hooks.lang = deprecate(<span class="hljs-string">'moment.lang is deprecated. Use moment.locale instead.'</span>, getSetGlobalLocale);
    hooks.langData = deprecate(<span class="hljs-string">'moment.langData is deprecated. Use moment.localeData instead.'</span>, getLocale);

    <span class="hljs-keyword">var</span> mathAbs = <span class="hljs-built_in">Math</span>.abs;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">abs</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> data           = <span class="hljs-keyword">this</span>._data;

        <span class="hljs-keyword">this</span>._milliseconds = mathAbs(<span class="hljs-keyword">this</span>._milliseconds);
        <span class="hljs-keyword">this</span>._days         = mathAbs(<span class="hljs-keyword">this</span>._days);
        <span class="hljs-keyword">this</span>._months       = mathAbs(<span class="hljs-keyword">this</span>._months);

        data.milliseconds  = mathAbs(data.milliseconds);
        data.seconds       = mathAbs(data.seconds);
        data.minutes       = mathAbs(data.minutes);
        data.hours         = mathAbs(data.hours);
        data.months        = mathAbs(data.months);
        data.years         = mathAbs(data.years);

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addSubtract$1</span> (<span class="hljs-params">duration, input, value, direction</span>) </span>{
        <span class="hljs-keyword">var</span> other = createDuration(input, value);

        duration._milliseconds += direction * other._milliseconds;
        duration._days         += direction * other._days;
        duration._months       += direction * other._months;

        <span class="hljs-keyword">return</span> duration._bubble();
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-213" id="section-213"></a>
</div>
<p>supports only 2.0-style add(1, 's') or add(duration)</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add$1</span> (<span class="hljs-params">input, value</span>) </span>{
        <span class="hljs-keyword">return</span> addSubtract$<span class="hljs-number">1</span>(<span class="hljs-keyword">this</span>, input, value, <span class="hljs-number">1</span>);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-214" id="section-214"></a>
</div>
<p>supports only 2.0-style subtract(1, 's') or subtract(duration)</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">subtract$1</span> (<span class="hljs-params">input, value</span>) </span>{
        <span class="hljs-keyword">return</span> addSubtract$<span class="hljs-number">1</span>(<span class="hljs-keyword">this</span>, input, value, <span class="hljs-number">-1</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">absCeil</span> (<span class="hljs-params">number</span>) </span>{
        <span class="hljs-keyword">if</span> (number &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.floor(number);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.ceil(number);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bubble</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> milliseconds = <span class="hljs-keyword">this</span>._milliseconds;
        <span class="hljs-keyword">var</span> days         = <span class="hljs-keyword">this</span>._days;
        <span class="hljs-keyword">var</span> months       = <span class="hljs-keyword">this</span>._months;
        <span class="hljs-keyword">var</span> data         = <span class="hljs-keyword">this</span>._data;
        <span class="hljs-keyword">var</span> seconds, minutes, hours, years, monthsFromDays;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-215" id="section-215"></a>
</div>
<p>if we have a mix of positive and negative values, bubble down first
check: https://github.com/moment/moment/issues/2166</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (!((milliseconds &gt;= <span class="hljs-number">0</span> &amp;&amp; days &gt;= <span class="hljs-number">0</span> &amp;&amp; months &gt;= <span class="hljs-number">0</span>) ||
                (milliseconds &lt;= <span class="hljs-number">0</span> &amp;&amp; days &lt;= <span class="hljs-number">0</span> &amp;&amp; months &lt;= <span class="hljs-number">0</span>))) {
            milliseconds += absCeil(monthsToDays(months) + days) * <span class="hljs-number">864e5</span>;
            days = <span class="hljs-number">0</span>;
            months = <span class="hljs-number">0</span>;
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-216" id="section-216"></a>
</div>
<p>The following code bubbles up values, see the tests for
examples of what that means.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        data.milliseconds = milliseconds % <span class="hljs-number">1000</span>;

        seconds           = absFloor(milliseconds / <span class="hljs-number">1000</span>);
        data.seconds      = seconds % <span class="hljs-number">60</span>;

        minutes           = absFloor(seconds / <span class="hljs-number">60</span>);
        data.minutes      = minutes % <span class="hljs-number">60</span>;

        hours             = absFloor(minutes / <span class="hljs-number">60</span>);
        data.hours        = hours % <span class="hljs-number">24</span>;

        days += absFloor(hours / <span class="hljs-number">24</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-217" id="section-217"></a>
</div>
<p>convert days to months</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        monthsFromDays = absFloor(daysToMonths(days));
        months += monthsFromDays;
        days -= absCeil(monthsToDays(monthsFromDays));

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-218" id="section-218"></a>
</div>
<p>12 months -&gt; 1 year</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        years = absFloor(months / <span class="hljs-number">12</span>);
        months %= <span class="hljs-number">12</span>;

        data.days   = days;
        data.months = months;
        data.years  = years;

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">daysToMonths</span> (<span class="hljs-params">days</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-219" id="section-219"></a>
</div>
<p>400 years have 146097 days (taking into account leap year rules)
400 years have 12 months === 4800</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">return</span> days * <span class="hljs-number">4800</span> / <span class="hljs-number">146097</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">monthsToDays</span> (<span class="hljs-params">months</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-220" id="section-220"></a>
</div>
<p>the reverse of daysToMonths</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">return</span> months * <span class="hljs-number">146097</span> / <span class="hljs-number">4800</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">as</span> (<span class="hljs-params">units</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">NaN</span>;
        }
        <span class="hljs-keyword">var</span> days;
        <span class="hljs-keyword">var</span> months;
        <span class="hljs-keyword">var</span> milliseconds = <span class="hljs-keyword">this</span>._milliseconds;

        units = normalizeUnits(units);

        <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'month'</span> || units === <span class="hljs-string">'year'</span>) {
            days   = <span class="hljs-keyword">this</span>._days   + milliseconds / <span class="hljs-number">864e5</span>;
            months = <span class="hljs-keyword">this</span>._months + daysToMonths(days);
            <span class="hljs-keyword">return</span> units === <span class="hljs-string">'month'</span> ? months : months / <span class="hljs-number">12</span>;
        } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-221" id="section-221"></a>
</div>
<p>handle milliseconds separately because of floating point math errors (issue #1867)</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            days = <span class="hljs-keyword">this</span>._days + <span class="hljs-built_in">Math</span>.round(monthsToDays(<span class="hljs-keyword">this</span>._months));
            <span class="hljs-keyword">switch</span> (units) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">'week'</span>   : <span class="hljs-keyword">return</span> days / <span class="hljs-number">7</span>     + milliseconds / <span class="hljs-number">6048e5</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">'day'</span>    : <span class="hljs-keyword">return</span> days         + milliseconds / <span class="hljs-number">864e5</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">'hour'</span>   : <span class="hljs-keyword">return</span> days * <span class="hljs-number">24</span>    + milliseconds / <span class="hljs-number">36e5</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">'minute'</span> : <span class="hljs-keyword">return</span> days * <span class="hljs-number">1440</span>  + milliseconds / <span class="hljs-number">6e4</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">'second'</span> : <span class="hljs-keyword">return</span> days * <span class="hljs-number">86400</span> + milliseconds / <span class="hljs-number">1000</span>;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-222" id="section-222"></a>
</div>
<p>Math.floor prevents floating point math errors here</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                <span class="hljs-keyword">case</span> <span class="hljs-string">'millisecond'</span>: <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.floor(days * <span class="hljs-number">864e5</span>) + milliseconds;
                <span class="hljs-keyword">default</span>: <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Unknown unit '</span> + units);
            }
        }
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-223" id="section-223"></a>
</div>
<p>TODO: Use this.as('ms')?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">valueOf$1</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">NaN</span>;
        }
        <span class="hljs-keyword">return</span> (
            <span class="hljs-keyword">this</span>._milliseconds +
            <span class="hljs-keyword">this</span>._days * <span class="hljs-number">864e5</span> +
            (<span class="hljs-keyword">this</span>._months % <span class="hljs-number">12</span>) * <span class="hljs-number">2592e6</span> +
            toInt(<span class="hljs-keyword">this</span>._months / <span class="hljs-number">12</span>) * <span class="hljs-number">31536e6</span>
        );
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeAs</span> (<span class="hljs-params">alias</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.as(alias);
        };
    }

    <span class="hljs-keyword">var</span> asMilliseconds = makeAs(<span class="hljs-string">'ms'</span>);
    <span class="hljs-keyword">var</span> asSeconds      = makeAs(<span class="hljs-string">'s'</span>);
    <span class="hljs-keyword">var</span> asMinutes      = makeAs(<span class="hljs-string">'m'</span>);
    <span class="hljs-keyword">var</span> asHours        = makeAs(<span class="hljs-string">'h'</span>);
    <span class="hljs-keyword">var</span> asDays         = makeAs(<span class="hljs-string">'d'</span>);
    <span class="hljs-keyword">var</span> asWeeks        = makeAs(<span class="hljs-string">'w'</span>);
    <span class="hljs-keyword">var</span> asMonths       = makeAs(<span class="hljs-string">'M'</span>);
    <span class="hljs-keyword">var</span> asYears        = makeAs(<span class="hljs-string">'y'</span>);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clone$1</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> createDuration(<span class="hljs-keyword">this</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get$2</span> (<span class="hljs-params">units</span>) </span>{
        units = normalizeUnits(units);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isValid() ? <span class="hljs-keyword">this</span>[units + <span class="hljs-string">'s'</span>]() : <span class="hljs-literal">NaN</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeGetter</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isValid() ? <span class="hljs-keyword">this</span>._data[name] : <span class="hljs-literal">NaN</span>;
        };
    }

    <span class="hljs-keyword">var</span> milliseconds = makeGetter(<span class="hljs-string">'milliseconds'</span>);
    <span class="hljs-keyword">var</span> seconds      = makeGetter(<span class="hljs-string">'seconds'</span>);
    <span class="hljs-keyword">var</span> minutes      = makeGetter(<span class="hljs-string">'minutes'</span>);
    <span class="hljs-keyword">var</span> hours        = makeGetter(<span class="hljs-string">'hours'</span>);
    <span class="hljs-keyword">var</span> days         = makeGetter(<span class="hljs-string">'days'</span>);
    <span class="hljs-keyword">var</span> months       = makeGetter(<span class="hljs-string">'months'</span>);
    <span class="hljs-keyword">var</span> years        = makeGetter(<span class="hljs-string">'years'</span>);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">weeks</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> absFloor(<span class="hljs-keyword">this</span>.days() / <span class="hljs-number">7</span>);
    }

    <span class="hljs-keyword">var</span> round = <span class="hljs-built_in">Math</span>.round;
    <span class="hljs-keyword">var</span> thresholds = {
        <span class="hljs-attr">ss</span>: <span class="hljs-number">44</span>,         <span class="hljs-comment">// a few seconds to seconds</span>
        s : <span class="hljs-number">45</span>,         <span class="hljs-comment">// seconds to minute</span>
        m : <span class="hljs-number">45</span>,         <span class="hljs-comment">// minutes to hour</span>
        h : <span class="hljs-number">22</span>,         <span class="hljs-comment">// hours to day</span>
        d : <span class="hljs-number">26</span>,         <span class="hljs-comment">// days to month</span>
        M : <span class="hljs-number">11</span>          <span class="hljs-comment">// months to year</span>
    };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-224" id="section-224"></a>
</div>
<p>helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">substituteTimeAgo</span>(<span class="hljs-params">string, number, withoutSuffix, isFuture, locale</span>) </span>{
        <span class="hljs-keyword">return</span> locale.relativeTime(number || <span class="hljs-number">1</span>, !!withoutSuffix, string, isFuture);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">relativeTime$1</span> (<span class="hljs-params">posNegDuration, withoutSuffix, locale</span>) </span>{
        <span class="hljs-keyword">var</span> duration = createDuration(posNegDuration).abs();
        <span class="hljs-keyword">var</span> seconds  = round(duration.as(<span class="hljs-string">'s'</span>));
        <span class="hljs-keyword">var</span> minutes  = round(duration.as(<span class="hljs-string">'m'</span>));
        <span class="hljs-keyword">var</span> hours    = round(duration.as(<span class="hljs-string">'h'</span>));
        <span class="hljs-keyword">var</span> days     = round(duration.as(<span class="hljs-string">'d'</span>));
        <span class="hljs-keyword">var</span> months   = round(duration.as(<span class="hljs-string">'M'</span>));
        <span class="hljs-keyword">var</span> years    = round(duration.as(<span class="hljs-string">'y'</span>));

        <span class="hljs-keyword">var</span> a = seconds &lt;= thresholds.ss &amp;&amp; [<span class="hljs-string">'s'</span>, seconds]  ||
                seconds &lt; thresholds.s   &amp;&amp; [<span class="hljs-string">'ss'</span>, seconds] ||
                minutes &lt;= <span class="hljs-number">1</span>             &amp;&amp; [<span class="hljs-string">'m'</span>]           ||
                minutes &lt; thresholds.m   &amp;&amp; [<span class="hljs-string">'mm'</span>, minutes] ||
                hours   &lt;= <span class="hljs-number">1</span>             &amp;&amp; [<span class="hljs-string">'h'</span>]           ||
                hours   &lt; thresholds.h   &amp;&amp; [<span class="hljs-string">'hh'</span>, hours]   ||
                days    &lt;= <span class="hljs-number">1</span>             &amp;&amp; [<span class="hljs-string">'d'</span>]           ||
                days    &lt; thresholds.d   &amp;&amp; [<span class="hljs-string">'dd'</span>, days]    ||
                months  &lt;= <span class="hljs-number">1</span>             &amp;&amp; [<span class="hljs-string">'M'</span>]           ||
                months  &lt; thresholds.M   &amp;&amp; [<span class="hljs-string">'MM'</span>, months]  ||
                years   &lt;= <span class="hljs-number">1</span>             &amp;&amp; [<span class="hljs-string">'y'</span>]           || [<span class="hljs-string">'yy'</span>, years];

        a[<span class="hljs-number">2</span>] = withoutSuffix;
        a[<span class="hljs-number">3</span>] = +posNegDuration &gt; <span class="hljs-number">0</span>;
        a[<span class="hljs-number">4</span>] = locale;
        <span class="hljs-keyword">return</span> substituteTimeAgo.apply(<span class="hljs-literal">null</span>, a);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-225" id="section-225"></a>
</div>
<p>This function allows you to set the rounding function for relative time strings</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetRelativeTimeRounding</span> (<span class="hljs-params">roundingFunction</span>) </span>{
        <span class="hljs-keyword">if</span> (roundingFunction === <span class="hljs-literal">undefined</span>) {
            <span class="hljs-keyword">return</span> round;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(roundingFunction) === <span class="hljs-string">'function'</span>) {
            round = roundingFunction;
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-226" id="section-226"></a>
</div>
<p>This function allows you to set a threshold for relative time strings</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetRelativeTimeThreshold</span> (<span class="hljs-params">threshold, limit</span>) </span>{
        <span class="hljs-keyword">if</span> (thresholds[threshold] === <span class="hljs-literal">undefined</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> (limit === <span class="hljs-literal">undefined</span>) {
            <span class="hljs-keyword">return</span> thresholds[threshold];
        }
        thresholds[threshold] = limit;
        <span class="hljs-keyword">if</span> (threshold === <span class="hljs-string">'s'</span>) {
            thresholds.ss = limit - <span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">humanize</span> (<span class="hljs-params">withSuffix</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().invalidDate();
        }

        <span class="hljs-keyword">var</span> locale = <span class="hljs-keyword">this</span>.localeData();
        <span class="hljs-keyword">var</span> output = relativeTime$<span class="hljs-number">1</span>(<span class="hljs-keyword">this</span>, !withSuffix, locale);

        <span class="hljs-keyword">if</span> (withSuffix) {
            output = locale.pastFuture(+<span class="hljs-keyword">this</span>, output);
        }

        <span class="hljs-keyword">return</span> locale.postformat(output);
    }

    <span class="hljs-keyword">var</span> abs$<span class="hljs-number">1</span> = <span class="hljs-built_in">Math</span>.abs;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sign</span>(<span class="hljs-params">x</span>) </span>{
        <span class="hljs-keyword">return</span> ((x &gt; <span class="hljs-number">0</span>) - (x &lt; <span class="hljs-number">0</span>)) || +x;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toISOString$1</span>(<span class="hljs-params"></span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-227" id="section-227"></a>
</div>
<p>for ISO strings we do not use the normal bubbling rules:</p>
<ul>
<li>milliseconds bubble up until they become hours</li>
<li>days do not bubble at all</li>
<li>months bubble up until they become years
This is because there is no context-free conversion between hours and days
(think of clock changes)
and also not between days and months (28-31 days per month)</li>
</ul>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().invalidDate();
        }

        <span class="hljs-keyword">var</span> seconds = abs$<span class="hljs-number">1</span>(<span class="hljs-keyword">this</span>._milliseconds) / <span class="hljs-number">1000</span>;
        <span class="hljs-keyword">var</span> days         = abs$<span class="hljs-number">1</span>(<span class="hljs-keyword">this</span>._days);
        <span class="hljs-keyword">var</span> months       = abs$<span class="hljs-number">1</span>(<span class="hljs-keyword">this</span>._months);
        <span class="hljs-keyword">var</span> minutes, hours, years;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-228" id="section-228"></a>
</div>
<p>3600 seconds -&gt; 60 minutes -&gt; 1 hour</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        minutes           = absFloor(seconds / <span class="hljs-number">60</span>);
        hours             = absFloor(minutes / <span class="hljs-number">60</span>);
        seconds %= <span class="hljs-number">60</span>;
        minutes %= <span class="hljs-number">60</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-229" id="section-229"></a>
</div>
<p>12 months -&gt; 1 year</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        years  = absFloor(months / <span class="hljs-number">12</span>);
        months %= <span class="hljs-number">12</span>;


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-230" id="section-230"></a>
</div>
<p>inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">var</span> Y = years;
        <span class="hljs-keyword">var</span> M = months;
        <span class="hljs-keyword">var</span> D = days;
        <span class="hljs-keyword">var</span> h = hours;
        <span class="hljs-keyword">var</span> m = minutes;
        <span class="hljs-keyword">var</span> s = seconds ? seconds.toFixed(<span class="hljs-number">3</span>).replace(<span class="hljs-regexp">/\.?0+$/</span>, <span class="hljs-string">''</span>) : <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> total = <span class="hljs-keyword">this</span>.asSeconds();

        <span class="hljs-keyword">if</span> (!total) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-231" id="section-231"></a>
</div>
<p>this is the same as C#'s (Noda) and python (isodate)...
but not other JS (goog.date)</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">return</span> <span class="hljs-string">'P0D'</span>;
        }

        <span class="hljs-keyword">var</span> totalSign = total &lt; <span class="hljs-number">0</span> ? <span class="hljs-string">'-'</span> : <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> ymSign = sign(<span class="hljs-keyword">this</span>._months) !== sign(total) ? <span class="hljs-string">'-'</span> : <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> daysSign = sign(<span class="hljs-keyword">this</span>._days) !== sign(total) ? <span class="hljs-string">'-'</span> : <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> hmsSign = sign(<span class="hljs-keyword">this</span>._milliseconds) !== sign(total) ? <span class="hljs-string">'-'</span> : <span class="hljs-string">''</span>;

        <span class="hljs-keyword">return</span> totalSign + <span class="hljs-string">'P'</span> +
            (Y ? ymSign + Y + <span class="hljs-string">'Y'</span> : <span class="hljs-string">''</span>) +
            (M ? ymSign + M + <span class="hljs-string">'M'</span> : <span class="hljs-string">''</span>) +
            (D ? daysSign + D + <span class="hljs-string">'D'</span> : <span class="hljs-string">''</span>) +
            ((h || m || s) ? <span class="hljs-string">'T'</span> : <span class="hljs-string">''</span>) +
            (h ? hmsSign + h + <span class="hljs-string">'H'</span> : <span class="hljs-string">''</span>) +
            (m ? hmsSign + m + <span class="hljs-string">'M'</span> : <span class="hljs-string">''</span>) +
            (s ? hmsSign + s + <span class="hljs-string">'S'</span> : <span class="hljs-string">''</span>);
    }

    <span class="hljs-keyword">var</span> proto$<span class="hljs-number">2</span> = Duration.prototype;

    proto$<span class="hljs-number">2.</span>isValid        = isValid$<span class="hljs-number">1</span>;
    proto$<span class="hljs-number">2.</span>abs            = abs;
    proto$<span class="hljs-number">2.</span>add            = add$<span class="hljs-number">1</span>;
    proto$<span class="hljs-number">2.</span>subtract       = subtract$<span class="hljs-number">1</span>;
    proto$<span class="hljs-number">2.</span><span class="hljs-keyword">as</span>             = <span class="hljs-keyword">as</span>;
    proto$<span class="hljs-number">2.</span>asMilliseconds = asMilliseconds;
    proto$<span class="hljs-number">2.</span>asSeconds      = asSeconds;
    proto$<span class="hljs-number">2.</span>asMinutes      = asMinutes;
    proto$<span class="hljs-number">2.</span>asHours        = asHours;
    proto$<span class="hljs-number">2.</span>asDays         = asDays;
    proto$<span class="hljs-number">2.</span>asWeeks        = asWeeks;
    proto$<span class="hljs-number">2.</span>asMonths       = asMonths;
    proto$<span class="hljs-number">2.</span>asYears        = asYears;
    proto$<span class="hljs-number">2.</span>valueOf        = valueOf$<span class="hljs-number">1</span>;
    proto$<span class="hljs-number">2.</span>_bubble        = bubble;
    proto$<span class="hljs-number">2.</span>clone          = clone$<span class="hljs-number">1</span>;
    proto$<span class="hljs-number">2.</span>get            = get$<span class="hljs-number">2</span>;
    proto$<span class="hljs-number">2.</span>milliseconds   = milliseconds;
    proto$<span class="hljs-number">2.</span>seconds        = seconds;
    proto$<span class="hljs-number">2.</span>minutes        = minutes;
    proto$<span class="hljs-number">2.</span>hours          = hours;
    proto$<span class="hljs-number">2.</span>days           = days;
    proto$<span class="hljs-number">2.</span>weeks          = weeks;
    proto$<span class="hljs-number">2.</span>months         = months;
    proto$<span class="hljs-number">2.</span>years          = years;
    proto$<span class="hljs-number">2.</span>humanize       = humanize;
    proto$<span class="hljs-number">2.</span>toISOString    = toISOString$<span class="hljs-number">1</span>;
    proto$<span class="hljs-number">2.</span>toString       = toISOString$<span class="hljs-number">1</span>;
    proto$<span class="hljs-number">2.</span>toJSON         = toISOString$<span class="hljs-number">1</span>;
    proto$<span class="hljs-number">2.</span>locale         = locale;
    proto$<span class="hljs-number">2.</span>localeData     = localeData;

    proto$<span class="hljs-number">2.</span>toIsoString = deprecate(<span class="hljs-string">'toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)'</span>, toISOString$<span class="hljs-number">1</span>);
    proto$<span class="hljs-number">2.</span>lang = lang;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-232" id="section-232"></a>
</div>
<p>Side effect imports</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-233" id="section-233"></a>
</div>
<p>FORMATTING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addFormatToken(<span class="hljs-string">'X'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'unix'</span>);
    addFormatToken(<span class="hljs-string">'x'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'valueOf'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-234" id="section-234"></a>
</div>
<p>PARSING</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    addRegexToken(<span class="hljs-string">'x'</span>, matchSigned);
    addRegexToken(<span class="hljs-string">'X'</span>, matchTimestamp);
    addParseToken(<span class="hljs-string">'X'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        config._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-built_in">parseFloat</span>(input, <span class="hljs-number">10</span>) * <span class="hljs-number">1000</span>);
    });
    addParseToken(<span class="hljs-string">'x'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        config._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(toInt(input));
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-235" id="section-235"></a>
</div>
<p>Side effect imports</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">

    hooks.version = <span class="hljs-string">'2.22.2'</span>;

    setHookCallback(createLocal);

    hooks.fn                    = proto;
    hooks.min                   = min;
    hooks.max                   = max;
    hooks.now                   = now;
    hooks.utc                   = createUTC;
    hooks.unix                  = createUnix;
    hooks.months                = listMonths;
    hooks.isDate                = isDate;
    hooks.locale                = getSetGlobalLocale;
    hooks.invalid               = createInvalid;
    hooks.duration              = createDuration;
    hooks.isMoment              = isMoment;
    hooks.weekdays              = listWeekdays;
    hooks.parseZone             = createInZone;
    hooks.localeData            = getLocale;
    hooks.isDuration            = isDuration;
    hooks.monthsShort           = listMonthsShort;
    hooks.weekdaysMin           = listWeekdaysMin;
    hooks.defineLocale          = defineLocale;
    hooks.updateLocale          = updateLocale;
    hooks.locales               = listLocales;
    hooks.weekdaysShort         = listWeekdaysShort;
    hooks.normalizeUnits        = normalizeUnits;
    hooks.relativeTimeRounding  = getSetRelativeTimeRounding;
    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
    hooks.calendarFormat        = getCalendarFormat;
    hooks.prototype             = proto;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-236" id="section-236"></a>
</div>
<p>currently HTML5 input type only supports 24-hour formats</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    hooks.HTML5_FMT = {
        <span class="hljs-attr">DATETIME_LOCAL</span>: <span class="hljs-string">'YYYY-MM-DDTHH:mm'</span>,             <span class="hljs-comment">// &lt;input type="datetime-local" /&gt;</span>
        DATETIME_LOCAL_SECONDS: <span class="hljs-string">'YYYY-MM-DDTHH:mm:ss'</span>,  <span class="hljs-comment">// &lt;input type="datetime-local" step="1" /&gt;</span>
        DATETIME_LOCAL_MS: <span class="hljs-string">'YYYY-MM-DDTHH:mm:ss.SSS'</span>,   <span class="hljs-comment">// &lt;input type="datetime-local" step="0.001" /&gt;</span>
        DATE: <span class="hljs-string">'YYYY-MM-DD'</span>,                             <span class="hljs-comment">// &lt;input type="date" /&gt;</span>
        TIME: <span class="hljs-string">'HH:mm'</span>,                                  <span class="hljs-comment">// &lt;input type="time" /&gt;</span>
        TIME_SECONDS: <span class="hljs-string">'HH:mm:ss'</span>,                       <span class="hljs-comment">// &lt;input type="time" step="1" /&gt;</span>
        TIME_MS: <span class="hljs-string">'HH:mm:ss.SSS'</span>,                        <span class="hljs-comment">// &lt;input type="time" step="0.001" /&gt;</span>
        WEEK: <span class="hljs-string">'YYYY-[W]WW'</span>,                             <span class="hljs-comment">// &lt;input type="week" /&gt;</span>
        MONTH: <span class="hljs-string">'YYYY-MM'</span>                                <span class="hljs-comment">// &lt;input type="month" /&gt;</span>
    };

    <span class="hljs-keyword">return</span> hooks;

})));

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
