<!DOCTYPE html>
<html>
<head>
  <title>index.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules\\commander\\index.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>index.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>
<div class="dox">
<div class="summary">
<p>Module dependencies.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">var</span> EventEmitter = <span class="hljs-built_in">require</span>(<span class="hljs-string">'events'</span>).EventEmitter;
<span class="hljs-keyword">var</span> spawn = <span class="hljs-built_in">require</span>(<span class="hljs-string">'child_process'</span>).spawn;
<span class="hljs-keyword">var</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
<span class="hljs-keyword">var</span> dirname = path.dirname;
<span class="hljs-keyword">var</span> basename = path.basename;
<span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<div class="dox">
<div class="summary">
<p>Inherit <code>Command</code> from <code>EventEmitter.prototype</code>.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-built_in">require</span>(<span class="hljs-string">'util'</span>).inherits(Command, EventEmitter);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<div class="dox">
<div class="summary">
<p>Expose the root command.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
exports = <span class="hljs-built_in">module</span>.exports = <span class="hljs-keyword">new</span> Command();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<div class="dox">
<div class="summary">
<p>Expose <code>Command</code>.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
exports.Command = Command;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<div class="dox">
<div class="summary">
<p>Expose <code>Option</code>.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
exports.Option = Option;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<div class="dox">
<div class="summary">
<p>Initialize a new <code>Option</code> with the given <code>flags</code> and <code>description</code>.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">flags</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">description</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Option</span>(<span class="hljs-params">flags, description</span>) </span>{
  <span class="hljs-keyword">this</span>.flags = flags;
  <span class="hljs-keyword">this</span>.required = flags.indexOf(<span class="hljs-string">'&lt;'</span>) &gt;= <span class="hljs-number">0</span>;
  <span class="hljs-keyword">this</span>.optional = flags.indexOf(<span class="hljs-string">'['</span>) &gt;= <span class="hljs-number">0</span>;
  <span class="hljs-keyword">this</span>.bool = flags.indexOf(<span class="hljs-string">'-no-'</span>) === <span class="hljs-number">-1</span>;
  flags = flags.split(<span class="hljs-regexp">/[ ,|]+/</span>);
  <span class="hljs-keyword">if</span> (flags.length &gt; <span class="hljs-number">1</span> &amp;&amp; !<span class="hljs-regexp">/^[[&lt;]/</span>.test(flags[<span class="hljs-number">1</span>])) <span class="hljs-keyword">this</span>.short = flags.shift();
  <span class="hljs-keyword">this</span>.long = flags.shift();
  <span class="hljs-keyword">this</span>.description = description || <span class="hljs-string">''</span>;
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return option name.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Option.prototype.name = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.long
    .replace(<span class="hljs-string">'--'</span>, <span class="hljs-string">''</span>)
    .replace(<span class="hljs-string">'no-'</span>, <span class="hljs-string">''</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return option name, in a camelcase format that can be used
as a object attribute key.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Option.prototype.attributeName = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> camelcase(<span class="hljs-keyword">this</span>.name());
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<div class="dox">
<div class="summary">
<p>Check if <code>arg</code> matches the short or long flag.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">arg</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Boolean</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Option.prototype.is = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">arg</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.short === arg || <span class="hljs-keyword">this</span>.long === arg;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<div class="dox">
<div class="summary">
<p>Initialize a new <code>Command</code>.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">name</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Command</span>(<span class="hljs-params">name</span>) </span>{
  <span class="hljs-keyword">this</span>.commands = [];
  <span class="hljs-keyword">this</span>.options = [];
  <span class="hljs-keyword">this</span>._execs = {};
  <span class="hljs-keyword">this</span>._allowUnknownOption = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">this</span>._args = [];
  <span class="hljs-keyword">this</span>._name = name || <span class="hljs-string">''</span>;
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<div class="dox">
<div class="summary">
<p>Add command <code>name</code>.</p>
</div>
<div class="body">
<p>The <code>.action()</code> callback is invoked when the
command <code>name</code> is specified via <strong>ARGV</strong>,
and the remaining arguments are applied to the
function for access.</p>
<p>When the <code>name</code> is &quot;*&quot; an un-matched command
will be passed as the first arg, followed by
the rest of <strong>ARGV</strong> remaining.</p>
<p>Examples:</p>
<pre><code> program
   .version('0.0.1')
   .option('-C, --chdir &lt;path&gt;', 'change the working directory')
   .option('-c, --config &lt;path&gt;', 'set config path. defaults to ./deploy.conf')
   .option('-T, --no-tests', 'ignore test hook')
<p>program
.command('setup')
.description('run remote setup commands')
.action(function() {
console.log('setup');
});</p>
<p>program
.command('exec &lt;cmd&gt;')
.description('run the given remote command')
.action(function(cmd) {
console.log('exec &quot;%s&quot;', cmd);
});</p>
<p>program
.command('teardown &lt;dir&gt; [otherDirs...]')
.description('run teardown commands')
.action(function(dir, otherDirs) {
console.log('dir &quot;%s&quot;', dir);
if (otherDirs) {
otherDirs.forEach(function (oDir) {
console.log('dir &quot;%s&quot;', oDir);
});
}
});</p>
<p>program
.command('*')
.description('deploy the given env')
.action(function(env) {
console.log('deploying &quot;%s&quot;', env);
});</p>
<p>program.parse(process.argv);</code></pre></p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">name</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[desc]</span>
<span class="dox_type">String</span>
<span>for git-style sub-commands
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Command</span>
<span>the new command
</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.command = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, desc, opts</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> desc === <span class="hljs-string">'object'</span> &amp;&amp; desc !== <span class="hljs-literal">null</span>) {
    opts = desc;
    desc = <span class="hljs-literal">null</span>;
  }
  opts = opts || {};
  <span class="hljs-keyword">var</span> args = name.split(<span class="hljs-regexp">/ +/</span>);
  <span class="hljs-keyword">var</span> cmd = <span class="hljs-keyword">new</span> Command(args.shift());

  <span class="hljs-keyword">if</span> (desc) {
    cmd.description(desc);
    <span class="hljs-keyword">this</span>.executables = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">this</span>._execs[cmd._name] = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (opts.isDefault) <span class="hljs-keyword">this</span>.defaultExecutable = cmd._name;
  }
  cmd._noHelp = !!opts.noHelp;
  <span class="hljs-keyword">this</span>.commands.push(cmd);
  cmd.parseExpectedArgs(args);
  cmd.parent = <span class="hljs-keyword">this</span>;

  <span class="hljs-keyword">if</span> (desc) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  <span class="hljs-keyword">return</span> cmd;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<div class="dox">
<div class="summary">
<p>Define argument syntax for the top-level command.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.arguments = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">desc</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.parseExpectedArgs(desc.split(<span class="hljs-regexp">/ +/</span>));
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<div class="dox">
<div class="summary">
<p>Add an implicit <code>help [cmd]</code> subcommand
which invokes <code>--help</code> for the given command.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.addImplicitHelpCommand = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">this</span>.command(<span class="hljs-string">'help [cmd]'</span>, <span class="hljs-string">'display help for [cmd]'</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<div class="dox">
<div class="summary">
<p>Parse expected <code>args</code>.</p>
</div>
<div class="body">
<p>For example <code>[&quot;[type]&quot;]</code> becomes <code>[{ required: false, name: 'type' }]</code>.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">args</span>
<span class="dox_type">Array</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Command</span>
<span>for chaining
</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.parseExpectedArgs = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">args</span>) </span>{
  <span class="hljs-keyword">if</span> (!args.length) <span class="hljs-keyword">return</span>;
  <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;
  args.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">arg</span>) </span>{
    <span class="hljs-keyword">var</span> argDetails = {
      <span class="hljs-attr">required</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>,
      <span class="hljs-attr">variadic</span>: <span class="hljs-literal">false</span>
    };

    <span class="hljs-keyword">switch</span> (arg[<span class="hljs-number">0</span>]) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">'&lt;'</span>:
        argDetails.required = <span class="hljs-literal">true</span>;
        argDetails.name = arg.slice(<span class="hljs-number">1</span>, <span class="hljs-number">-1</span>);
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">'['</span>:
        argDetails.name = arg.slice(<span class="hljs-number">1</span>, <span class="hljs-number">-1</span>);
        <span class="hljs-keyword">break</span>;
    }

    <span class="hljs-keyword">if</span> (argDetails.name.length &gt; <span class="hljs-number">3</span> &amp;&amp; argDetails.name.slice(<span class="hljs-number">-3</span>) === <span class="hljs-string">'...'</span>) {
      argDetails.variadic = <span class="hljs-literal">true</span>;
      argDetails.name = argDetails.name.slice(<span class="hljs-number">0</span>, <span class="hljs-number">-3</span>);
    }
    <span class="hljs-keyword">if</span> (argDetails.name) {
      self._args.push(argDetails);
    }
  });
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<div class="dox">
<div class="summary">
<p>Register callback <code>fn</code> for the command.</p>
</div>
<div class="body">
<p>Examples:</p>
<pre><code> program
   .command('help')
   .description('display verbose help')
   .action(function() {
      // output help here
   });</code></pre>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">fn</span>
<span class="dox_type">Function</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Command</span>
<span>for chaining
</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.action = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fn</span>) </span>{
  <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;
  <span class="hljs-keyword">var</span> listener = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">args, unknown</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<p>Parse any so-far unknown options</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    args = args || [];
    unknown = unknown || [];

    <span class="hljs-keyword">var</span> parsed = self.parseOptions(unknown);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>Output help if necessary</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    outputHelpIfNecessary(self, parsed.unknown);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<p>If there are still any unknown options, then we simply
die, unless someone asked for help, in which case we give it
to them, and then we die.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (parsed.unknown.length &gt; <span class="hljs-number">0</span>) {
      self.unknownOption(parsed.unknown[<span class="hljs-number">0</span>]);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<p>Leftover arguments need to be pushed back. Fixes issue #56</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (parsed.args.length) args = parsed.args.concat(args);

    self._args.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">arg, i</span>) </span>{
      <span class="hljs-keyword">if</span> (arg.required &amp;&amp; args[i] == <span class="hljs-literal">null</span>) {
        self.missingArgument(arg.name);
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (arg.variadic) {
        <span class="hljs-keyword">if</span> (i !== self._args.length - <span class="hljs-number">1</span>) {
          self.variadicArgNotLast(arg.name);
        }

        args[i] = args.splice(i);
      }
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<p>Always append ourselves to the end of the arguments,
to make sure we match the number of arguments the user
expects</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (self._args.length) {
      args[self._args.length] = self;
    } <span class="hljs-keyword">else</span> {
      args.push(self);
    }

    fn.apply(self, args);
  };
  <span class="hljs-keyword">var</span> parent = <span class="hljs-keyword">this</span>.parent || <span class="hljs-keyword">this</span>;
  <span class="hljs-keyword">var</span> name = parent === <span class="hljs-keyword">this</span> ? <span class="hljs-string">'*'</span> : <span class="hljs-keyword">this</span>._name;
  parent.on(<span class="hljs-string">'command:'</span> + name, listener);
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._alias) parent.on(<span class="hljs-string">'command:'</span> + <span class="hljs-keyword">this</span>._alias, listener);
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<div class="dox">
<div class="summary">
<p>Define option with <code>flags</code>, <code>description</code> and optional
coercion <code>fn</code>.</p>
</div>
<div class="body">
<p>The <code>flags</code> string should contain both the short and long flags,
separated by comma, a pipe or space. The following are all valid
all will output this way when <code>--help</code> is used.</p>
<p>&quot;-p, --pepper&quot;
&quot;-p|--pepper&quot;
&quot;-p --pepper&quot;</p>
<p>Examples:</p>
<pre><code>// simple boolean defaulting to false
program.option('-p, --pepper', 'add pepper');
<p>--pepper
program.pepper
// =&gt; Boolean</p>
<p>// simple boolean defaulting to true
program.option('-C, --no-cheese', 'remove cheese');</p>
<p>program.cheese
// =&gt; true</p>
<p>--no-cheese
program.cheese
// =&gt; false</p>
<p>// required argument
program.option('-C, --chdir &lt;path&gt;', 'change the working directory');</p>
<p>--chdir /tmp
program.chdir
// =&gt; &quot;/tmp&quot;</p>
<p>// optional argument
program.option('-c, --cheese [type]', 'add cheese [marble]');</code></pre></p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">flags</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">description</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[fn]</span>
<span class="dox_type">Function</span>
<span>or default
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[defaultValue]</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Command</span>
<span>for chaining
</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.option = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">flags, description, fn, defaultValue</span>) </span>{
  <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>,
    option = <span class="hljs-keyword">new</span> Option(flags, description),
    oname = option.name(),
    name = option.attributeName();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22"></a>
</div>
<p>default as 3rd arg</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> fn !== <span class="hljs-string">'function'</span>) {
    <span class="hljs-keyword">if</span> (fn <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">RegExp</span>) {
      <span class="hljs-keyword">var</span> regex = fn;
      fn = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">val, def</span>) </span>{
        <span class="hljs-keyword">var</span> m = regex.exec(val);
        <span class="hljs-keyword">return</span> m ? m[<span class="hljs-number">0</span>] : def;
      };
    } <span class="hljs-keyword">else</span> {
      defaultValue = fn;
      fn = <span class="hljs-literal">null</span>;
    }
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23"></a>
</div>
<p>preassign default value only for --no-*, [optional], or <required></p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">if</span> (!option.bool || option.optional || option.required) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24"></a>
</div>
<p>when --no-* we make sure default is true</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (!option.bool) defaultValue = <span class="hljs-literal">true</span>;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25"></a>
</div>
<p>preassign only if we have a default</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (defaultValue !== <span class="hljs-literal">undefined</span>) {
      self[name] = defaultValue;
      option.defaultValue = defaultValue;
    }
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26"></a>
</div>
<p>register the option</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.options.push(option);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27"></a>
</div>
<p>when it's passed assign the value
and conditionally invoke the callback</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.on(<span class="hljs-string">'option:'</span> + oname, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">val</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28"></a>
</div>
<p>coercion</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (val !== <span class="hljs-literal">null</span> &amp;&amp; fn) {
      val = fn(val, self[name] === <span class="hljs-literal">undefined</span> ? defaultValue : self[name]);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29"></a>
</div>
<p>unassigned or bool</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> self[name] === <span class="hljs-string">'boolean'</span> || <span class="hljs-keyword">typeof</span> self[name] === <span class="hljs-string">'undefined'</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30"></a>
</div>
<p>if no value, bool true, and we have a default, then use it!</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">if</span> (val == <span class="hljs-literal">null</span>) {
        self[name] = option.bool
          ? defaultValue || <span class="hljs-literal">true</span>
          : <span class="hljs-literal">false</span>;
      } <span class="hljs-keyword">else</span> {
        self[name] = val;
      }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (val !== <span class="hljs-literal">null</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31"></a>
</div>
<p>reassign</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      self[name] = val;
    }
  });

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32"></a>
</div>
<div class="dox">
<div class="summary">
<p>Allow unknown options on the command line.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">arg</span>
<span class="dox_type">Boolean</span>
<span>if <code>true</code> or omitted, no error will be thrown for unknown options.
</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">Command.prototype.allowUnknownOption = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">arg</span>) </span>{
  <span class="hljs-keyword">this</span>._allowUnknownOption = <span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">0</span> || arg;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33"></a>
</div>
<div class="dox">
<div class="summary">
<p>Parse <code>argv</code>, settings options and invoking commands when defined.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">argv</span>
<span class="dox_type">Array</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Command</span>
<span>for chaining
</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.parse = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">argv</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34"></a>
</div>
<p>implicit help</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.executables) <span class="hljs-keyword">this</span>.addImplicitHelpCommand();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35"></a>
</div>
<p>store raw args</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.rawArgs = argv;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36"></a>
</div>
<p>guess name</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>._name = <span class="hljs-keyword">this</span>._name || basename(argv[<span class="hljs-number">1</span>], <span class="hljs-string">'.js'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-37" id="section-37"></a>
</div>
<p>github-style sub-commands with no sub-command</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.executables &amp;&amp; argv.length &lt; <span class="hljs-number">3</span> &amp;&amp; !<span class="hljs-keyword">this</span>.defaultExecutable) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-38" id="section-38"></a>
</div>
<p>this user needs help</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    argv.push(<span class="hljs-string">'--help'</span>);
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-39" id="section-39"></a>
</div>
<p>process argv</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">var</span> parsed = <span class="hljs-keyword">this</span>.parseOptions(<span class="hljs-keyword">this</span>.normalize(argv.slice(<span class="hljs-number">2</span>)));
  <span class="hljs-keyword">var</span> args = <span class="hljs-keyword">this</span>.args = parsed.args;

  <span class="hljs-keyword">var</span> result = <span class="hljs-keyword">this</span>.parseArgs(<span class="hljs-keyword">this</span>.args, parsed.unknown);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-40" id="section-40"></a>
</div>
<p>executable sub-commands</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">var</span> name = result.args[<span class="hljs-number">0</span>];

  <span class="hljs-keyword">var</span> aliasCommand = <span class="hljs-literal">null</span>;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-41" id="section-41"></a>
</div>
<p>check alias of sub commands</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">if</span> (name) {
    aliasCommand = <span class="hljs-keyword">this</span>.commands.filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">command</span>) </span>{
      <span class="hljs-keyword">return</span> command.alias() === name;
    })[<span class="hljs-number">0</span>];
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._execs[name] &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>._execs[name] !== <span class="hljs-string">'function'</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.executeSubCommand(argv, args, parsed.unknown);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (aliasCommand) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-42" id="section-42"></a>
</div>
<p>is alias of a subCommand</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    args[<span class="hljs-number">0</span>] = aliasCommand._name;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.executeSubCommand(argv, args, parsed.unknown);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.defaultExecutable) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-43" id="section-43"></a>
</div>
<p>use the default subcommand</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    args.unshift(<span class="hljs-keyword">this</span>.defaultExecutable);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.executeSubCommand(argv, args, parsed.unknown);
  }

  <span class="hljs-keyword">return</span> result;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-44" id="section-44"></a>
</div>
<div class="dox">
<div class="summary">
<p>Execute a sub-command executable.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">argv</span>
<span class="dox_type">Array</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">args</span>
<span class="dox_type">Array</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">unknown</span>
<span class="dox_type">Array</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.executeSubCommand = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">argv, args, unknown</span>) </span>{
  args = args.concat(unknown);

  <span class="hljs-keyword">if</span> (!args.length) <span class="hljs-keyword">this</span>.help();
  <span class="hljs-keyword">if</span> (args[<span class="hljs-number">0</span>] === <span class="hljs-string">'help'</span> &amp;&amp; args.length === <span class="hljs-number">1</span>) <span class="hljs-keyword">this</span>.help();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-45" id="section-45"></a>
</div>
<p><cmd> --help</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">if</span> (args[<span class="hljs-number">0</span>] === <span class="hljs-string">'help'</span>) {
    args[<span class="hljs-number">0</span>] = args[<span class="hljs-number">1</span>];
    args[<span class="hljs-number">1</span>] = <span class="hljs-string">'--help'</span>;
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-46" id="section-46"></a>
</div>
<p>executable</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">var</span> f = argv[<span class="hljs-number">1</span>];
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-47" id="section-47"></a>
</div>
<p>name of the subcommand, link <code>pm-install</code></p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">var</span> bin = basename(f, path.extname(f)) + <span class="hljs-string">'-'</span> + args[<span class="hljs-number">0</span>];

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-48" id="section-48"></a>
</div>
<p>In case of globally installed, get the base dir where executable
subcommand file should be located at</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">var</span> baseDir,
    link = fs.lstatSync(f).isSymbolicLink() ? fs.readlinkSync(f) : f;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-49" id="section-49"></a>
</div>
<p>when symbolink is relative path</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">if</span> (link !== f &amp;&amp; link.charAt(<span class="hljs-number">0</span>) !== <span class="hljs-string">'/'</span>) {
    link = path.join(dirname(f), link);
  }
  baseDir = dirname(link);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-50" id="section-50"></a>
</div>
<p>prefer local <code>./&lt;bin&gt;</code> to bin in the $PATH</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">var</span> localBin = path.join(baseDir, bin);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-51" id="section-51"></a>
</div>
<p>whether bin file is a js script with explicit <code>.js</code> or <code>.ts</code> extension</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">var</span> isExplicitJS = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">if</span> (exists(localBin + <span class="hljs-string">'.js'</span>)) {
    bin = localBin + <span class="hljs-string">'.js'</span>;
    isExplicitJS = <span class="hljs-literal">true</span>;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (exists(localBin + <span class="hljs-string">'.ts'</span>)) {
    bin = localBin + <span class="hljs-string">'.ts'</span>;
    isExplicitJS = <span class="hljs-literal">true</span>;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (exists(localBin)) {
    bin = localBin;
  }

  args = args.slice(<span class="hljs-number">1</span>);

  <span class="hljs-keyword">var</span> proc;
  <span class="hljs-keyword">if</span> (process.platform !== <span class="hljs-string">'win32'</span>) {
    <span class="hljs-keyword">if</span> (isExplicitJS) {
      args.unshift(bin);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-52" id="section-52"></a>
</div>
<p>add executable arguments to spawn</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      args = (process.execArgv || []).concat(args);

      proc = spawn(process.argv[<span class="hljs-number">0</span>], args, { <span class="hljs-attr">stdio</span>: <span class="hljs-string">'inherit'</span>, <span class="hljs-attr">customFds</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>] });
    } <span class="hljs-keyword">else</span> {
      proc = spawn(bin, args, { <span class="hljs-attr">stdio</span>: <span class="hljs-string">'inherit'</span>, <span class="hljs-attr">customFds</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>] });
    }
  } <span class="hljs-keyword">else</span> {
    args.unshift(bin);
    proc = spawn(process.execPath, args, { <span class="hljs-attr">stdio</span>: <span class="hljs-string">'inherit'</span> });
  }

  <span class="hljs-keyword">var</span> signals = [<span class="hljs-string">'SIGUSR1'</span>, <span class="hljs-string">'SIGUSR2'</span>, <span class="hljs-string">'SIGTERM'</span>, <span class="hljs-string">'SIGINT'</span>, <span class="hljs-string">'SIGHUP'</span>];
  signals.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">signal</span>) </span>{
    process.on(signal, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">if</span> (proc.killed === <span class="hljs-literal">false</span> &amp;&amp; proc.exitCode === <span class="hljs-literal">null</span>) {
        proc.kill(signal);
      }
    });
  });
  proc.on(<span class="hljs-string">'close'</span>, process.exit.bind(process));
  proc.on(<span class="hljs-string">'error'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) </span>{
    <span class="hljs-keyword">if</span> (err.code === <span class="hljs-string">'ENOENT'</span>) {
      <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'error: %s(1) does not exist, try --help'</span>, bin);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (err.code === <span class="hljs-string">'EACCES'</span>) {
      <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'error: %s(1) not executable. try chmod or run with root'</span>, bin);
    }
    process.exit(<span class="hljs-number">1</span>);
  });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-53" id="section-53"></a>
</div>
<p>Store the reference to the child process</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.runningCommand = proc;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-54" id="section-54"></a>
</div>
<div class="dox">
<div class="summary">
<p>Normalize <code>args</code>, splitting joined short flags. For example
the arg &quot;-abc&quot; is equivalent to &quot;-a -b -c&quot;.
This also normalizes equal sign and splits &quot;--abc=def&quot; into &quot;--abc def&quot;.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">args</span>
<span class="dox_type">Array</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Array</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.normalize = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">args</span>) </span>{
  <span class="hljs-keyword">var</span> ret = [],
    arg,
    lastOpt,
    index;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = args.length; i &lt; len; ++i) {
    arg = args[i];
    <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>) {
      lastOpt = <span class="hljs-keyword">this</span>.optionFor(args[i - <span class="hljs-number">1</span>]);
    }

    <span class="hljs-keyword">if</span> (arg === <span class="hljs-string">'--'</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-55" id="section-55"></a>
</div>
<p>Honor option terminator</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      ret = ret.concat(args.slice(i));
      <span class="hljs-keyword">break</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (lastOpt &amp;&amp; lastOpt.required) {
      ret.push(arg);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (arg.length &gt; <span class="hljs-number">1</span> &amp;&amp; arg[<span class="hljs-number">0</span>] === <span class="hljs-string">'-'</span> &amp;&amp; arg[<span class="hljs-number">1</span>] !== <span class="hljs-string">'-'</span>) {
      arg.slice(<span class="hljs-number">1</span>).split(<span class="hljs-string">''</span>).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
        ret.push(<span class="hljs-string">'-'</span> + c);
      });
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^--/</span>.test(arg) &amp;&amp; ~(index = arg.indexOf(<span class="hljs-string">'='</span>))) {
      ret.push(arg.slice(<span class="hljs-number">0</span>, index), arg.slice(index + <span class="hljs-number">1</span>));
    } <span class="hljs-keyword">else</span> {
      ret.push(arg);
    }
  }

  <span class="hljs-keyword">return</span> ret;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-56" id="section-56"></a>
</div>
<div class="dox">
<div class="summary">
<p>Parse command <code>args</code>.</p>
</div>
<div class="body">
<p>When listener(s) are available those
callbacks are invoked, otherwise the &quot;*&quot;
event is emitted and those actions are invoked.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">args</span>
<span class="dox_type">Array</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Command</span>
<span>for chaining
</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.parseArgs = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">args, unknown</span>) </span>{
  <span class="hljs-keyword">var</span> name;

  <span class="hljs-keyword">if</span> (args.length) {
    name = args[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.listeners(<span class="hljs-string">'command:'</span> + name).length) {
      <span class="hljs-keyword">this</span>.emit(<span class="hljs-string">'command:'</span> + args.shift(), args, unknown);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">this</span>.emit(<span class="hljs-string">'command:*'</span>, args);
    }
  } <span class="hljs-keyword">else</span> {
    outputHelpIfNecessary(<span class="hljs-keyword">this</span>, unknown);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-57" id="section-57"></a>
</div>
<p>If there were no args and we have unknown options,
then they are extraneous and we need to error.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (unknown.length &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">this</span>.unknownOption(unknown[<span class="hljs-number">0</span>]);
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.commands.length === <span class="hljs-number">0</span> &amp;&amp;
        <span class="hljs-keyword">this</span>._args.filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{ <span class="hljs-keyword">return</span> a.required }).length === <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">this</span>.emit(<span class="hljs-string">'command:*'</span>);
    }
  }

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-58" id="section-58"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return an option matching <code>arg</code> if any.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">arg</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Option</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.optionFor = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">arg</span>) </span>{
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = <span class="hljs-keyword">this</span>.options.length; i &lt; len; ++i) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options[i].is(arg)) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.options[i];
    }
  }
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-59" id="section-59"></a>
</div>
<div class="dox">
<div class="summary">
<p>Parse options from <code>argv</code> returning <code>argv</code>
void of these options.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">argv</span>
<span class="dox_type">Array</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Array</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.parseOptions = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">argv</span>) </span>{
  <span class="hljs-keyword">var</span> args = [],
    len = argv.length,
    literal,
    option,
    arg;

  <span class="hljs-keyword">var</span> unknownOptions = [];

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-60" id="section-60"></a>
</div>
<p>parse options</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; len; ++i) {
    arg = argv[i];

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-61" id="section-61"></a>
</div>
<p>literal args after --</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (literal) {
      args.push(arg);
      <span class="hljs-keyword">continue</span>;
    }

    <span class="hljs-keyword">if</span> (arg === <span class="hljs-string">'--'</span>) {
      literal = <span class="hljs-literal">true</span>;
      <span class="hljs-keyword">continue</span>;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-62" id="section-62"></a>
</div>
<p>find matching Option</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    option = <span class="hljs-keyword">this</span>.optionFor(arg);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-63" id="section-63"></a>
</div>
<p>option is defined</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (option) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-64" id="section-64"></a>
</div>
<p>requires arg</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">if</span> (option.required) {
        arg = argv[++i];
        <span class="hljs-keyword">if</span> (arg == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.optionMissingArgument(option);
        <span class="hljs-keyword">this</span>.emit(<span class="hljs-string">'option:'</span> + option.name(), arg);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-65" id="section-65"></a>
</div>
<p>optional arg</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (option.optional) {
        arg = argv[i + <span class="hljs-number">1</span>];
        <span class="hljs-keyword">if</span> (arg == <span class="hljs-literal">null</span> || (arg[<span class="hljs-number">0</span>] === <span class="hljs-string">'-'</span> &amp;&amp; arg !== <span class="hljs-string">'-'</span>)) {
          arg = <span class="hljs-literal">null</span>;
        } <span class="hljs-keyword">else</span> {
          ++i;
        }
        <span class="hljs-keyword">this</span>.emit(<span class="hljs-string">'option:'</span> + option.name(), arg);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-66" id="section-66"></a>
</div>
<p>bool</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">this</span>.emit(<span class="hljs-string">'option:'</span> + option.name());
      }
      <span class="hljs-keyword">continue</span>;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-67" id="section-67"></a>
</div>
<p>looks like an option</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (arg.length &gt; <span class="hljs-number">1</span> &amp;&amp; arg[<span class="hljs-number">0</span>] === <span class="hljs-string">'-'</span>) {
      unknownOptions.push(arg);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-68" id="section-68"></a>
</div>
<p>If the next argument looks like it might be
an argument for this option, we pass it on.
If it isn't, then it'll simply be ignored</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">if</span> ((i + <span class="hljs-number">1</span>) &lt; argv.length &amp;&amp; argv[i + <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] !== <span class="hljs-string">'-'</span>) {
        unknownOptions.push(argv[++i]);
      }
      <span class="hljs-keyword">continue</span>;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-69" id="section-69"></a>
</div>
<p>arg</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    args.push(arg);
  }

  <span class="hljs-keyword">return</span> { <span class="hljs-attr">args</span>: args, <span class="hljs-attr">unknown</span>: unknownOptions };
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-70" id="section-70"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return an object containing options as key-value pairs</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Object</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">Command.prototype.opts = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> result = {},
    len = <span class="hljs-keyword">this</span>.options.length;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) {
    <span class="hljs-keyword">var</span> key = <span class="hljs-keyword">this</span>.options[i].attributeName();
    result[key] = key === <span class="hljs-keyword">this</span>._versionOptionName ? <span class="hljs-keyword">this</span>._version : <span class="hljs-keyword">this</span>[key];
  }
  <span class="hljs-keyword">return</span> result;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-71" id="section-71"></a>
</div>
<div class="dox">
<div class="summary">
<p>Argument <code>name</code> is missing.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">name</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.missingArgument = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
  <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"error: missing required argument `%s'"</span>, name);
  process.exit(<span class="hljs-number">1</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-72" id="section-72"></a>
</div>
<div class="dox">
<div class="summary">
<p><code>Option</code> is missing an argument, but received <code>flag</code> or nothing.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">option</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">flag</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.optionMissingArgument = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">option, flag</span>) </span>{
  <span class="hljs-keyword">if</span> (flag) {
    <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"error: option `%s' argument missing, got `%s'"</span>, option.flags, flag);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"error: option `%s' argument missing"</span>, option.flags);
  }
  process.exit(<span class="hljs-number">1</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-73" id="section-73"></a>
</div>
<div class="dox">
<div class="summary">
<p>Unknown option <code>flag</code>.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">flag</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.unknownOption = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">flag</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._allowUnknownOption) <span class="hljs-keyword">return</span>;
  <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"error: unknown option `%s'"</span>, flag);
  process.exit(<span class="hljs-number">1</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-74" id="section-74"></a>
</div>
<div class="dox">
<div class="summary">
<p>Variadic argument with <code>name</code> is not the last argument as required.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">name</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.variadicArgNotLast = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
  <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"error: variadic arguments must be last `%s'"</span>, name);
  process.exit(<span class="hljs-number">1</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-75" id="section-75"></a>
</div>
<div class="dox">
<div class="summary">
<p>Set the program version to <code>str</code>.</p>
</div>
<div class="body">
<p>This method auto-registers the &quot;-V, --version&quot; flag
which will print the version number when passed.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">str</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[flags]</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Command</span>
<span>for chaining
</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.version = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">str, flags</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._version;
  <span class="hljs-keyword">this</span>._version = str;
  flags = flags || <span class="hljs-string">'-V, --version'</span>;
  <span class="hljs-keyword">var</span> versionOption = <span class="hljs-keyword">new</span> Option(flags, <span class="hljs-string">'output the version number'</span>);
  <span class="hljs-keyword">this</span>._versionOptionName = versionOption.long.substr(<span class="hljs-number">2</span>) || <span class="hljs-string">'version'</span>;
  <span class="hljs-keyword">this</span>.options.push(versionOption);
  <span class="hljs-keyword">this</span>.on(<span class="hljs-string">'option:'</span> + <span class="hljs-keyword">this</span>._versionOptionName, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    process.stdout.write(str + <span class="hljs-string">'\n'</span>);
    process.exit(<span class="hljs-number">0</span>);
  });
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-76" id="section-76"></a>
</div>
<div class="dox">
<div class="summary">
<p>Set the description to <code>str</code>.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">str</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">argsDescription</span>
<span class="dox_type">Object</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">String</span>
<span class="dox_type">Command</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.description = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">str, argsDescription</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._description;
  <span class="hljs-keyword">this</span>._description = str;
  <span class="hljs-keyword">this</span>._argsDescription = argsDescription;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-77" id="section-77"></a>
</div>
<div class="dox">
<div class="summary">
<p>Set an alias for the command</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">alias</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">String</span>
<span class="dox_type">Command</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.alias = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">alias</span>) </span>{
  <span class="hljs-keyword">var</span> command = <span class="hljs-keyword">this</span>;
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.commands.length !== <span class="hljs-number">0</span>) {
    command = <span class="hljs-keyword">this</span>.commands[<span class="hljs-keyword">this</span>.commands.length - <span class="hljs-number">1</span>];
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> command._alias;

  <span class="hljs-keyword">if</span> (alias === command._name) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Command alias can\'t be the same as its name'</span>);

  command._alias = alias;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-78" id="section-78"></a>
</div>
<div class="dox">
<div class="summary">
<p>Set / get the command usage <code>str</code>.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">str</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">String</span>
<span class="dox_type">Command</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.usage = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">str</span>) </span>{
  <span class="hljs-keyword">var</span> args = <span class="hljs-keyword">this</span>._args.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">arg</span>) </span>{
    <span class="hljs-keyword">return</span> humanReadableArgName(arg);
  });

  <span class="hljs-keyword">var</span> usage = <span class="hljs-string">'[options]'</span> +
    (<span class="hljs-keyword">this</span>.commands.length ? <span class="hljs-string">' [command]'</span> : <span class="hljs-string">''</span>) +
    (<span class="hljs-keyword">this</span>._args.length ? <span class="hljs-string">' '</span> + args.join(<span class="hljs-string">' '</span>) : <span class="hljs-string">''</span>);

  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._usage || usage;
  <span class="hljs-keyword">this</span>._usage = str;

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-79" id="section-79"></a>
</div>
<div class="dox">
<div class="summary">
<p>Get or set the name of the command</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">str</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">String</span>
<span class="dox_type">Command</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.name = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">str</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._name;
  <span class="hljs-keyword">this</span>._name = str;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-80" id="section-80"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return prepared commands.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Array</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.prepareCommands = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.commands.filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">cmd</span>) </span>{
    <span class="hljs-keyword">return</span> !cmd._noHelp;
  }).map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">cmd</span>) </span>{
    <span class="hljs-keyword">var</span> args = cmd._args.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">arg</span>) </span>{
      <span class="hljs-keyword">return</span> humanReadableArgName(arg);
    }).join(<span class="hljs-string">' '</span>);

    <span class="hljs-keyword">return</span> [
      cmd._name +
        (cmd._alias ? <span class="hljs-string">'|'</span> + cmd._alias : <span class="hljs-string">''</span>) +
        (cmd.options.length ? <span class="hljs-string">' [options]'</span> : <span class="hljs-string">''</span>) +
        (args ? <span class="hljs-string">' '</span> + args : <span class="hljs-string">''</span>),
      cmd._description
    ];
  });
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-81" id="section-81"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return the largest command length.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Number</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.largestCommandLength = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> commands = <span class="hljs-keyword">this</span>.prepareCommands();
  <span class="hljs-keyword">return</span> commands.reduce(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">max, command</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.max(max, command[<span class="hljs-number">0</span>].length);
  }, <span class="hljs-number">0</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-82" id="section-82"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return the largest option length.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Number</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.largestOptionLength = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> options = [].slice.call(<span class="hljs-keyword">this</span>.options);
  options.push({
    <span class="hljs-attr">flags</span>: <span class="hljs-string">'-h, --help'</span>
  });
  <span class="hljs-keyword">return</span> options.reduce(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">max, option</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.max(max, option.flags.length);
  }, <span class="hljs-number">0</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-83" id="section-83"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return the largest arg length.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Number</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.largestArgLength = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._args.reduce(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">max, arg</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.max(max, arg.name.length);
  }, <span class="hljs-number">0</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-84" id="section-84"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return the pad width.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Number</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.padWidth = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> width = <span class="hljs-keyword">this</span>.largestOptionLength();
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._argsDescription &amp;&amp; <span class="hljs-keyword">this</span>._args.length) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.largestArgLength() &gt; width) {
      width = <span class="hljs-keyword">this</span>.largestArgLength();
    }
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.commands &amp;&amp; <span class="hljs-keyword">this</span>.commands.length) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.largestCommandLength() &gt; width) {
      width = <span class="hljs-keyword">this</span>.largestCommandLength();
    }
  }

  <span class="hljs-keyword">return</span> width;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-85" id="section-85"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return help for options.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.optionHelp = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> width = <span class="hljs-keyword">this</span>.padWidth();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-86" id="section-86"></a>
</div>
<p>Append the help information</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.options.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">option</span>) </span>{
    <span class="hljs-keyword">return</span> pad(option.flags, width) + <span class="hljs-string">'  '</span> + option.description +
      ((option.bool &amp;&amp; option.defaultValue !== <span class="hljs-literal">undefined</span>) ? <span class="hljs-string">' (default: '</span> + <span class="hljs-built_in">JSON</span>.stringify(option.defaultValue) + <span class="hljs-string">')'</span> : <span class="hljs-string">''</span>);
  }).concat([pad(<span class="hljs-string">'-h, --help'</span>, width) + <span class="hljs-string">'  '</span> + <span class="hljs-string">'output usage information'</span>])
    .join(<span class="hljs-string">'\n'</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-87" id="section-87"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return command help documentation.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.commandHelp = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.commands.length) <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;

  <span class="hljs-keyword">var</span> commands = <span class="hljs-keyword">this</span>.prepareCommands();
  <span class="hljs-keyword">var</span> width = <span class="hljs-keyword">this</span>.padWidth();

  <span class="hljs-keyword">return</span> [
    <span class="hljs-string">'Commands:'</span>,
    commands.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">cmd</span>) </span>{
      <span class="hljs-keyword">var</span> desc = cmd[<span class="hljs-number">1</span>] ? <span class="hljs-string">'  '</span> + cmd[<span class="hljs-number">1</span>] : <span class="hljs-string">''</span>;
      <span class="hljs-keyword">return</span> (desc ? pad(cmd[<span class="hljs-number">0</span>], width) : cmd[<span class="hljs-number">0</span>]) + desc;
    }).join(<span class="hljs-string">'\n'</span>).replace(<span class="hljs-regexp">/^/gm</span>, <span class="hljs-string">'  '</span>),
    <span class="hljs-string">''</span>
  ].join(<span class="hljs-string">'\n'</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-88" id="section-88"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return program help documentation.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.helpInformation = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> desc = [];
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._description) {
    desc = [
      <span class="hljs-keyword">this</span>._description,
      <span class="hljs-string">''</span>
    ];

    <span class="hljs-keyword">var</span> argsDescription = <span class="hljs-keyword">this</span>._argsDescription;
    <span class="hljs-keyword">if</span> (argsDescription &amp;&amp; <span class="hljs-keyword">this</span>._args.length) {
      <span class="hljs-keyword">var</span> width = <span class="hljs-keyword">this</span>.padWidth();
      desc.push(<span class="hljs-string">'Arguments:'</span>);
      desc.push(<span class="hljs-string">''</span>);
      <span class="hljs-keyword">this</span>._args.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">arg</span>) </span>{
        desc.push(<span class="hljs-string">'  '</span> + pad(arg.name, width) + <span class="hljs-string">'  '</span> + argsDescription[arg.name]);
      });
      desc.push(<span class="hljs-string">''</span>);
    }
  }

  <span class="hljs-keyword">var</span> cmdName = <span class="hljs-keyword">this</span>._name;
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._alias) {
    cmdName = cmdName + <span class="hljs-string">'|'</span> + <span class="hljs-keyword">this</span>._alias;
  }
  <span class="hljs-keyword">var</span> usage = [
    <span class="hljs-string">'Usage: '</span> + cmdName + <span class="hljs-string">' '</span> + <span class="hljs-keyword">this</span>.usage(),
    <span class="hljs-string">''</span>
  ];

  <span class="hljs-keyword">var</span> cmds = [];
  <span class="hljs-keyword">var</span> commandHelp = <span class="hljs-keyword">this</span>.commandHelp();
  <span class="hljs-keyword">if</span> (commandHelp) cmds = [commandHelp];

  <span class="hljs-keyword">var</span> options = [
    <span class="hljs-string">'Options:'</span>,
    <span class="hljs-string">''</span> + <span class="hljs-keyword">this</span>.optionHelp().replace(<span class="hljs-regexp">/^/gm</span>, <span class="hljs-string">'  '</span>),
    <span class="hljs-string">''</span>
  ];

  <span class="hljs-keyword">return</span> usage
    .concat(desc)
    .concat(options)
    .concat(cmds)
    .join(<span class="hljs-string">'\n'</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-89" id="section-89"></a>
</div>
<div class="dox">
<div class="summary">
<p>Output help information for this command</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.outputHelp = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">cb</span>) </span>{
  <span class="hljs-keyword">if</span> (!cb) {
    cb = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">passthru</span>) </span>{
      <span class="hljs-keyword">return</span> passthru;
    };
  }
  process.stdout.write(cb(<span class="hljs-keyword">this</span>.helpInformation()));
  <span class="hljs-keyword">this</span>.emit(<span class="hljs-string">'--help'</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-90" id="section-90"></a>
</div>
<div class="dox">
<div class="summary">
<p>Output help information and exit.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Command.prototype.help = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">cb</span>) </span>{
  <span class="hljs-keyword">this</span>.outputHelp(cb);
  process.exit();
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-91" id="section-91"></a>
</div>
<div class="dox">
<div class="summary">
<p>Camel-case the given <code>flag</code></p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">flag</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">camelcase</span>(<span class="hljs-params">flag</span>) </span>{
  <span class="hljs-keyword">return</span> flag.split(<span class="hljs-string">'-'</span>).reduce(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">str, word</span>) </span>{
    <span class="hljs-keyword">return</span> str + word[<span class="hljs-number">0</span>].toUpperCase() + word.slice(<span class="hljs-number">1</span>);
  });
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-92" id="section-92"></a>
</div>
<div class="dox">
<div class="summary">
<p>Pad <code>str</code> to <code>width</code>.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">str</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">width</span>
<span class="dox_type">Number</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pad</span>(<span class="hljs-params">str, width</span>) </span>{
  <span class="hljs-keyword">var</span> len = <span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>, width - str.length);
  <span class="hljs-keyword">return</span> str + <span class="hljs-built_in">Array</span>(len + <span class="hljs-number">1</span>).join(<span class="hljs-string">' '</span>);
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-93" id="section-93"></a>
</div>
<div class="dox">
<div class="summary">
<p>Output help information if necessary</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">command</span>
<span class="dox_type">Command</span>
<span>to output help for
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">array</span>
<span class="dox_type">Array</span>
<span>of options to search for -h or --help
</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">outputHelpIfNecessary</span>(<span class="hljs-params">cmd, options</span>) </span>{
  options = options || [];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; options.length; i++) {
    <span class="hljs-keyword">if</span> (options[i] === <span class="hljs-string">'--help'</span> || options[i] === <span class="hljs-string">'-h'</span>) {
      cmd.outputHelp();
      process.exit(<span class="hljs-number">0</span>);
    }
  }
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-94" id="section-94"></a>
</div>
<div class="dox">
<div class="summary">
<p>Takes an argument an returns its human readable equivalent for help usage.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">arg</span>
<span class="dox_type">Object</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">humanReadableArgName</span>(<span class="hljs-params">arg</span>) </span>{
  <span class="hljs-keyword">var</span> nameOutput = arg.name + (arg.variadic === <span class="hljs-literal">true</span> ? <span class="hljs-string">'...'</span> : <span class="hljs-string">''</span>);

  <span class="hljs-keyword">return</span> arg.required
    ? <span class="hljs-string">'&lt;'</span> + nameOutput + <span class="hljs-string">'&gt;'</span>
    : <span class="hljs-string">'['</span> + nameOutput + <span class="hljs-string">']'</span>;
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-95" id="section-95"></a>
</div>
<p>for versions before node v0.8 when there weren't <code>fs.existsSync</code></p>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">exists</span>(<span class="hljs-params">file</span>) </span>{
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">if</span> (fs.statSync(file).isFile()) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
}

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
