<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules\\graphql-request\\README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#graphql-request">graphql-request</a>
      </div>

      <div class="heading h2">
        <a href="#features">Features</a>
      </div>

      <div class="heading h2">
        <a href="#install">Install</a>
      </div>

      <div class="heading h2">
        <a href="#quickstart">Quickstart</a>
      </div>

      <div class="heading h2">
        <a href="#usage">Usage</a>
      </div>

      <div class="heading h2">
        <a href="#examples">Examples</a>
      </div>

      <div class="heading h3">
        <a href="#authentication-via-http-header">Authentication via HTTP header</a>
      </div>

      <div class="heading h3">
        <a href="#passing-more-options-to-fetch">Passing more options to fetch</a>
      </div>

      <div class="heading h3">
        <a href="#using-variables">Using variables</a>
      </div>

      <div class="heading h3">
        <a href="#error-handling">Error handling</a>
      </div>

      <div class="heading h3">
        <a href="#using-require-instead-of-import">Using require instead of import</a>
      </div>

      <div class="heading h3">
        <a href="#cookie-support-for-node">Cookie support for node</a>
      </div>

      <div class="heading h3">
        <a href="#receiving-a-raw-response">Receiving a raw response</a>
      </div>

      <div class="heading h3">
        <a href="#more-examples-coming-soon">More examples coming soon...</a>
      </div>

      <div class="heading h2">
        <a href="#faq">FAQ</a>
      </div>

      <div class="heading h3">
        <a href="#whats-the-difference-between-graphql-request-apollo-and-relay">What&#39;s the difference between graphql-request, Apollo and Relay?</a>
      </div>

      <div class="heading h3">
        <a href="#so-what-about-lokka">So what about Lokka?</a>
      </div>

      <div class="heading h2">
        <a href="#help-and-community">Help &amp;amp; Community </a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="graphql-request">
  <h1>
    <a href="#graphql-request" name="graphql-request" class="pilcrow"></a>
graphql-request
  </h1>
</div>
<p><a href="https://circleci.com/gh/prismagraphql/graphql-request"><img src="https://circleci.com/gh/prismagraphql/graphql-request.svg?style=shield" alt="CircleCI"></a> <a href="https://badge.fury.io/js/graphql-request"><img src="https://badge.fury.io/js/graphql-request.svg" alt="npm version"></a></p>
<p>üì° Minimal GraphQL client supporting Node and browsers for scripts or simple apps</p>
<div class="pilwrap" id="features">
  <h2>
    <a href="#features" name="features" class="pilcrow"></a>
Features
  </h2>
</div>
<ul>
<li>Most <strong>simple and lightweight</strong> GraphQL client</li>
<li>Promise-based API (works with <code>async</code> / <code>await</code>)</li>
<li>Typescript support (Flow coming soon)</li>
</ul>
<div class="pilwrap" id="install">
  <h2>
    <a href="#install" name="install" class="pilcrow"></a>
Install
  </h2>
</div>
<pre><code class="sh">npm install graphql-request
</code></pre>
<div class="pilwrap" id="quickstart">
  <h2>
    <a href="#quickstart" name="quickstart" class="pilcrow"></a>
Quickstart
  </h2>
</div>
<p>Send a GraphQL query with a single line of code. ‚ñ∂Ô∏è <a href="https://runkit.com/593130bdfad7120012472003/593130bdfad7120012472004">Try it out</a>.</p>
<pre><code class="js"><span class="hljs-keyword">import</span> { request } <span class="hljs-keyword">from</span> <span class="hljs-string">'graphql-request'</span>

<span class="hljs-keyword">const</span> query = <span class="hljs-string">`{
  Movie(title: "Inception") {
    releaseDate
    actors {
      name
    }
  }
}`</span>

request(<span class="hljs-string">'https://api.graph.cool/simple/v1/movies'</span>, query).then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data))
</code></pre>
<div class="pilwrap" id="usage">
  <h2>
    <a href="#usage" name="usage" class="pilcrow"></a>
Usage
  </h2>
</div>
<pre><code class="js"><span class="hljs-keyword">import</span> { request, GraphQLClient } <span class="hljs-keyword">from</span> <span class="hljs-string">'graphql-request'</span>

<span class="hljs-comment">// Run GraphQL queries/mutations using a static function</span>
request(endpoint, query, variables).then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data))

<span class="hljs-comment">// ... or create a GraphQL client instance to send requests</span>
<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> GraphQLClient(endpoint, { <span class="hljs-attr">headers</span>: {} })
client.request(query, variables).then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data))
</code></pre>
<div class="pilwrap" id="examples">
  <h2>
    <a href="#examples" name="examples" class="pilcrow"></a>
Examples
  </h2>
</div>
<div class="pilwrap" id="authentication-via-http-header">
  <h3>
    <a href="#authentication-via-http-header" name="authentication-via-http-header" class="pilcrow"></a>
Authentication via HTTP header
  </h3>
</div>
<pre><code class="js"><span class="hljs-keyword">import</span> { GraphQLClient } <span class="hljs-keyword">from</span> <span class="hljs-string">'graphql-request'</span>

<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> GraphQLClient(<span class="hljs-string">'my-endpoint'</span>, {
  <span class="hljs-attr">headers</span>: {
    <span class="hljs-attr">Authorization</span>: <span class="hljs-string">'Bearer my-jwt-token'</span>,
  },
})

<span class="hljs-keyword">const</span> query = <span class="hljs-string">`{
  Movie(title: "Inception") {
    releaseDate
    actors {
      name
    }
  }
}`</span>

client.request(query).then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data))
</code></pre>
<div class="pilwrap" id="passing-more-options-to-fetch">
  <h3>
    <a href="#passing-more-options-to-fetch" name="passing-more-options-to-fetch" class="pilcrow"></a>
Passing more options to fetch
  </h3>
</div>
<pre><code class="js"><span class="hljs-keyword">import</span> { GraphQLClient } <span class="hljs-keyword">from</span> <span class="hljs-string">'graphql-request'</span>

<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> GraphQLClient(<span class="hljs-string">'my-endpoint'</span>, {
 <span class="hljs-attr">credentials</span>: <span class="hljs-string">'include'</span>,
 <span class="hljs-attr">mode</span>: <span class="hljs-string">'cors'</span>
})

<span class="hljs-keyword">const</span> query = <span class="hljs-string">`{
  Movie(title: "Inception") {
    releaseDate
    actors {
      name
    }
  }
}`</span>

client.request(query).then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data))
</code></pre>
<div class="pilwrap" id="using-variables">
  <h3>
    <a href="#using-variables" name="using-variables" class="pilcrow"></a>
Using variables
  </h3>
</div>
<pre><code class="js"><span class="hljs-keyword">import</span> { request } <span class="hljs-keyword">from</span> <span class="hljs-string">'graphql-request'</span>

<span class="hljs-keyword">const</span> query = <span class="hljs-string">`query getMovie($title: String!) {
  Movie(title: $title) {
    releaseDate
    actors {
      name
    }
  }
}`</span>

<span class="hljs-keyword">const</span> variables = {
  <span class="hljs-attr">title</span>: <span class="hljs-string">'Inception'</span>,
}

request(<span class="hljs-string">'my-endpoint'</span>, query, variables).then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data))
</code></pre>
<div class="pilwrap" id="error-handling">
  <h3>
    <a href="#error-handling" name="error-handling" class="pilcrow"></a>
Error handling
  </h3>
</div>
<pre><code class="js"><span class="hljs-keyword">import</span> { request } <span class="hljs-keyword">from</span> <span class="hljs-string">'graphql-request'</span>

<span class="hljs-keyword">const</span> wrongQuery = <span class="hljs-string">`{
  some random stuff
}`</span>

request(<span class="hljs-string">'my-endpoint'</span>, query)
  .then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data))
  .catch(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(err.response.errors) <span class="hljs-comment">// GraphQL response errors</span>
    <span class="hljs-built_in">console</span>.log(err.response.data) <span class="hljs-comment">// Response data if available</span>
  })
</code></pre>
<div class="pilwrap" id="using-require-instead-of-import">
  <h3>
    <a href="#using-require-instead-of-import" name="using-require-instead-of-import" class="pilcrow"></a>
Using <code>require</code> instead of <code>import</code>
  </h3>
</div>
<pre><code class="js"><span class="hljs-keyword">const</span> { request } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'graphql-request'</span>)

<span class="hljs-keyword">const</span> query = <span class="hljs-string">`{
  Movie(title: "Inception") {
    releaseDate
    actors {
      name
    }
  }
}`</span>

request(<span class="hljs-string">'my-endpoint'</span>, query).then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data))
</code></pre>
<div class="pilwrap" id="cookie-support-for-node">
  <h3>
    <a href="#cookie-support-for-node" name="cookie-support-for-node" class="pilcrow"></a>
Cookie support for <code>node</code>
  </h3>
</div>
<pre><code class="sh">npm install fetch-cookie/node-fetch
</code></pre>
<pre><code class="js"><span class="hljs-keyword">import</span> { GraphQLClient } <span class="hljs-keyword">from</span> <span class="hljs-string">'graphql-request'</span>

<span class="hljs-comment">// use this instead for cookie support</span>
global[<span class="hljs-string">'fetch'</span>] = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fetch-cookie/node-fetch'</span>)(<span class="hljs-built_in">require</span>(<span class="hljs-string">'node-fetch'</span>))

<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> GraphQLClient(<span class="hljs-string">'my-endpoint'</span>)

<span class="hljs-keyword">const</span> query = <span class="hljs-string">`{
  Movie(title: "Inception") {
    releaseDate
    actors {
      name
    }
  }
}`</span>

client.request(query).then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data))
</code></pre>
<div class="pilwrap" id="receiving-a-raw-response">
  <h3>
    <a href="#receiving-a-raw-response" name="receiving-a-raw-response" class="pilcrow"></a>
Receiving a raw response
  </h3>
</div>
<p>The <code>request</code> method will return the <code>data</code> or <code>errors</code> key from the response.
If you need to access the <code>extensions</code> key you can use the <code>rawRequest</code> method:</p>
<pre><code class="js"><span class="hljs-keyword">import</span> { rawRequest } <span class="hljs-keyword">from</span> <span class="hljs-string">'graphql-request'</span>

<span class="hljs-keyword">const</span> query = <span class="hljs-string">`{
  Movie(title: "Inception") {
    releaseDate
    actors {
      name
    }
  }
}`</span>

rawRequest(<span class="hljs-string">'my-endpoint'</span>, query).then(<span class="hljs-function">(<span class="hljs-params">{data, extensions}</span>) =&gt;</span> <span class="hljs-built_in">console</span>.log(data, extensions))
</code></pre>
<div class="pilwrap" id="more-examples-coming-soon">
  <h3>
    <a href="#more-examples-coming-soon" name="more-examples-coming-soon" class="pilcrow"></a>
More examples coming soon...
  </h3>
</div>
<ul>
<li>Fragments</li>
<li>Using <a href="https://github.com/apollographql/graphql-tag"><code>graphql-tag</code></a></li>
<li>Typed Typescript return values</li>
</ul>
<div class="pilwrap" id="faq">
  <h2>
    <a href="#faq" name="faq" class="pilcrow"></a>
FAQ
  </h2>
</div>
<div class="pilwrap" id="whats-the-difference-between-graphql-request-apollo-and-relay">
  <h3>
    <a href="#whats-the-difference-between-graphql-request-apollo-and-relay" name="whats-the-difference-between-graphql-request-apollo-and-relay" class="pilcrow"></a>
What's the difference between <code>graphql-request</code>, Apollo and Relay?
  </h3>
</div>
<p><code>graphql-request</code> is the most minimal and simplest to use GraphQL client. It's perfect for small scripts or simple apps.</p>
<p>Compared to GraphQL clients like Apollo or Relay, <code>graphql-request</code> doesn't have a built-in cache and has no integrations for frontend frameworks. The goal is to keep the package and API as minimal as possible.</p>
<div class="pilwrap" id="so-what-about-lokka">
  <h3>
    <a href="#so-what-about-lokka" name="so-what-about-lokka" class="pilcrow"></a>
So what about Lokka?
  </h3>
</div>
<p>Lokka is great but it still requires <a href="https://github.com/kadirahq/lokka-transport-http">a lot of setup code</a> to be able to send a simple GraphQL query. <code>graphql-request</code> does less work compared to Lokka but is a lot simpler to use.</p>
<div class="pilwrap" id="help-and-community">
  <h2>
    <a href="#help-and-community" name="help-and-community" class="pilcrow"></a>
Help &amp; Community <a href="https://slack.prisma.io"><img src="https://slack.prisma.io/badge.svg" alt="Slack Status"></a>
  </h2>
</div>
<p>Join our <a href="http://slack.prisma.io/">Slack community</a> if you run into issues or have questions. We love talking to you!</p>
<p align="center"><a href="https://oss.prisma.io"><img src="https://imgur.com/IMU2ERq.png" alt="Prisma" height="170px"></a></p>
</div>
  </div>
</body>
</html>
