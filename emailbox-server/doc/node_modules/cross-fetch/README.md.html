<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules\\cross-fetch\\README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#cross-fetch">cross-fetch





</a>
      </div>

      <div class="heading h2">
        <a href="#table-of-contents">Table of Contents</a>
      </div>

      <div class="heading h2">
        <a href="#install">Install</a>
      </div>

      <div class="heading h2">
        <a href="#usage">Usage</a>
      </div>

      <div class="heading h2">
        <a href="#demo-and-api">Demo &amp;amp; API</a>
      </div>

      <div class="heading h2">
        <a href="#faq">FAQ</a>
      </div>

      <div class="heading h4">
        <a href="#yet-another-fetch-library">Yet another fetch library?</a>
      </div>

      <div class="heading h4">
        <a href="#why-not-isomorphic-fetch">Why not isomorphic-fetch?</a>
      </div>

      <div class="heading h4">
        <a href="#why-polyfill-might-not-be-a-good-idea">Why polyfill might not be a good idea?</a>
      </div>

      <div class="heading h4">
        <a href="#how-does-cross-fetch-work">How does cross-fetch work?</a>
      </div>

      <div class="heading h2">
        <a href="#whos-using-it">Who&#39;s Using It?</a>
      </div>

      <div class="heading h2">
        <a href="#supported-environments">Supported environments</a>
      </div>

      <div class="heading h2">
        <a href="#thanks">Thanks</a>
      </div>

      <div class="heading h2">
        <a href="#license">License</a>
      </div>

      <div class="heading h2">
        <a href="#author">Author</a>
      </div>

      <div class="heading h2">
        <a href="#sponsors">Sponsors</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="cross-fetch">
  <h1>
    <a href="#cross-fetch" name="cross-fetch" class="pilcrow"></a>
cross-fetch<br>
<a href="https://travis-ci.org/lquixada/cross-fetch"><img src="https://travis-ci.org/lquixada/cross-fetch.svg?branch=master" alt="Build Status"></a>
<a href="https://saucelabs.com/u/cross-fetch"><img src="https://saucelabs.com/buildstatus/cross-fetch" alt="Build Status"></a>
<a href="https://codecov.io/gh/lquixada/cross-fetch"><img src="https://codecov.io/gh/lquixada/cross-fetch/branch/master/graph/badge.svg" alt="codecov"></a>
<a href="https://david-dm.org/lquixada/cross-fetch"><img src="https://david-dm.org/lquixada/cross-fetch/status.svg" alt="dependencies Status"></a>
<a href="https://www.npmjs.com/package/cross-fetch"><img src="https://img.shields.io/npm/v/cross-fetch.svg?branch=master" alt="NPM Version"></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="License: MIT"></a>
  </h1>
</div>
<p>Universal WHATWG Fetch API for Node, Browsers and React Native. The scenario that cross-fetch really shines is when the same javascript codebase needs to run on different platforms.</p>
<ul>
<li><strong>Platform agnostic</strong>: browsers, node or react native</li>
<li><strong>Optional polyfill</strong>: it's up to you if something is going to be added to the global object or not</li>
<li><strong>Simple interface</strong>: no instantiation, no configuration and no extra dependency</li>
<li><strong>WHATWG compliant</strong>: it works the same way wherever your code runs</li>
<li><strong>Updated</strong>: lastest version of whatwg-fetch and node-fetch used</li>
</ul>
<hr>
<div class="pilwrap" id="table-of-contents">
  <h2>
    <a href="#table-of-contents" name="table-of-contents" class="pilcrow"></a>
Table of Contents
  </h2>
</div>
<ul>
<li><a href="#install.html">Install</a></li>
<li><a href="#usage.html">Usage</a></li>
<li><a href="#demo--api.html">Demo &amp; API</a></li>
<li><a href="#faq.html">FAQ</a></li>
<li><a href="#supported-environments.html">Supported environments</a></li>
<li><a href="#thanks.html">Thanks</a></li>
<li><a href="#license.html">License</a></li>
<li><a href="#author.html">Author</a></li>
<li><a href="#sponsors.html">Sponsors</a></li>
</ul>
<hr>
<div class="pilwrap" id="install">
  <h2>
    <a href="#install" name="install" class="pilcrow"></a>
Install
  </h2>
</div>
<pre><code class="sh">npm install --save cross-fetch
</code></pre>
<p>As a <a href="https://github.com/sindresorhus/ponyfill">ponyfill</a>:</p>
<pre><code class="javascript"><span class="hljs-comment">// Using ES6 modules with Babel or TypeScript</span>
<span class="hljs-keyword">import</span> fetch <span class="hljs-keyword">from</span> <span class="hljs-string">'cross-fetch'</span>;

<span class="hljs-comment">// Using CommonJS modules</span>
<span class="hljs-keyword">const</span> fetch = <span class="hljs-built_in">require</span>(<span class="hljs-string">'cross-fetch'</span>);
</code></pre>
<p>As a polyfill:</p>
<pre><code class="javascript"><span class="hljs-comment">// Using ES6 modules</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'cross-fetch/polyfill'</span>;

<span class="hljs-comment">// Using CommonJS modules</span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">'cross-fetch/polyfill'</span>);
</code></pre>
<p>The CDN build is also available on unpkg:</p>
<pre><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"//unpkg.com/cross-fetch/dist/cross-fetch.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>This adds the fetch function to the window object. Note that this is not UMD compatible.</p>
<hr>
<div class="pilwrap" id="usage">
  <h2>
    <a href="#usage" name="usage" class="pilcrow"></a>
Usage
  </h2>
</div>
<p>With <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">promises</a>:</p>
<pre><code class="javascript"><span class="hljs-keyword">import</span> fetch <span class="hljs-keyword">from</span> <span class="hljs-string">'cross-fetch'</span>;
<span class="hljs-comment">// Or just: import 'cross-fetch/polyfill';</span>

fetch(<span class="hljs-string">'//api.github.com/users/lquixada'</span>)
  .then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (res.status &gt;= <span class="hljs-number">400</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Bad response from server"</span>);
    }
    <span class="hljs-keyword">return</span> res.json();
  })
  .then(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(user);
  })
  .catch(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.error(err);
  });
</code></pre>
<p>With <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function">async/await</a>:</p>
<pre><code class="javascript"><span class="hljs-keyword">import</span> fetch <span class="hljs-keyword">from</span> <span class="hljs-string">'cross-fetch'</span>;
<span class="hljs-comment">// Or just: import 'cross-fetch/polyfill';</span>

(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">'//api.github.com/users/lquixada'</span>);
    
    <span class="hljs-keyword">if</span> (res.status &gt;= <span class="hljs-number">400</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Bad response from server"</span>);
    }
    
    <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> res.json();
  
    <span class="hljs-built_in">console</span>.log(user);
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-built_in">console</span>.error(err);
  }
})();
</code></pre>
<blockquote>
<p>⚠️ <strong>Warning</strong>: If you're in an environment that doesn't support Promises such as Internet Explorer, you must install an ES6 Promise compatible polyfill. <a href="https://github.com/jakearchibald/es6-promise">es6-promise</a> is suggested.</p>
</blockquote>
<div class="pilwrap" id="demo-and-api">
  <h2>
    <a href="#demo-and-api" name="demo-and-api" class="pilcrow"></a>
Demo &amp; API
  </h2>
</div>
<p>You can find a comprehensive doc at <a href="https://github.github.io/fetch/">Github's fetch</a> page. If you want to play with cross-fetch, these resources can be useful:</p>
<ul>
<li><a href="https://jsfiddle.net/lquixada/3ypqgacp/"><strong>JSFiddle playground</strong></a> ➡️</li>
<li><a href="https://lquixada.github.io/cross-fetch/test/saucelabs/"><strong>Public test suite</strong></a> ➡️</li>
</ul>
<blockquote>
<p><strong>Tip</strong>: Run theses resources on various browsers and with different settings (for instance: cross-domain requests, wrong urls or text requests). Don't forget to open the console in the test suite page and play around.</p>
</blockquote>
<div class="pilwrap" id="faq">
  <h2>
    <a href="#faq" name="faq" class="pilcrow"></a>
FAQ
  </h2>
</div>
<div class="pilwrap" id="yet-another-fetch-library">
  <h4>
    <a href="#yet-another-fetch-library" name="yet-another-fetch-library" class="pilcrow"></a>
Yet another fetch library?
  </h4>
</div>
<p>I did a lot of research in order to find a fetch library that could be simple, cross-platorm and provide polyfill as an option. There's a plethora of libs out there but none could match those requirements.</p>
<div class="pilwrap" id="why-not-isomorphic-fetch">
  <h4>
    <a href="#why-not-isomorphic-fetch" name="why-not-isomorphic-fetch" class="pilcrow"></a>
Why not isomorphic-fetch?
  </h4>
</div>
<p>My preferred library used to be <a href="https://github.com/matthew-andrews/isomorphic-fetch">isomorphic-fetch</a> but it has this <a href="https://github.com/matthew-andrews/isomorphic-fetch/issues/125">bug</a> that prevents it from running in a react native environment. It seems it will never be fixed since the author hasn't been commiting for more than a year. That means dependencies are outdated as well.</p>
<div class="pilwrap" id="why-polyfill-might-not-be-a-good-idea">
  <h4>
    <a href="#why-polyfill-might-not-be-a-good-idea" name="why-polyfill-might-not-be-a-good-idea" class="pilcrow"></a>
Why polyfill might not be a good idea?
  </h4>
</div>
<p>In a word? Risk. If the spec changes in the future, it might be problematic to debug. Read more about it on <a href="https://github.com/sindresorhus/ponyfill#how-are-ponyfills-better-than-polyfills">sindresorhus's ponyfill</a> page. It's up to you if you're fine with it or not.</p>
<div class="pilwrap" id="how-does-cross-fetch-work">
  <h4>
    <a href="#how-does-cross-fetch-work" name="how-does-cross-fetch-work" class="pilcrow"></a>
How does cross-fetch work?
  </h4>
</div>
<p>Just like isomorphic-fetch, it is just a proxy. If you're in node, it delivers you the <a href="https://www.npmjs.com/package/node-fetch">node-fetch</a> library, if you're in a browser or React Native, it delivers you the github's <a href="https://github.com/github/fetch/">whatwg-fetch</a>. The same strategy applies whether you're using polyfill or ponyfill.</p>
<div class="pilwrap" id="whos-using-it">
  <h2>
    <a href="#whos-using-it" name="whos-using-it" class="pilcrow"></a>
Who's Using It?
  </h2>
</div>
<ul>
<li><a href="http://vulcanjs.org">VulcanJS</a></li>
<li><a href="https://github.com/graphcool/graphql-request">graphql-request</a></li>
<li><a href="https://swagger.io/">Swagger</a></li>
</ul>
<div class="pilwrap" id="supported-environments">
  <h2>
    <a href="#supported-environments" name="supported-environments" class="pilcrow"></a>
Supported environments
  </h2>
</div>
<ul>
<li>Node 6+</li>
<li>React-Native</li>
</ul>
<p><a href="https://saucelabs.com/u/cross-fetch"><img src="https://saucelabs.com/browser-matrix/cross-fetch.svg" alt="Build Status"></a></p>
<div class="pilwrap" id="thanks">
  <h2>
    <a href="#thanks" name="thanks" class="pilcrow"></a>
Thanks
  </h2>
</div>
<p>Heavily inspired by the works of <a href="https://github.com/matthew-andrews">matthew-andrews</a>. Kudos to him!</p>
<div class="pilwrap" id="license">
  <h2>
    <a href="#license" name="license" class="pilcrow"></a>
License
  </h2>
</div>
<p>cross-fetch is licensed under the <a href="https://github.com/lquixada/cross-fetch/blob/master/LICENSE">MIT license</a> © <a href="https://twitter.com/lquixada/">Leonardo Quixadá</a></p>
<div class="pilwrap" id="author">
  <h2>
    <a href="#author" name="author" class="pilcrow"></a>
Author
  </h2>
</div>
<table>
<thead>
<tr>
<th style="text-align:center"><a href="https://github.com/lquixada"><img src="https://avatars0.githubusercontent.com/u/195494?v=4&amp;s=96" alt="@lquixada"></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><a href="http://www.github.com/lquixada">@lquixada</a></td>
</tr>
</tbody>
</table>
<div class="pilwrap" id="sponsors">
  <h2>
    <a href="#sponsors" name="sponsors" class="pilcrow"></a>
Sponsors
  </h2>
</div>
<p>Manual cross-browser testing is provided by the following sponsor:</p>
<p><a href="https://www.browserstack.com/"><img src="./assets/browserstack-logo.png" alt="BrowserStack"></a></p>
</div>
  </div>
</body>
</html>
