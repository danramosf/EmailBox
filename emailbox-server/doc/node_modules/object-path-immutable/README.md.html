<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules\\object-path-immutable\\README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#object-path-immutable">object-path-immutable</a>
      </div>

      <div class="heading h2">
        <a href="#changelog">Changelog</a>
      </div>

      <div class="heading h3">
        <a href="#1.0">1.0</a>
      </div>

      <div class="heading h2">
        <a href="#install">Install</a>
      </div>

      <div class="heading h2">
        <a href="#quick-usage">Quick usage</a>
      </div>

      <div class="heading h2">
        <a href="#api">API</a>
      </div>

      <div class="heading h4">
        <a href="#set-initialobject-path-value">set (initialObject, path, value)</a>
      </div>

      <div class="heading h4">
        <a href="#update-initialobject-path-updater">update (initialObject, path, updater)</a>
      </div>

      <div class="heading h4">
        <a href="#push-initialobject-path-value">push (initialObject, path, value)</a>
      </div>

      <div class="heading h4">
        <a href="#delete-initialobject-path">delete (initialObject, path)</a>
      </div>

      <div class="heading h5">
        <a href="#assign-initialobject-path-payload">assign (initialObject, path, payload)</a>
      </div>

      <div class="heading h5">
        <a href="#insert-initialobject-path-payload-position">insert (initialObject, path, payload, position)</a>
      </div>

      <div class="heading h3">
        <a href="#equivalent-library-with-side-effects">Equivalent library with side effects</a>
      </div>

      <div class="heading h3">
        <a href="#credits">Credits</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><p><a href="https://travis-ci.org/mariocasciaro/object-path-immutable"><img src="https://img.shields.io/travis/mariocasciaro/object-path-immutable.svg?style=flat-square" alt="build"></a>
<a href="https://coveralls.io/r/mariocasciaro/object-path-immutable"><img src="https://img.shields.io/coveralls/mariocasciaro/object-path-immutable.svg?style=flat-square" alt="coverage"></a>
<a href="https://www.npmjs.com/package/object-path-immutable"><img src="https://img.shields.io/npm/dm/object-path-immutable.svg?style=flat-square" alt="downloads"></a>
<a href="https://www.npmjs.com/package/object-path-immutable"><img src="https://img.shields.io/npm/v/object-path-immutable.svg?style=flat-square" alt="version"></a>
<a href="https://david-dm.org/mariocasciaro/object-path-immutable#info=devDependencies"><img src="https://img.shields.io/david/dev/mariocasciaro/object-path-immutable.svg?style=flat-square" alt="devdeps"></a></p>
<div class="pilwrap" id="object-path-immutable">
  <h1>
    <a href="#object-path-immutable" name="object-path-immutable" class="pilcrow"></a>
object-path-immutable
  </h1>
</div>
<p>Tiny JS library to modify deep object properties without modifying the original object (immutability).
Works great with React (especially when using <code>setState()</code>) and Redux (inside a reducer).</p>
<p>This can be seen as a simpler and more intuitive alternative to the <em>React Immutability Helpers</em> and <em>Immutable.js</em>.</p>
<div class="pilwrap" id="changelog">
  <h2>
    <a href="#changelog" name="changelog" class="pilcrow"></a>
Changelog
  </h2>
</div>
<div class="pilwrap" id="1.0">
  <h3>
    <a href="#1.0" name="1.0" class="pilcrow"></a>
1.0
  </h3>
</div>
<ul>
<li><strong>Breaking change</strong>: The way the library handles empty paths has changed. Before this change,all the methods were returning the original object. The new behavior is as follows.
<ul>
<li><code>set(src, path, value)</code>: <code>value</code> is returned</li>
<li><code>update(src, path, updater)</code>: <code>value</code> will be passed to <code>updater()</code> and the result returned</li>
<li><code>set(src, path, ...values)</code>: <code>values</code> will be concatenated to <code>src</code> if <code>src</code> is an array, otherwise <code>values</code> will be returned</li>
<li><code>insert(src, path, value, at)</code>: if <code>src</code> is an array then it will be cloned and <code>value</code> will be inserted at <code>at</code>, otherwise <code>[value]</code> will be returned</li>
<li><code>del(src, path)</code>: returns <code>undefined</code></li>
<li><code>assign(src, path, target)</code>: Target is assigned to a clone of <code>src</code> and returned</li>
</ul>
</li>
</ul>
<div class="pilwrap" id="install">
  <h2>
    <a href="#install" name="install" class="pilcrow"></a>
Install
  </h2>
</div>
<pre><code>npm install object-path-immutable --save
</code></pre>
<div class="pilwrap" id="quick-usage">
  <h2>
    <a href="#quick-usage" name="quick-usage" class="pilcrow"></a>
Quick usage
  </h2>
</div>
<p>The following, sets a property without modifying the original object.
It will minimize the number of clones down the line. The resulting object is just a plain JS object literal,
so be warned that it will not be protected against property mutations (like <code>Immutable.js</code>)</p>
<pre><code class="javascript"><span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">a</span>: {
    <span class="hljs-attr">b</span>: <span class="hljs-string">'c'</span>,
    <span class="hljs-attr">c</span>: [<span class="hljs-string">'d'</span>, <span class="hljs-string">'f'</span>]
  }
}

<span class="hljs-keyword">const</span> newObj = immutable.set(obj, <span class="hljs-string">'a.b'</span>, <span class="hljs-string">'f'</span>)
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   a: {</span>
<span class="hljs-comment">//     b: 'f',</span>
<span class="hljs-comment">//     c: ['d', 'f']</span>
<span class="hljs-comment">//   }</span>
<span class="hljs-comment">// }</span>

<span class="hljs-comment">// obj !== newObj</span>
<span class="hljs-comment">// obj.a !== newObj.a</span>
<span class="hljs-comment">// obj.b !== newObj.b</span>

<span class="hljs-comment">// However:</span>
<span class="hljs-comment">// obj.c === newObj.c</span>
</code></pre>
<p>Note that you can also chain the api's and call <code>value()</code> at the end to retrieve the resulting object.</p>
<pre><code class="javascript"><span class="hljs-keyword">const</span> newObj = immutable(obj).set(<span class="hljs-string">'a.b'</span>, <span class="hljs-string">'f'</span>).del(<span class="hljs-string">'a.c.0'</span>).value()
</code></pre>
<div class="pilwrap" id="api">
  <h2>
    <a href="#api" name="api" class="pilcrow"></a>
API
  </h2>
</div>
<pre><code class="javascript"><span class="hljs-comment">// Premises</span>

<span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">a</span>: {
    <span class="hljs-attr">b</span>: <span class="hljs-string">'c'</span>,
    <span class="hljs-attr">c</span>: [<span class="hljs-string">'d'</span>, <span class="hljs-string">'f'</span>]
  }
}

<span class="hljs-keyword">import</span> immutable <span class="hljs-keyword">from</span> <span class="hljs-string">'object-path-immutable'</span>
</code></pre>
<div class="pilwrap" id="set-initialobject-path-value">
  <h4>
    <a href="#set-initialobject-path-value" name="set-initialobject-path-value" class="pilcrow"></a>
set (initialObject, path, value)
  </h4>
</div>
<p>Changes an object property.</p>
<ul>
<li>Path can be either a string or an array.</li>
</ul>
<pre><code class="javascript"><span class="hljs-keyword">const</span> newObj1 = immutable.set(obj, <span class="hljs-string">'a.b'</span>, <span class="hljs-string">'f'</span>)
<span class="hljs-keyword">const</span> newObj2 = immutable.set(obj, [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>], <span class="hljs-string">'f'</span>)

<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   a: {</span>
<span class="hljs-comment">//     b: 'f',</span>
<span class="hljs-comment">//     c: ['d', 'f']</span>
<span class="hljs-comment">//   }</span>
<span class="hljs-comment">// }</span>

<span class="hljs-comment">// Note that if the path is specified as a string, numbers are automatically interpreted as array indexes.</span>

<span class="hljs-keyword">const</span> newObj = immutable.set(obj, <span class="hljs-string">'a.c.1'</span>, <span class="hljs-string">'fooo'</span>)
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   a: {</span>
<span class="hljs-comment">//     b: 'f',</span>
<span class="hljs-comment">//     c: ['d', 'fooo']</span>
<span class="hljs-comment">//   }</span>
<span class="hljs-comment">// }</span>
</code></pre>
<div class="pilwrap" id="update-initialobject-path-updater">
  <h4>
    <a href="#update-initialobject-path-updater" name="update-initialobject-path-updater" class="pilcrow"></a>
update (initialObject, path, updater)
  </h4>
</div>
<p>Updates an object property.</p>
<pre><code class="javascript"><span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">a</span>: {
    <span class="hljs-attr">b</span>: <span class="hljs-number">1</span>,
  },
}

<span class="hljs-keyword">const</span> newObj = immutable.update(obj, [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>], v =&gt; v + <span class="hljs-number">1</span>)

<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   a: {</span>
<span class="hljs-comment">//     b: 2,</span>
<span class="hljs-comment">//   }</span>
<span class="hljs-comment">// }</span>
</code></pre>
<div class="pilwrap" id="push-initialobject-path-value">
  <h4>
    <a href="#push-initialobject-path-value" name="push-initialobject-path-value" class="pilcrow"></a>
push (initialObject, path, value)
  </h4>
</div>
<p>Push into a deep array (it will create intermediate objects/arrays if necessary).</p>
<pre><code class="javascript"><span class="hljs-keyword">const</span> newObj = immutable.push(obj, <span class="hljs-string">'a.d'</span>, <span class="hljs-string">'f'</span>)
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   a: {</span>
<span class="hljs-comment">//     b: 'f',</span>
<span class="hljs-comment">//     c: ['d', 'f'],</span>
<span class="hljs-comment">//     d: ['f']</span>
<span class="hljs-comment">//   }</span>
<span class="hljs-comment">// }</span>
</code></pre>
<div class="pilwrap" id="delete-initialobject-path">
  <h4>
    <a href="#delete-initialobject-path" name="delete-initialobject-path" class="pilcrow"></a>
delete (initialObject, path)
  </h4>
</div>
<p>Deletes a property.</p>
<pre><code class="javascript"><span class="hljs-keyword">const</span> newObj = immutable.del(obj, <span class="hljs-string">'a.c'</span>)
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   a: {</span>
<span class="hljs-comment">//     b: 'f'</span>
<span class="hljs-comment">//   }</span>
<span class="hljs-comment">// }</span>
</code></pre>
<p>Can also delete a deep array item using splice</p>
<pre><code class="javascript"><span class="hljs-keyword">const</span> newObj = immutable.del(obj, <span class="hljs-string">'a.c.0'</span>)
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   a: {</span>
<span class="hljs-comment">//     b: 'f',</span>
<span class="hljs-comment">//     c: ['f']</span>
<span class="hljs-comment">//   }</span>
<span class="hljs-comment">// }</span>
</code></pre>
<div class="pilwrap" id="assign-initialobject-path-payload">
  <h5>
    <a href="#assign-initialobject-path-payload" name="assign-initialobject-path-payload" class="pilcrow"></a>
assign (initialObject, path, payload)
  </h5>
</div>
<p>Shallow copy properties.</p>
<pre><code class="javascript"><span class="hljs-keyword">const</span> newObj = immutable.assign(obj, <span class="hljs-string">'a'</span>, { <span class="hljs-attr">b</span>: <span class="hljs-string">'f'</span>, <span class="hljs-attr">g</span>: <span class="hljs-string">'h'</span> })
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   a: {</span>
<span class="hljs-comment">//     b: 'f',</span>
<span class="hljs-comment">//     c: ['d, 'f'],</span>
<span class="hljs-comment">//     g: 'h'</span>
<span class="hljs-comment">//   }</span>
<span class="hljs-comment">// }</span>
</code></pre>
<div class="pilwrap" id="insert-initialobject-path-payload-position">
  <h5>
    <a href="#insert-initialobject-path-payload-position" name="insert-initialobject-path-payload-position" class="pilcrow"></a>
insert (initialObject, path, payload, position)
  </h5>
</div>
<p>Insert property at the specific array index.</p>
<pre><code class="javascript"><span class="hljs-keyword">const</span> newObj = immutable.insert(obj, <span class="hljs-string">'a.c'</span>, <span class="hljs-string">'k'</span>, <span class="hljs-number">1</span>)
<span class="hljs-comment">// var obj = {</span>
<span class="hljs-comment">//   a: {</span>
<span class="hljs-comment">//     b: 'c',</span>
<span class="hljs-comment">//     c: ['d, 'k' 'f'],</span>
<span class="hljs-comment">//   }</span>
<span class="hljs-comment">// }</span>
</code></pre>
<div class="pilwrap" id="equivalent-library-with-side-effects">
  <h3>
    <a href="#equivalent-library-with-side-effects" name="equivalent-library-with-side-effects" class="pilcrow"></a>
Equivalent library with side effects
  </h3>
</div>
<p><a href="https://github.com/mariocasciaro/object-path">object-path</a></p>
<div class="pilwrap" id="credits">
  <h3>
    <a href="#credits" name="credits" class="pilcrow"></a>
Credits
  </h3>
</div>
<ul>
<li><a href="https://github.com/mariocasciaro">Mario Casciaro</a> - Author</li>
</ul>
</div>
  </div>
</body>
</html>
