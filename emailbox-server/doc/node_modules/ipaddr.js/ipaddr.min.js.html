<!DOCTYPE html>
<html>
<head>
  <title>ipaddr.min.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules\\ipaddr.js\\ipaddr.min.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>ipaddr.min.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> r,t,n,e,i,o,a,s;t={},s=<span class="hljs-keyword">this</span>,<span class="hljs-string">"undefined"</span>!=<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span>&amp;&amp;<span class="hljs-literal">null</span>!==<span class="hljs-built_in">module</span>&amp;&amp;<span class="hljs-built_in">module</span>.exports?<span class="hljs-built_in">module</span>.exports=t:s.ipaddr=t,a=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r,t,n,e</span>)</span>{<span class="hljs-keyword">var</span> i,o;<span class="hljs-keyword">if</span>(r.length!==t.length)<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: cannot match CIDR for objects with different lengths"</span>);<span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;e&gt;<span class="hljs-number">0</span>;){<span class="hljs-keyword">if</span>((o=n-e)&lt;<span class="hljs-number">0</span>&amp;&amp;(o=<span class="hljs-number">0</span>),r[i]&gt;&gt;o!=t[i]&gt;&gt;o)<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;e-=n,i+=<span class="hljs-number">1</span>}<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>},t.subnetMatch=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r,t,n</span>)</span>{<span class="hljs-keyword">var</span> e,i,o,a,s;<span class="hljs-literal">null</span>==n&amp;&amp;(n=<span class="hljs-string">"unicast"</span>);<span class="hljs-keyword">for</span>(o <span class="hljs-keyword">in</span> t)<span class="hljs-keyword">for</span>(!(a=t[o])[<span class="hljs-number">0</span>]||a[<span class="hljs-number">0</span>]<span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>||(a=[a]),e=<span class="hljs-number">0</span>,i=a.length;e&lt;i;e++)<span class="hljs-keyword">if</span>(s=a[e],r.kind()===s[<span class="hljs-number">0</span>].kind()&amp;&amp;r.match.apply(r,s))<span class="hljs-keyword">return</span> o;<span class="hljs-keyword">return</span> n},t.IPv4=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">var</span> t,n,e;<span class="hljs-keyword">if</span>(<span class="hljs-number">4</span>!==r.length)<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: ipv4 octet count should be 4"</span>);<span class="hljs-keyword">for</span>(t=<span class="hljs-number">0</span>,n=r.length;t&lt;n;t++)<span class="hljs-keyword">if</span>(!(<span class="hljs-number">0</span>&lt;=(e=r[t])&amp;&amp;e&lt;=<span class="hljs-number">255</span>))<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: ipv4 octet should fit in 8 bits"</span>);<span class="hljs-keyword">this</span>.octets=r}<span class="hljs-keyword">return</span> r.prototype.kind=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"ipv4"</span>},r.prototype.toString=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.octets.join(<span class="hljs-string">"."</span>)},r.prototype.toNormalizedString=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.toString()},r.prototype.toByteArray=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.octets.slice(<span class="hljs-number">0</span>)},r.prototype.match=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r,t</span>)</span>{<span class="hljs-keyword">var</span> n;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>===t&amp;&amp;(r=(n=r)[<span class="hljs-number">0</span>],t=n[<span class="hljs-number">1</span>]),<span class="hljs-string">"ipv4"</span>!==r.kind())<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: cannot match ipv4 address with non-ipv4 one"</span>);<span class="hljs-keyword">return</span> a(<span class="hljs-keyword">this</span>.octets,r.octets,<span class="hljs-number">8</span>,t)},r.prototype.SpecialRanges={<span class="hljs-attr">unspecified</span>:[[<span class="hljs-keyword">new</span> r([<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">8</span>]],<span class="hljs-attr">broadcast</span>:[[<span class="hljs-keyword">new</span> r([<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">255</span>]),<span class="hljs-number">32</span>]],<span class="hljs-attr">multicast</span>:[[<span class="hljs-keyword">new</span> r([<span class="hljs-number">224</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">4</span>]],<span class="hljs-attr">linkLocal</span>:[[<span class="hljs-keyword">new</span> r([<span class="hljs-number">169</span>,<span class="hljs-number">254</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">16</span>]],<span class="hljs-attr">loopback</span>:[[<span class="hljs-keyword">new</span> r([<span class="hljs-number">127</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">8</span>]],<span class="hljs-attr">carrierGradeNat</span>:[[<span class="hljs-keyword">new</span> r([<span class="hljs-number">100</span>,<span class="hljs-number">64</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">10</span>]],<span class="hljs-attr">private</span>:[[<span class="hljs-keyword">new</span> r([<span class="hljs-number">10</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">8</span>],[<span class="hljs-keyword">new</span> r([<span class="hljs-number">172</span>,<span class="hljs-number">16</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">12</span>],[<span class="hljs-keyword">new</span> r([<span class="hljs-number">192</span>,<span class="hljs-number">168</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">16</span>]],<span class="hljs-attr">reserved</span>:[[<span class="hljs-keyword">new</span> r([<span class="hljs-number">192</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">24</span>],[<span class="hljs-keyword">new</span> r([<span class="hljs-number">192</span>,<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">24</span>],[<span class="hljs-keyword">new</span> r([<span class="hljs-number">192</span>,<span class="hljs-number">88</span>,<span class="hljs-number">99</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">24</span>],[<span class="hljs-keyword">new</span> r([<span class="hljs-number">198</span>,<span class="hljs-number">51</span>,<span class="hljs-number">100</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">24</span>],[<span class="hljs-keyword">new</span> r([<span class="hljs-number">203</span>,<span class="hljs-number">0</span>,<span class="hljs-number">113</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">24</span>],[<span class="hljs-keyword">new</span> r([<span class="hljs-number">240</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">4</span>]]},r.prototype.range=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> t.subnetMatch(<span class="hljs-keyword">this</span>,<span class="hljs-keyword">this</span>.SpecialRanges)},r.prototype.toIPv4MappedAddress=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> t.IPv6.parse(<span class="hljs-string">"::ffff:"</span>+<span class="hljs-keyword">this</span>.toString())},r.prototype.prefixLengthFromSubnetMask=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> r,t,n,e,i,o,a;<span class="hljs-keyword">for</span>(a={<span class="hljs-number">0</span>:<span class="hljs-number">8</span>,<span class="hljs-number">128</span>:<span class="hljs-number">7</span>,<span class="hljs-number">192</span>:<span class="hljs-number">6</span>,<span class="hljs-number">224</span>:<span class="hljs-number">5</span>,<span class="hljs-number">240</span>:<span class="hljs-number">4</span>,<span class="hljs-number">248</span>:<span class="hljs-number">3</span>,<span class="hljs-number">252</span>:<span class="hljs-number">2</span>,<span class="hljs-number">254</span>:<span class="hljs-number">1</span>,<span class="hljs-number">255</span>:<span class="hljs-number">0</span>},r=<span class="hljs-number">0</span>,i=!<span class="hljs-number">1</span>,t=n=<span class="hljs-number">3</span>;n&gt;=<span class="hljs-number">0</span>;t=n+=<span class="hljs-number">-1</span>){<span class="hljs-keyword">if</span>(!((e=<span class="hljs-keyword">this</span>.octets[t])<span class="hljs-keyword">in</span> a))<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">if</span>(o=a[e],i&amp;&amp;<span class="hljs-number">0</span>!==o)<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-number">8</span>!==o&amp;&amp;(i=!<span class="hljs-number">0</span>),r+=o}<span class="hljs-keyword">return</span> <span class="hljs-number">32</span>-r},r}(),n=<span class="hljs-string">"(0?\\d+|0x[a-f0-9]+)"</span>,e={<span class="hljs-attr">fourOctet</span>:<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span>+n+<span class="hljs-string">"\\."</span>+n+<span class="hljs-string">"\\."</span>+n+<span class="hljs-string">"\\."</span>+n+<span class="hljs-string">"$"</span>,<span class="hljs-string">"i"</span>),<span class="hljs-attr">longValue</span>:<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span>+n+<span class="hljs-string">"$"</span>,<span class="hljs-string">"i"</span>)},t.IPv4.parser=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">var</span> t,n,i,o,a;<span class="hljs-keyword">if</span>(n=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"0"</span>===r[<span class="hljs-number">0</span>]&amp;&amp;<span class="hljs-string">"x"</span>!==r[<span class="hljs-number">1</span>]?<span class="hljs-built_in">parseInt</span>(r,<span class="hljs-number">8</span>):<span class="hljs-built_in">parseInt</span>(r)},t=r.match(e.fourOctet))<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> r,e,o,a;<span class="hljs-keyword">for</span>(a=[],r=<span class="hljs-number">0</span>,e=(o=t.slice(<span class="hljs-number">1</span>,<span class="hljs-number">6</span>)).length;r&lt;e;r++)i=o[r],a.push(n(i));<span class="hljs-keyword">return</span> a}();<span class="hljs-keyword">if</span>(t=r.match(e.longValue)){<span class="hljs-keyword">if</span>((a=n(t[<span class="hljs-number">1</span>]))&gt;<span class="hljs-number">4294967295</span>||a&lt;<span class="hljs-number">0</span>)<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: address outside defined range"</span>);<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> r,t;<span class="hljs-keyword">for</span>(t=[],o=r=<span class="hljs-number">0</span>;r&lt;=<span class="hljs-number">24</span>;o=r+=<span class="hljs-number">8</span>)t.push(a&gt;&gt;o&amp;<span class="hljs-number">255</span>);<span class="hljs-keyword">return</span> t}().reverse()}<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>},t.IPv6=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span>(<span class="hljs-params">r,t</span>)</span>{<span class="hljs-keyword">var</span> n,e,i,o,a,s;<span class="hljs-keyword">if</span>(<span class="hljs-number">16</span>===r.length)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">this</span>.parts=[],n=e=<span class="hljs-number">0</span>;e&lt;=<span class="hljs-number">14</span>;n=e+=<span class="hljs-number">2</span>)<span class="hljs-keyword">this</span>.parts.push(r[n]&lt;&lt;<span class="hljs-number">8</span>|r[n+<span class="hljs-number">1</span>]);<span class="hljs-keyword">else</span>{<span class="hljs-keyword">if</span>(<span class="hljs-number">8</span>!==r.length)<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: ipv6 part count should be 8 or 16"</span>);<span class="hljs-keyword">this</span>.parts=r}<span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>,o=(s=<span class="hljs-keyword">this</span>.parts).length;i&lt;o;i++)<span class="hljs-keyword">if</span>(!(<span class="hljs-number">0</span>&lt;=(a=s[i])&amp;&amp;a&lt;=<span class="hljs-number">65535</span>))<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: ipv6 part should fit in 16 bits"</span>);t&amp;&amp;(<span class="hljs-keyword">this</span>.zoneId=t)}<span class="hljs-keyword">return</span> r.prototype.kind=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"ipv6"</span>},r.prototype.toString=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.toNormalizedString().replace(<span class="hljs-regexp">/((^|:)(0(:|$))+)/</span>,<span class="hljs-string">"::"</span>)},r.prototype.toByteArray=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> r,t,n,e,i;<span class="hljs-keyword">for</span>(r=[],t=<span class="hljs-number">0</span>,n=(i=<span class="hljs-keyword">this</span>.parts).length;t&lt;n;t++)e=i[t],r.push(e&gt;&gt;<span class="hljs-number">8</span>),r.push(<span class="hljs-number">255</span>&amp;e);<span class="hljs-keyword">return</span> r},r.prototype.toNormalizedString=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> r,t,n;<span class="hljs-keyword">return</span> r=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> r,n,e,i;<span class="hljs-keyword">for</span>(i=[],r=<span class="hljs-number">0</span>,n=(e=<span class="hljs-keyword">this</span>.parts).length;r&lt;n;r++)t=e[r],i.push(t.toString(<span class="hljs-number">16</span>));<span class="hljs-keyword">return</span> i}.call(<span class="hljs-keyword">this</span>).join(<span class="hljs-string">":"</span>),n=<span class="hljs-string">""</span>,<span class="hljs-keyword">this</span>.zoneId&amp;&amp;(n=<span class="hljs-string">"%"</span>+<span class="hljs-keyword">this</span>.zoneId),r+n},r.prototype.match=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r,t</span>)</span>{<span class="hljs-keyword">var</span> n;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>===t&amp;&amp;(r=(n=r)[<span class="hljs-number">0</span>],t=n[<span class="hljs-number">1</span>]),<span class="hljs-string">"ipv6"</span>!==r.kind())<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: cannot match ipv6 address with non-ipv6 one"</span>);<span class="hljs-keyword">return</span> a(<span class="hljs-keyword">this</span>.parts,r.parts,<span class="hljs-number">16</span>,t)},r.prototype.SpecialRanges={<span class="hljs-attr">unspecified</span>:[<span class="hljs-keyword">new</span> r([<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">128</span>],<span class="hljs-attr">linkLocal</span>:[<span class="hljs-keyword">new</span> r([<span class="hljs-number">65152</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">10</span>],<span class="hljs-attr">multicast</span>:[<span class="hljs-keyword">new</span> r([<span class="hljs-number">65280</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">8</span>],<span class="hljs-attr">loopback</span>:[<span class="hljs-keyword">new</span> r([<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>]),<span class="hljs-number">128</span>],<span class="hljs-attr">uniqueLocal</span>:[<span class="hljs-keyword">new</span> r([<span class="hljs-number">64512</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">7</span>],<span class="hljs-attr">ipv4Mapped</span>:[<span class="hljs-keyword">new</span> r([<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">65535</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">96</span>],<span class="hljs-attr">rfc6145</span>:[<span class="hljs-keyword">new</span> r([<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">65535</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">96</span>],<span class="hljs-attr">rfc6052</span>:[<span class="hljs-keyword">new</span> r([<span class="hljs-number">100</span>,<span class="hljs-number">65435</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">96</span>],<span class="hljs-string">"6to4"</span>:[<span class="hljs-keyword">new</span> r([<span class="hljs-number">8194</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">16</span>],<span class="hljs-attr">teredo</span>:[<span class="hljs-keyword">new</span> r([<span class="hljs-number">8193</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">32</span>],<span class="hljs-attr">reserved</span>:[[<span class="hljs-keyword">new</span> r([<span class="hljs-number">8193</span>,<span class="hljs-number">3512</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]),<span class="hljs-number">32</span>]]},r.prototype.range=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> t.subnetMatch(<span class="hljs-keyword">this</span>,<span class="hljs-keyword">this</span>.SpecialRanges)},r.prototype.isIPv4MappedAddress=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"ipv4Mapped"</span>===<span class="hljs-keyword">this</span>.range()},r.prototype.toIPv4Address=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> r,n,e;<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.isIPv4MappedAddress())<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: trying to convert a generic ipv6 address to ipv4"</span>);<span class="hljs-keyword">return</span> e=<span class="hljs-keyword">this</span>.parts.slice(<span class="hljs-number">-2</span>),r=e[<span class="hljs-number">0</span>],n=e[<span class="hljs-number">1</span>],<span class="hljs-keyword">new</span> t.IPv4([r&gt;&gt;<span class="hljs-number">8</span>,<span class="hljs-number">255</span>&amp;r,n&gt;&gt;<span class="hljs-number">8</span>,<span class="hljs-number">255</span>&amp;n])},r.prototype.prefixLengthFromSubnetMask=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> r,t,n,e,i,o,a;<span class="hljs-keyword">for</span>(a={<span class="hljs-number">0</span>:<span class="hljs-number">16</span>,<span class="hljs-number">32768</span>:<span class="hljs-number">15</span>,<span class="hljs-number">49152</span>:<span class="hljs-number">14</span>,<span class="hljs-number">57344</span>:<span class="hljs-number">13</span>,<span class="hljs-number">61440</span>:<span class="hljs-number">12</span>,<span class="hljs-number">63488</span>:<span class="hljs-number">11</span>,<span class="hljs-number">64512</span>:<span class="hljs-number">10</span>,<span class="hljs-number">65024</span>:<span class="hljs-number">9</span>,<span class="hljs-number">65280</span>:<span class="hljs-number">8</span>,<span class="hljs-number">65408</span>:<span class="hljs-number">7</span>,<span class="hljs-number">65472</span>:<span class="hljs-number">6</span>,<span class="hljs-number">65504</span>:<span class="hljs-number">5</span>,<span class="hljs-number">65520</span>:<span class="hljs-number">4</span>,<span class="hljs-number">65528</span>:<span class="hljs-number">3</span>,<span class="hljs-number">65532</span>:<span class="hljs-number">2</span>,<span class="hljs-number">65534</span>:<span class="hljs-number">1</span>,<span class="hljs-number">65535</span>:<span class="hljs-number">0</span>},r=<span class="hljs-number">0</span>,i=!<span class="hljs-number">1</span>,t=n=<span class="hljs-number">7</span>;n&gt;=<span class="hljs-number">0</span>;t=n+=<span class="hljs-number">-1</span>){<span class="hljs-keyword">if</span>(!((e=<span class="hljs-keyword">this</span>.parts[t])<span class="hljs-keyword">in</span> a))<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">if</span>(o=a[e],i&amp;&amp;<span class="hljs-number">0</span>!==o)<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-number">16</span>!==o&amp;&amp;(i=!<span class="hljs-number">0</span>),r+=o}<span class="hljs-keyword">return</span> <span class="hljs-number">128</span>-r},r}(),i=<span class="hljs-string">"(?:[0-9a-f]+::?)+"</span>,o={<span class="hljs-attr">zoneIndex</span>:<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"%[0-9a-z]{1,}"</span>,<span class="hljs-string">"i"</span>),<span class="hljs-attr">native</span>:<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^(::)?("</span>+i+<span class="hljs-string">")?([0-9a-f]+)?(::)?(%[0-9a-z]{1,})?$"</span>,<span class="hljs-string">"i"</span>),<span class="hljs-attr">transitional</span>:<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^((?:"</span>+i+<span class="hljs-string">")|(?:::)(?:"</span>+i+<span class="hljs-string">")?)"</span>+n+<span class="hljs-string">"\\."</span>+n+<span class="hljs-string">"\\."</span>+n+<span class="hljs-string">"\\."</span>+n+<span class="hljs-string">"(%[0-9a-z]{1,})?$"</span>,<span class="hljs-string">"i"</span>)},r=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r,t</span>)</span>{<span class="hljs-keyword">var</span> n,e,i,a,s,p;<span class="hljs-keyword">if</span>(r.indexOf(<span class="hljs-string">"::"</span>)!==r.lastIndexOf(<span class="hljs-string">"::"</span>))<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">for</span>((p=(r.match(o.zoneIndex)||[])[<span class="hljs-number">0</span>])&amp;&amp;(p=p.substring(<span class="hljs-number">1</span>),r=r.replace(<span class="hljs-regexp">/%.+$/</span>,<span class="hljs-string">""</span>)),n=<span class="hljs-number">0</span>,e=<span class="hljs-number">-1</span>;(e=r.indexOf(<span class="hljs-string">":"</span>,e+<span class="hljs-number">1</span>))&gt;=<span class="hljs-number">0</span>;)n++;<span class="hljs-keyword">if</span>(<span class="hljs-string">"::"</span>===r.substr(<span class="hljs-number">0</span>,<span class="hljs-number">2</span>)&amp;&amp;n--,<span class="hljs-string">"::"</span>===r.substr(<span class="hljs-number">-2</span>,<span class="hljs-number">2</span>)&amp;&amp;n--,n&gt;t)<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">for</span>(s=t-n,a=<span class="hljs-string">":"</span>;s--;)a+=<span class="hljs-string">"0:"</span>;<span class="hljs-keyword">return</span><span class="hljs-string">":"</span>===(r=r.replace(<span class="hljs-string">"::"</span>,a))[<span class="hljs-number">0</span>]&amp;&amp;(r=r.slice(<span class="hljs-number">1</span>)),<span class="hljs-string">":"</span>===r[r.length<span class="hljs-number">-1</span>]&amp;&amp;(r=r.slice(<span class="hljs-number">0</span>,<span class="hljs-number">-1</span>)),t=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t,n,e,o;<span class="hljs-keyword">for</span>(o=[],t=<span class="hljs-number">0</span>,n=(e=r.split(<span class="hljs-string">":"</span>)).length;t&lt;n;t++)i=e[t],o.push(<span class="hljs-built_in">parseInt</span>(i,<span class="hljs-number">16</span>));<span class="hljs-keyword">return</span> o}(),{<span class="hljs-attr">parts</span>:t,<span class="hljs-attr">zoneId</span>:p}},t.IPv6.parser=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> n,e,i,a,s,p,u;<span class="hljs-keyword">if</span>(o.native.test(t))<span class="hljs-keyword">return</span> r(t,<span class="hljs-number">8</span>);<span class="hljs-keyword">if</span>((a=t.match(o.transitional))&amp;&amp;(u=a[<span class="hljs-number">6</span>]||<span class="hljs-string">""</span>,(n=r(a[<span class="hljs-number">1</span>].slice(<span class="hljs-number">0</span>,<span class="hljs-number">-1</span>)+u,<span class="hljs-number">6</span>)).parts)){<span class="hljs-keyword">for</span>(e=<span class="hljs-number">0</span>,i=(p=[<span class="hljs-built_in">parseInt</span>(a[<span class="hljs-number">2</span>]),<span class="hljs-built_in">parseInt</span>(a[<span class="hljs-number">3</span>]),<span class="hljs-built_in">parseInt</span>(a[<span class="hljs-number">4</span>]),<span class="hljs-built_in">parseInt</span>(a[<span class="hljs-number">5</span>])]).length;e&lt;i;e++)<span class="hljs-keyword">if</span>(!(<span class="hljs-number">0</span>&lt;=(s=p[e])&amp;&amp;s&lt;=<span class="hljs-number">255</span>))<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">return</span> n.parts.push(p[<span class="hljs-number">0</span>]&lt;&lt;<span class="hljs-number">8</span>|p[<span class="hljs-number">1</span>]),n.parts.push(p[<span class="hljs-number">2</span>]&lt;&lt;<span class="hljs-number">8</span>|p[<span class="hljs-number">3</span>]),{<span class="hljs-attr">parts</span>:n.parts,<span class="hljs-attr">zoneId</span>:n.zoneId}}<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>},t.IPv4.isIPv4=t.IPv6.isIPv6=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>!==<span class="hljs-keyword">this</span>.parser(r)},t.IPv4.isValid=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">try</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>(<span class="hljs-keyword">this</span>.parser(r)),!<span class="hljs-number">0</span>}<span class="hljs-keyword">catch</span>(r){<span class="hljs-keyword">return</span> r,!<span class="hljs-number">1</span>}},t.IPv4.isValidFourPartDecimal=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">return</span>!(!t.IPv4.isValid(r)||!r.match(<span class="hljs-regexp">/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/</span>))},t.IPv6.isValid=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">var</span> t;<span class="hljs-keyword">if</span>(<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> r&amp;&amp;<span class="hljs-number">-1</span>===r.indexOf(<span class="hljs-string">":"</span>))<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;<span class="hljs-keyword">try</span>{<span class="hljs-keyword">return</span> t=<span class="hljs-keyword">this</span>.parser(r),<span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>(t.parts,t.zoneId),!<span class="hljs-number">0</span>}<span class="hljs-keyword">catch</span>(r){<span class="hljs-keyword">return</span> r,!<span class="hljs-number">1</span>}},t.IPv4.parse=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">var</span> t;<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>===(t=<span class="hljs-keyword">this</span>.parser(r)))<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: string is not formatted like ip address"</span>);<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>(t)},t.IPv6.parse=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">var</span> t;<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>===(t=<span class="hljs-keyword">this</span>.parser(r)).parts)<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: string is not formatted like ip address"</span>);<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>(t.parts,t.zoneId)},t.IPv4.parseCIDR=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">var</span> t,n,e;<span class="hljs-keyword">if</span>((n=r.match(<span class="hljs-regexp">/^(.+)\/(\d+)$/</span>))&amp;&amp;(t=<span class="hljs-built_in">parseInt</span>(n[<span class="hljs-number">2</span>]))&gt;=<span class="hljs-number">0</span>&amp;&amp;t&lt;=<span class="hljs-number">32</span>)<span class="hljs-keyword">return</span> e=[<span class="hljs-keyword">this</span>.parse(n[<span class="hljs-number">1</span>]),t],<span class="hljs-built_in">Object</span>.defineProperty(e,<span class="hljs-string">"toString"</span>,{<span class="hljs-attr">value</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.join(<span class="hljs-string">"/"</span>)}}),e;<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: string is not formatted like an IPv4 CIDR range"</span>)},t.IPv4.subnetMaskFromPrefixLength=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">var</span> t,n,e;<span class="hljs-keyword">if</span>((r=<span class="hljs-built_in">parseInt</span>(r))&lt;<span class="hljs-number">0</span>||r&gt;<span class="hljs-number">32</span>)<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: invalid IPv4 prefix length"</span>);<span class="hljs-keyword">for</span>(e=[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>],n=<span class="hljs-number">0</span>,t=<span class="hljs-built_in">Math</span>.floor(r/<span class="hljs-number">8</span>);n&lt;t;)e[n]=<span class="hljs-number">255</span>,n++;<span class="hljs-keyword">return</span> t&lt;<span class="hljs-number">4</span>&amp;&amp;(e[t]=<span class="hljs-built_in">Math</span>.pow(<span class="hljs-number">2</span>,r%<span class="hljs-number">8</span>)<span class="hljs-number">-1</span>&lt;&lt;<span class="hljs-number">8</span>-r%<span class="hljs-number">8</span>),<span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>(e)},t.IPv4.broadcastAddressFromCIDR=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">var</span> t,n,e,i,o;<span class="hljs-keyword">try</span>{<span class="hljs-keyword">for</span>(e=(t=<span class="hljs-keyword">this</span>.parseCIDR(r))[<span class="hljs-number">0</span>].toByteArray(),o=<span class="hljs-keyword">this</span>.subnetMaskFromPrefixLength(t[<span class="hljs-number">1</span>]).toByteArray(),i=[],n=<span class="hljs-number">0</span>;n&lt;<span class="hljs-number">4</span>;)i.push(<span class="hljs-built_in">parseInt</span>(e[n],<span class="hljs-number">10</span>)|<span class="hljs-number">255</span>^<span class="hljs-built_in">parseInt</span>(o[n],<span class="hljs-number">10</span>)),n++;<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>(i)}<span class="hljs-keyword">catch</span>(r){<span class="hljs-keyword">throw</span> r,<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: the address does not have IPv4 CIDR format"</span>)}},t.IPv4.networkAddressFromCIDR=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">var</span> t,n,e,i,o;<span class="hljs-keyword">try</span>{<span class="hljs-keyword">for</span>(e=(t=<span class="hljs-keyword">this</span>.parseCIDR(r))[<span class="hljs-number">0</span>].toByteArray(),o=<span class="hljs-keyword">this</span>.subnetMaskFromPrefixLength(t[<span class="hljs-number">1</span>]).toByteArray(),i=[],n=<span class="hljs-number">0</span>;n&lt;<span class="hljs-number">4</span>;)i.push(<span class="hljs-built_in">parseInt</span>(e[n],<span class="hljs-number">10</span>)&amp;<span class="hljs-built_in">parseInt</span>(o[n],<span class="hljs-number">10</span>)),n++;<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>(i)}<span class="hljs-keyword">catch</span>(r){<span class="hljs-keyword">throw</span> r,<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: the address does not have IPv4 CIDR format"</span>)}},t.IPv6.parseCIDR=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">var</span> t,n,e;<span class="hljs-keyword">if</span>((n=r.match(<span class="hljs-regexp">/^(.+)\/(\d+)$/</span>))&amp;&amp;(t=<span class="hljs-built_in">parseInt</span>(n[<span class="hljs-number">2</span>]))&gt;=<span class="hljs-number">0</span>&amp;&amp;t&lt;=<span class="hljs-number">128</span>)<span class="hljs-keyword">return</span> e=[<span class="hljs-keyword">this</span>.parse(n[<span class="hljs-number">1</span>]),t],<span class="hljs-built_in">Object</span>.defineProperty(e,<span class="hljs-string">"toString"</span>,{<span class="hljs-attr">value</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.join(<span class="hljs-string">"/"</span>)}}),e;<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: string is not formatted like an IPv6 CIDR range"</span>)},t.isValid=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">return</span> t.IPv6.isValid(r)||t.IPv4.isValid(r)},t.parse=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">if</span>(t.IPv6.isValid(r))<span class="hljs-keyword">return</span> t.IPv6.parse(r);<span class="hljs-keyword">if</span>(t.IPv4.isValid(r))<span class="hljs-keyword">return</span> t.IPv4.parse(r);<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: the address has neither IPv6 nor IPv4 format"</span>)},t.parseCIDR=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">try</span>{<span class="hljs-keyword">return</span> t.IPv6.parseCIDR(r)}<span class="hljs-keyword">catch</span>(n){n;<span class="hljs-keyword">try</span>{<span class="hljs-keyword">return</span> t.IPv4.parseCIDR(r)}<span class="hljs-keyword">catch</span>(r){<span class="hljs-keyword">throw</span> r,<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: the address has neither IPv6 nor IPv4 CIDR format"</span>)}}},t.fromByteArray=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">var</span> n;<span class="hljs-keyword">if</span>(<span class="hljs-number">4</span>===(n=r.length))<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> t.IPv4(r);<span class="hljs-keyword">if</span>(<span class="hljs-number">16</span>===n)<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> t.IPv6(r);<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ipaddr: the binary input is neither an IPv6 nor IPv4 address"</span>)},t.process=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">var</span> t;<span class="hljs-keyword">return</span><span class="hljs-string">"ipv6"</span>===(t=<span class="hljs-keyword">this</span>.parse(r)).kind()&amp;&amp;t.isIPv4MappedAddress()?t.toIPv4Address():t}}).call(<span class="hljs-keyword">this</span>);
</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
